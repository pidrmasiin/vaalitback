{"version":3,"sources":["components/yle/vanhatvastaukset.csv","components/parliament2019/funds/rahoitus.csv","components/yle/2019/avoin_2019.csv","components/form/FormInput.js","components/form/TextArea.js","components/form/TextEditon.js","reducers/htmlReducer.js","reducers/kysymysReducer.js","reducers/notifyReducer.js","components/Notification.js","services/kysymys.js","services/yle.js","reducers/ylenKysymyksetReducer.js","components/form/HtmlForm.js","components/SipilaHome.js","components/general/InfoAccordion.js","components/general/InfoBar.js","components/general/SimpleOpinionChart.js","components/parliament2019/yle2019/SimpleYleChart.js","components/general/memberAliases.js","components/parliament2019/funds/SingleQuestionChartAndTable.js","components/parliament2019/funds/OpinonToFunds.js","components/parliament2019/funds/parseFundFile.js","components/parliament2019/funds/FundsModal.js","components/parliament2019/SingleQuestionData.js","components/general/partiesCounts.js","components/parliament2019/parties/Parties.js","services/speak.js","components/general/SpeakExploer.js","components/general/NewstQuestions.js","components/Home.js","components/Info.js","components/MachineMenu.js","reducers/kayttajaReducer.js","components/yle/ylesQuestionsCategories.js","components/yleParties/AnswersPopup.js","components/yleParties/OneResult.js","components/questions/MembersAnswers.js","components/yle/promiseShow.js","components/AnswersTable.js","components/europa/FinnishMembers.js","components/europa/euroAnswers.js","components/nolansMap/NolansMap.js","components/Machine.js","components/SipilaSettings.js","components/europa/euroSettings.js","components/questions/Questions.js","components/yle/Answers.js","components/yleParties/YleKannat.js","reducers/edustajaReducer.js","components/yle/FindAnswer.js","components/yle/2019/OpinionChart.js","services/yle2019.js","reducers/yle2019Reducer.js","components/yle/2019/HeadsUpYle.js","components/yle/partiesPromises.js","services/kategoria.js","components/kategoriat/UusiKategoria.js","reducers/kategoriatReducer.js","components/kategoriat/Kategoriat.js","components/kategoriat/YleKategoriat.js","components/kategoriat/Kategoria.js","components/questions/Question.js","components/europa/Eu2019.js","services/login.js","reducers/userReducer.js","components/Login.js","reducers/kysymyksetReducer.js","components/europa/EuroInfo.js","components/general/parseYleQuestions.js","components/parliament2019/parties/PartiesHome.js","components/parliament2019/speaks/AddSpeak.js","components/parliament2019/speaks/Speaks.js","components/parliament2019/speaks/Speak.js","App.js","store.js","index.js"],"names":["module","exports","FormInput","placeholder","name","label","checkExist","className","Input","type","onChange","TextArea","rows","cols","form","MyEditor","props","state","editorState","EditorState","createEmpty","setState","handleKeyCommand","bind","command","newState","RichUtils","this","toggleInlineStyle","convertToRaw","getCurrentContent","onClick","_onBoldClick","style","borderStyle","readOnly","value","JSON","stringify","convertRaw","hidden","React","Component","intialState","puolueet","edustajat","htmlReducer","store","action","html","initialState","kysymys","selitys","url","kategoriat","vuosi","vastaus","tunniste","yle2019","explain","kysymysReducer","details","hot","kysymyksenAsettelu","jaaLiberal","jaaLeftist","jaaGreen","notifyCreation","content","time","dispatch","a","notify","setTimeout","notifyReducer","Notification","componentDidMount","divStyle","color","background","fontSize","borderRadius","padding","marginBottom","ConnectedNotification","connect","baseUrl","token","getAll","axios","get","response","data","setToken","newToken","addKysymys","newObject","console","log","config","headers","Authorization","post","remove","id","delete","addKategoria","modifyKysymys","put","kysymykset","getYlenKysymykset","yleService","all","ylenKysymyksetReducer","HtmlForm","componentWillMount","ylenKysymykset","window","location","assign","onSubmit","e","handleDetails","handleHtml","handlePuolueet","handleEdustajat","addKatet","includes","loggedUserJSON","localStorage","getItem","kysymysService","parse","doc","DOMParser","parseFromString","getElementsByTagName","i","puolue","nimi","cells","innerHTML","jaa","Number","replace","ei","tyhjia","kanta","Object","keys","reduce","b","poissa","yhteensa","filter","p","length","push","addPuolueet","edustaja","addEdustajat","preventDefault","target","htmlEdustajat","htmlPuolueet","green","addDetails","map","k","document","getElementById","checked","idt","addKategoriat","handleJaaLiberal","handleJaaLeftist","handleGreen","disClick","field","validateTunniste","toLowerCase","trim","exist","yle2019Questions","active","indeterminate","slice","Set","values","x","text","yleValues2019","compact","toggle","handleHot","radio","key","handleChange","fluid","search","selection","options","handleRistiriita","positive","ReactGA","initialize","pageview","pathname","SipilaHome","activeIndex","handleClick","titleProps","index","newIndex","marginRight","rel","href","Link","to","display","paddingTop","paddingBottom","Title","Content","marginLeft","InfoAccordion","activeInfo","iconSize","size","endLink","title","question","createWithContent","convertFromRaw","InfoBar","SimpleOpinionChart","dashboard","chartId","d3","selectAll","fData","segColor","c","forEach","d","total","freq","tF","t","hG","fD","hGDim","r","l","w","h","hGsvg","append","attr","rangeRound","domain","paddingInner","call","tickFormat","y","range","bars","enter","bandwidth","State","barColor","on","st","s","nD","pC","update","leg","select","transition","duration","histoGram","pD","pieDim","Math","min","piesvg","arc","outerRadius","innerRadius","pie","sort","arcTween","_current","each","v","attrTween","pieChart","lD","legend","tr","getLegend","aD","questions","SimpleYleChart","opinions","party","parties","member","opinonsHelper","yleQuestion","o","yleOpionNumber","opinion","parseParties","getColor","aTotal","aliases","SingleQuestionChartAndTable","selectedPartyData","selectedPartyMembers","funds","selectedParty","innerWidth","striped","Header","Row","HeaderCell","sum","Body","Cell","members","round","marginTop","datasets","backgroundColor","hoverBackgroundColor","width","alias","toUpperCase","funder","BubbleChart","uniqParties","parseParty","jaaMoney","eiMoney","eosMoney","memebersWithOpinion","setOpinion","acc","val","opinon","find","handlePartyChange","dropParties","textAlign","scrolling","fontWeight","borderTop","ParseFunds","Papa","csv","header","download","complete","handelFunds","results","fundPersons","substring","parsedFunds","parseFunds","memberFunds","selectFunder","element","parseInt","removeDots","fund","str","done","OpinonToFunds","FundModal","trigger","basic","SingleQuestionData","questionIndex","setQuestionData","questionData","parseQuestion","q","handleOpen","handleClose","createdAt","handleQuestionChange","height","exampleData","partiesCount","Parties","widthHeight","parliament","innerRadiusCoef","fromCenter","smallToBig","exit","toCenter","bigToSmall","seats","datum","parliamentDispatch","getBoundingClientRect","outerParliamentRadius","innerParliementRadius","svg","nSeats","floor","nRows","maxSeatNumber","series","PI","rowWidth","seatsToRemove","rowRadius","rowSeats","anglePerSeat","j","polar","teta","cartesian","cos","sin","partyIndex","seatIndex","nSeatsInParty","seatClasses","seatX","seatY","seatRadius","container","empty","classed","circles","circlesEnter","random","evt","_","animate","circlesUpdate","arguments","callback","n","getOne","addSpeak","editSpeak","SpeakExplorer","speak","speakId","speakService","Date","speakerIndex","speakIndex","speaks","intervalId","setInterval","clearInterval","personSpeak","detail","status","nameParty","first","last","explainQuestion","split","delay","inline","NewestQuestions","visible","setQuestions","setAttribute","answer","result","nextQuestion","backward","updateQuestion","updateQuestionIndex","userOpinion","Column","paddingRight","animation","sourceType","screenName","Home","Info","MachineMenu","paddingLeft","Group","centered","margin","src","Meta","Description","aanet","euroParties","url2","kayttajaReducer","filtered","eu","old","AnswersPopup","activePage","totalPages","answers","open","handleInputChange","handlePaginationChange","close","sliceIndex","desktop","onOpen","onClose","primary","icon","right","position","onPageChange","firstItem","lastItem","prevItem","nextItem","celled","OneResult","eit","jaat","kannat","red","etunimi","sukunimi","toString","Actions","Members","panes","out","sliced","chunkArray","menuItem","render","Pane","parseName","myArray","chunk","arrayLength","tempArray","myChunk","dimmer","PromiseShow","next","previous","plus","toggleModal","circular","AnswersTable","monta","kayttaja","show","order","orderBy","parseOpinion","capitalize","string","charAt","leaderName","leaderSpeakman","alt","inverted","horizontal","clearing","user","addPuolue","FinnishMembers","selectedQuestion","finnishParties","handleQuestion","loyal","euros","multiple","EuroAnswers","NolansMap","valuesCount","greenCount","economicsCount","maxDataValue","dataSets","selectParties","partiesData","borderColor","selectedParties","allParties","info","dataToRadar","valueQuestions","hasOwnProperty","economicQuestions","greenQuestions","setValuesToDataset","user_party","setValuesToDataHelper","setDataToPartyHelper","partiesDataCopy","orginalValue","set","handleParties","parti","copy","categories","children","layout","labels","Machine","body","scrollTop","documentElement","filterQuestions","satunnainenKysymys","shuffle","howMany","monesko","selected_categories","handledQuestions","selectedMachineQuestions","some","cat","array","temporaryValue","randomIndex","currentIndex","naytaKysymys","tulokset","jaaPuolueet","addEuroVastaus","addVastaus","buttonSize","as","_id","extra","SipilaSettings","renderMachine","hotQuestions","number","handleHotquestions","showHowMany","handleCategories","categ","handleNumber","kateg","EuroSettings","linkStyle","Questions","confirm","error","euroQuestions","selectable","Vastaukset","tiedot","nayta","YleKannat","edustajaReducer","EtsiVastaus","etsi","addEdustaja","err","muodosta","piilotaKannat","change","valuesP","OpinionChart","dataByParty","counts","meta","fields","desktopStyle","maxWidth","minHeight","top","addYle","getYle2019","yle2019Service","yle2019Reducer","HeadsUpYle","ans","yle","saarikko","kulmuni","pinned","wide","Promises","kd","vastausKategoriat","sosiaalipolitiikka","kaupansaantely","tyoehdot","talouspolitiikka","verotus","turvallisuus","maahanmuutto","ulkopolitiikka","yksityisyys","ymparisto","hallinto","koulutus","UusiKategoria","kategoria","katet","vastaukset","kategoriaService","getKategoriat","kategoriatService","kategoriatReducer","concat","Kategoriat","YleKategoriat","Kategoria","divided","unstackable","Kysymys","muokkaa","muokattava","asettelu","booleans","muutos","onKategoriat","showBooleans","handleAsettelu","showYle","handleYle","yles","Or","defaultChecked","List","Item","Extra","Eu2019","finnishHtml","euFinnishHtml","euPartiesHtml","toDB","reload","euHtml","innerText","maxBy","firstChild","setParties","councils","council","copyParties","getOpinion","vote","login","credentials","userReducer","Login","loginService","username","password","setItem","userLogin","getKysymykset","kysymyksetReducer","EuroInfo","slicedQ","singlePartyOpinion","mem","singleYleOpinion","yleQuestions","qid","yleQue","party2","AddSpeak","saveSpeak","parser","questionExplain","getElementsByClassName","htmlSpeak","speaksOutsArray","speaksOut","speakToAdd","Speaks","undefined","App","kysymysById","kategoriaById","logout","removeItem","prevScrollpos","pageYOffset","onscroll","currentScrollPos","bottom","boxShadow","NavLink","activeStyle","ref","Route","exact","path","history","PartiesHome","match","Question","params","Speak","reducer","combineReducers","createStore","applyMiddleware","thunk","ReactDOM"],"mappings":"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AS,UACT,MACF,IAAK,mBACHA,EAAS,UACT,MACF,IAAK,MACHA,EAAS,UACT,MACF,IAAK,wBACHA,EAAS,UACT,MACF,IAAK,YACHA,EAAS,UAKb,OAAOA,G,uDAGA,IAAD,OAGF9C,EADOwD,OAAOC,KAAK1H,KAAKX,MAAM0C,QAAQyP,SAC1B5I,KAAI,SAAA2I,GAAK,MAAK,CAACrC,MAAO,EAAK6C,aAAaR,GAAQ5D,KAAM,EAAK2D,SAASC,GAAQpC,SAAU,EAAK6C,SAAST,OAOpH,OANAtN,EAAOA,EAAKuM,MAAK,SAAU5N,EAAGgF,GAC5B,IAAMqK,EAASrP,EAAE+K,KAAKrG,GAAK1E,EAAE+K,KAAKxG,IAAMvE,EAAE+K,KAAK,oBAE/C,OADe/F,EAAE+F,KAAKrG,GAAKM,EAAE+F,KAAKxG,IAAMS,EAAE+F,KAAK,oBAC/BsE,KAGX,yBAAKrT,UAAU,aAAa6L,IAAKxG,GACrCA,GAAQ,kBAAC,GAAD,CAAoBA,KAAMA,EAC/BiJ,QAAQ,sBAEV,6BACA,6BALG,mG,GAhHkBpM,IAAMC,WAiIpB2C,gBALS,SAAApE,GAAK,MAAK,CAChC8R,UAAW9R,EAAM4F,WACjBnD,QAASzC,EAAMyC,WAKf,KAFa2B,CAGb2N,I,qBC1IWa,GAAU,CACnB,kBACA,uBACA,cACA,kBACA,oBACA,aACA,cACA,UACA,kBACA,aACA,kBACA,aACA,mBACA,WACA,cACA,uBACA,iBACA,cACA,eACA,uBACA,sBACA,kBACA,gBACA,iBACA,gBACA,mBACA,cACA,eACA,eACA,YACA,sBACA,iBACA,eACA,wBACA,sBACA,kBACA,iBACA,oBACA,gBACA,YACA,gBACA,kBACA,gBACA,iBACA,sBACA,mBACA,mBACA,cACA,eACA,iBACA,aACA,cACA,kBACA,iBACA,YACA,mBACA,cACA,eACA,WACA,WACA,WACA,gBACA,aACA,eACA,qBACA,iBACA,gBACA,aACA,gBACA,cACA,aACA,eACA,gBACA,gBACA,cACA,aACA,eACA,aACA,cACA,mBACA,eACA,eACA,iBACA,eACA,gBACA,qBACA,uBACA,mBACA,qBACA,gBACA,WACA,kBACA,YACA,mBACA,eACA,eACA,gBACA,iBACA,aACA,eACA,iBACA,qBACA,YACA,aACA,kBACA,qBACA,YACA,iBACA,cACA,sBACA,iBACA,iBACA,uBACA,mBACA,mBACA,4BACA,kBACA,aACA,aACA,iBACA,iBACA,eACA,0BACA,kBACA,cACA,cACA,eACA,iBACA,oBACA,gBACA,mBACA,uBACA,iBACA,kBACA,aACA,eACA,cACA,gBACA,kBACA,YACA,mBACA,eACA,kBACA,oBACA,gBACA,eACA,gBACA,cACA,wBACA,iBACA,mBACA,eACA,cACA,iBACA,eACA,cACA,YACA,cACA,YACA,cACA,gBACA,sBACA,iBACA,gBACA,wBACA,kBACA,eACA,eACA,cACA,eACA,qBACA,YACA,aACA,eACA,gBACA,gBACA,mBACA,gBACA,qBACA,kBACA,eACA,oBACA,gBACA,mBACA,oBACA,eACA,gBACA,eACA,cACA,cACA,gBACA,sBACA,aACA,yBACA,0BACA,mBACA,eACA,kB,SCtBWC,I,8KAzKH,IAAD,OACDC,EAAoBpS,KAAKX,MAAM+S,kBAC/BC,EAAuBrS,KAAKX,MAAMiT,MAAMvK,QAAO,SAAAmC,GAAC,OAAIA,EAAEqH,OAAS,EAAKlS,MAAMkT,iBAEhF,OACI,6BACC7M,OAAO8M,WAAa,KACjB,yBAAKlS,MAAO,CAAC2L,WAAY,QACzB,wDACA,kBAAC,IAAD,CAAOwG,SAAO,EAAC7T,UAAU,eACrB,kBAAC,IAAM8T,OAAP,KACI,kBAAC,IAAMC,IAAP,KACI,kBAAC,IAAMC,WAAP,KAA+C,UAA5B5S,KAAKX,MAAMkT,cAA4B,SAAW,IACrE,kBAAC,IAAMK,WAAP,YACA,kBAAC,IAAMA,WAAP,WACA,kBAAC,IAAMA,WAAP,qBACA,kBAAC,IAAMA,WAAP,sBAGqB,UAA5B5S,KAAKX,MAAMkT,cAA6BvS,KAAKX,MAAM4E,KAAKuM,MAAK,SAAS5N,EAAEgF,GAAI,OAAOA,EAAEiL,IAAMjQ,EAAEiQ,OAAMjK,KAAI,SAAAsB,GAAC,OACrG,kBAAC,IAAM4I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","file":"static/js/main.7ca1b245.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/vanhatvastaukset.fe80cae8.csv\";","module.exports = __webpack_public_path__ + \"static/media/rahoitus.a2212f96.csv\";","module.exports = __webpack_public_path__ + \"static/media/avoin_2019.17cc780b.csv\";","\nimport React from 'react';\nimport { Form } from 'semantic-ui-react'\n\nconst FormInput = ({ placeholder, name, label, checkExist }) => (\n  <div className=\"form-group\">\n    <b>{label}</b>\n    <Form.Input type=\"text\" className=\"form-control\" placeholder={placeholder} name={name} onChange={checkExist}/>\n  </div>\n)\n\nexport default FormInput\n","import React from 'react';\nimport { Form } from 'semantic-ui-react'\n\nconst TextArea = ({ placeholder, name, label }) => (\n  <div>\n    <b>{label}</b>\n    <Form.TextArea\n      type=\"text\"\n      className=\"form-control\"\n      placeholder={placeholder}\n      rows=\"10\"\n      cols=\"20\"\n      name={name}\n      form=\"htmlform\"\n    />\n  </div>\n)\n\nexport default TextArea\n","import React from 'react';\nimport {Editor, EditorState, RichUtils, convertToRaw} from 'draft-js';\nimport { Button } from 'semantic-ui-react'\n\nclass MyEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {editorState: EditorState.createEmpty()};\n    this.onChange = editorState => this.setState({editorState});\n    this.handleKeyCommand = this.handleKeyCommand.bind(this);\n  }\n\n  handleKeyCommand(command, editorState) {\n    \n    const newState = RichUtils.handleKeyCommand(editorState, command);\n    if (newState) {\n      this.onChange(newState);\n      return 'handled';\n    }\n    return 'not-handled';\n  }\n\n\n  _onBoldClick() {\n    this.onChange(RichUtils.toggleInlineStyle(this.state.editorState, 'BOLD'));\n  }\n\n  convertRaw () {\n    return convertToRaw(this.state.editorState.getCurrentContent());\n  }\n\n  render() {\n    return (\n        <div>\n          <label><b>{this.props.label}</b></label>\n          <br />\n            <Button type='button' onClick={this._onBoldClick.bind(this)}>Maala teksit ja boldaa/unboldaa</Button>\n        <div  style={{borderStyle: 'dotted'}}>\n           \n            <Editor\n            handleKeyCommand={this.handleKeyCommand}\n            editorState={this.state.editorState} onChange={this.onChange} />\n            <input readOnly name={this.props.label == 'Selitys' ? 'muutos' : 'explain'} value={JSON.stringify(this.convertRaw())} hidden />\n        </div>\n        </div>\n\n    );\n  }\n}\n\nexport default MyEditor","const intialState = {\n  puolueet: '',\n  edustajat: '',\n}\n\nconst htmlReducer = (store = intialState, action) => {\n  if (action.type === 'HTML_PUOLUEET') {\n    return { ...store, puolueet: action.html }\n  } if (action.type === 'HTML_EDUSTAJAT') {\n    return { ...store, edustajat: action.html }\n  }\n\n\n  return store\n}\n\nexport const htmlPuolueet = html => async (dispatch) => {\n  dispatch({\n    type: 'HTML_PUOLUEET',\n    html,\n  })\n}\n\nexport const htmlEdustajat = html => async (dispatch) => {\n  dispatch({\n    type: 'HTML_EDUSTAJAT',\n    html,\n  })\n}\n\nexport default htmlReducer;\n","const initialState = {\n  kysymys: '',\n  selitys: '',\n  url: '',\n  puolueet: [],\n  edustajat: [],\n  kategoriat: [],\n  vuosi: '',\n  vastaus: '',\n  tunniste: '',\n  yle2019: '',\n  explain: {}\n}\n\nconst kysymysReducer = (store = initialState, action) => {\n  if (action.type === 'ADD_PUOLUE') {\n    return { ...store, puolueet: action.puolueet }\n  } if (action.type === 'ADD_DETAILS') {\n    return {\n      ...store,\n      kysymys: action.details.kysymys,\n      selitys: action.details.selitys,\n      url: action.details.url,\n      vuosi: action.details.vuosi,\n      vastaus: action.details.vastaus,\n      hot: action.details.hot,\n      kysymyksenAsettelu: action.details.kysymyksenAsettelu,\n      jaaLiberal: action.details.jaaLiberal,\n      jaaLeftist: action.details.jaaLeftist,\n      jaaGreen: action.details.jaaGreen,\n      tunniste: action.details.tunniste,\n      yle2019: action.details.yle2019,\n      explain: action.details.explain\n    }\n  } if (action.type === 'ADD_EDUSTAJAT') {\n    return { ...store, edustajat: action.edustajat }\n  } if (action.type === 'ADD_KATEGORIAT') {\n    return { ...store, kategoriat: action.kategoriat }\n  }\n  return store\n}\n\nexport const addPuolueet = puolueet => async (dispatch) => {\n  dispatch({\n    type: 'ADD_PUOLUE',\n    puolueet,\n  })\n}\n\nexport const addEdustajat = edustajat => async (dispatch) => {\n  dispatch({\n    type: 'ADD_EDUSTAJAT',\n    edustajat,\n  })\n}\n\nexport const addDetails = details => async (dispatch) => {\n  dispatch({\n    type: 'ADD_DETAILS',\n    details,\n  })\n}\n\nexport const addKategoriat = kategoriat => async (dispatch) => {\n  dispatch({\n    type: 'ADD_KATEGORIAT',\n    kategoriat,\n  })\n}\n\n\nexport default kysymysReducer;\n\n","const notifyReducer = (store = '', action) => {\n    if (action.type==='SHOW') {\n      return action.notify\n    }\n    return store\n  }\n  \n  export const notifyCreation = (content, time) => {\n    return async (dispatch) => {\n      dispatch({\n        type: 'SHOW',\n        notify: content\n      })\n      setTimeout(() => dispatch({\n        type: 'SHOW',\n        notify: ''\n      }), time * 1000)\n    }\n  }\n  \n  export default notifyReducer","import React from 'react'\nimport { connect } from 'react-redux'\n\nclass Notification extends React.Component {\n  componentDidMount = () => {\n  }\n  render() {\n    if (this.props.notify === '') {\n      return null\n    }\n    const divStyle = {\n      color: 'green',\n      background: 'lightgrey',\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n    }\n    if (this.props.notify === 'Tapahtui virhe') {\n      divStyle.color = 'red'\n    }\n    return (\n      <div style={divStyle}>\n        <p>{this.props.notify}</p>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = store => ({\n  notify: store.notify,\n})\n\nconst ConnectedNotification = connect(mapStateToProps)(Notification)\n\n\nexport default ConnectedNotification\n","import axios from 'axios'\n\nconst baseUrl = '/api/kysymykset'\n\nlet token = null\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`\n}\n\nconst addKysymys = async (newObject) => {\n  console.log(newObject)\n  const config = {\n    headers: { Authorization: token },\n  }\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst remove = async (id) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\n  return response.data\n}\n\n\nconst addKategoria = async (newObject) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  const response = await axios.post('/api/kategoriat', newObject, config)\n  return response.data\n}\n\nconst modifyKysymys = async (id, newObject) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  const response = await axios.put(`${baseUrl}/${id}`, newObject, config)\n  return response.data\n}\n\n\nexport default {\n  getAll,\n  setToken,\n  addKysymys,\n  remove,\n  addKategoria,\n  modifyKysymys,\n}\n","import axios from 'axios'\n\nconst baseUrl = '/api/yle'\n\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\n// const addYle = async (newObject) => {\n//   const response = await axios.post(baseUrl, newObject)\n//   return response.data\n// }\n\nexport default {\n  getAll,\n}\n","import yleService from '../services/yle'\nimport Papa from 'papaparse'\nimport csv from '../components/yle/vanhatvastaukset.csv'\n\nconst initialState = {\n  edustajat: [],\n  puolueet: [],\n  kysymykset: [],\n}\n\nconst ylenKysymyksetReducer = (store = initialState, action) => {\n  if (action.type === 'DATA') {\n    return {\n      ...store,\n      edustajat: action.data.edustajat,\n      puolueet: action.data.puolueet,\n      kysymykset: action.data.kysymykset,\n    }\n  }\n  return store\n}\n\n\n\nexport const getYlenKysymykset = () => async (dispatch) => {\n  const all = await yleService.getAll()\n  dispatch({\n    type: 'DATA',\n    data: all[0],\n  })\n}\n\nexport const getYlenKysymyksetFromCSV = (nimet) => async (dispatch) => {\n  console.log('moi', Papa)\n  console.log('csv', csv)\n  await Papa.parse(csv, {\n    header: true,\n    download: true,\n    complete(results) {\n      addYlePuolueet(nimet, results.data);\n    },\n  })\n}\n\n  const addYlePuolueet = async (nimet, ylendata) => {\n  const edustajat = []\n  for (let i = 0; i < nimet.length; i = i + 1) {\n    const apu = nimet[i].split('/')\n    let puolue = apu[1]\n    switch (puolue) {\n      case 'kesk':\n        puolue = 'Keskustan eduskuntaryhmä'\n        break\n      case 'ps':\n        puolue = 'Perussuomalaisten eduskuntaryhmä'\n        break\n      case 'kok':\n        puolue = 'Kansallisen kokoomuksen eduskuntaryhmä'\n        break\n      case 'sd':\n        puolue = 'Sosialidemokraattinen eduskuntaryhmä'\n        break\n      case 'vihr':\n        puolue = 'Vihreä eduskuntaryhmä'\n        break\n      case 'vas':\n        puolue = 'Vasemmistoliiton eduskuntaryhmä'\n        break\n      case 'r':\n        puolue = 'Ruotsalainen eduskuntaryhmä'\n        break\n      case 'kd':\n        puolue = 'Kristillisdemokraattinen eduskuntaryhmä'\n        break\n      default:\n        break\n    }\n    const nimi = apu[0].toLowerCase()\n    const data = {\n      nimi,\n      puolue,\n    }\n\n    edustajat.push(data)\n  }\n  const kesk = []\n  const kok = []\n  const sdp = []\n  const vihr = []\n  const vas = []\n  const rkp = []\n  const kd = []\n  const ps = []\n\n  const ulos = []\n  for (let i = 0; i < ylendata.length; i = i + 1) {\n    let copy = []\n    // ylen datassa oli kaksi samaa nimeä ja ideetä\n    if (ylendata[i].puolue !== 'Piraattipuolue') {\n      copy = ylendata[i]\n    }\n    if (copy.sukunimi && copy.etunimi) {\n      const nimi = copy.sukunimi.replace(/\\s/g, '') + copy.etunimi.replace(/\\s/g, '')\n      const edustaja = edustajat.find(x => x.nimi === nimi.toLowerCase())\n      if (edustaja) {\n        copy.puolue = edustaja.puolue\n        switch (copy.puolue) {\n          case 'Keskustan eduskuntaryhmä':\n            kesk.push(copy)\n            break\n          case 'Perussuomalaisten eduskuntaryhmä':\n            ps.push(copy)\n            break\n          case 'Kansallisen kokoomuksen eduskuntaryhmä':\n            kok.push(copy)\n            break\n          case 'Sosialidemokraattinen eduskuntaryhmä':\n            sdp.push(copy)\n            break\n          case 'Vihreä eduskuntaryhmä':\n            vihr.push(copy)\n            break\n          case 'Vasemmistoliiton eduskuntaryhmä':\n            vas.push(copy)\n            break\n          case 'Ruotsalainen eduskuntaryhmä':\n            rkp.push(copy)\n            break\n          case 'Kristillisdemokraattinen eduskuntaryhmä':\n            kd.push(copy)\n            break\n          default:\n            break\n        }\n        ulos.push(copy)\n      }\n    }\n  }\n  const puolueet = {\n    kesk,\n    kok,\n    sdp,\n    vihr,\n    vas,\n    rkp,\n    kd,\n    ps,\n  }\n\n  const kysymykset = Object.keys(ulos[0])\n  const sliced = kysymykset.slice(37, 99)\n  const filtered = sliced.filter(x => !x.includes('kommentti'))\n\n\n  const out = {\n    edustajat: ulos,\n    puolueet,\n    kysymykset: filtered,\n  }\n  console.log('ou', out);\n   try {\n        await yleService.addYle(out);\n      } catch (exception) {\n        console.log('Tapahtui virhe');\n      }\n}\n\nexport default ylenKysymyksetReducer\n","import React from 'react';\nimport { Button, Checkbox, Dropdown, Segment, Form, Dimmer, Loader } from 'semantic-ui-react'\nimport { connect } from 'react-redux'\nimport FormInput from './FormInput'\nimport TextArea from './TextArea'\nimport TextEditor from './TextEditon'\nimport { htmlEdustajat, htmlPuolueet } from '../../reducers/htmlReducer'\nimport { addPuolueet, addDetails, addEdustajat, addKategoriat } from '../../reducers/kysymysReducer'\nimport { notifyCreation } from '../../reducers/notifyReducer'\nimport Notification from '../Notification'\nimport kysymysService from './../../services/kysymys'\nimport { getYlenKysymykset } from '../../reducers/ylenKysymyksetReducer';\n\nclass HtmlForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      yle2019: '',\n      vastaus: '',\n      kysymyksenAsettelu: false,\n      hot: false,\n      jaaLeftist: '',\n      jaaLiberal: '',\n      green: \"\",\n    };\n  }\n\n  componentWillMount = async () => {\n    if (!this.props.ylenKysymykset.kysymykset) { window.location.assign('/') }\n  }\n\n  onSubmit = async (e) => {\n    this.handleDetails(e)\n    await this.handleHtml(e)\n    this.handlePuolueet()\n    this.handleEdustajat()\n    this.addKatet(e)\n    \n    if (!this.props.notify.includes('ei ole validi')) {\n      try {\n        const loggedUserJSON = window.localStorage.getItem('loggedUser')\n        kysymysService.setToken(JSON.parse(loggedUserJSON).token)\n        await kysymysService.addKysymys(this.props.kysymys)\n        // this.props.history.push('/')\n      } catch (exception) {\n        this.props.notifyCreation('Tapahtui virhe', 5)\n      }\n    }\n  }\n\n  handlePuolueet = () => {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(this.props.html.puolueet, 'text/html');\n    const puolueet = []\n    if (this.props.html.puolueet !== '' && doc.getElementsByTagName('TBODY')[0]) {\n      // eslint-disable-next-line\n      const rows = doc.getElementsByTagName('TBODY')[0].rows;\n      for (let i = 1; i < rows.length; i = i + 1) {\n        const puolue = {\n          nimi: rows[i].cells[0].innerHTML,\n          jaa: Number(rows[i].cells[1].innerHTML.replace(/\\s/g, '')),\n          ei: Number(rows[i].cells[2].innerHTML.replace(/\\s/g, '')),\n          tyhjia: Number(rows[i].cells[3].innerHTML.replace(/\\s/g, '')),\n        };\n        puolue.kanta = Object.keys(puolue).reduce((a, b) => (puolue[a] > puolue[b] ? a : b));\n        puolue.poissa = Number(rows[i].cells[4].innerHTML.replace(/\\s/g, ''))\n        puolue.yhteensa = Number(rows[i].cells[5].innerHTML.replace(/\\s/g, ''));\n        if (puolueet.filter(p => p.nimi === puolue.nimi).length === 0) {\n          puolueet.push(puolue)\n        }\n      }\n    } else {\n      this.props.notifyCreation('Puolue html-elementti ei ole validi', 5)\n    }\n    if (puolueet.length > 5 && puolueet.length < 20) {\n      this.props.notifyCreation('Kannat lisätty', 5)\n      this.props.addPuolueet(puolueet)\n    } else {\n      this.props.notifyCreation('Puolue html-elementti ei ole validi', 5)\n    }\n  }\n\n  handleEdustajat = () => {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(this.props.html.edustajat, 'text/html');\n    const edustajat = []\n    if (this.props.html.edustajat !== '' && doc.getElementsByTagName('TBODY')[0]) {\n      // eslint-disable-next-line\n      const rows = doc.getElementsByTagName('TBODY')[0].rows \n      for (let i = 1; i < rows.length; i = i + 1) {\n        const edustaja = {\n          nimi: rows[i].cells[0].innerHTML.replace(/\\s/g, ''),\n          kanta: rows[i].cells[1].innerHTML.replace(/\\s/g, ''),\n\n        };\n        if (edustajat.filter(p => p.nimi === edustaja.nimi).length === 0) {\n          edustajat.push(edustaja)\n        }\n      }\n    } else {\n      this.props.notifyCreation('Edustajat html-elementti ei ole validi', 5)\n    }\n    \n    if (edustajat.length > 180 && edustajat.length < 201) {\n      this.props.notifyCreation('Kannat lisätty', 5)\n      this.props.addEdustajat(edustajat)\n    } else {\n      this.props.notifyCreation('Edustajat html-elementti ei ole validi', 5)\n    }\n  }\n\n  handleHtml = (e) => {\n    e.preventDefault()\n    const edustajat = e.target.htmlEdustajat.value\n    this.props.htmlEdustajat(edustajat)\n    const puolueet = e.target.htmlPuolueet.value\n    this.props.htmlPuolueet(puolueet)\n    e.target.htmlPuolueet.value = ''\n    e.target.htmlEdustajat.value = ''\n  }\n\n  handleDetails = (e) => {\n    e.preventDefault()\n    const details = {\n      tunniste: e.target.tunniste.value,\n      url: e.target.url.value,\n      explain: e.target.explain.value,\n      kysymys: e.target.kysymys.value,\n      vuosi: e.target.vuosi.value,\n      vastaus: this.state.vastaus,\n      kysymyksenAsettelu: this.state.kysymyksenAsettelu,\n      hot: this.state.hot,\n      yle2019: this.state.yle2019\n    }\n    if (typeof this.state.jaaLeftist === 'boolean') {\n      details.jaaLeftist = this.state.jaaLeftist\n    } if (typeof this.state.jaaLiberal === 'boolean') {\n      details.jaaLiberal = this.state.jaaLiberal\n    } if (typeof this.state.green === 'boolean') {\n      details.green = this.state.green\n    }\n    this.props.addDetails(details)\n    e.target.url.value = ''\n    e.target.kysymys.value = ''\n    e.target.vuosi.value = ''\n    e.target.explain.value = ''\n  }\n\n  addKatet = () => {\n    // eslint-disable-line no-use-before-define\n    const kategoriat = []\n    this.props.kategoriat.map(k => (document.getElementById(k.nimi).checked\n      ? kategoriat.push(k) : null))\n    const idt = kategoriat.map(k => k.id)\n    this.props.addKategoriat(idt)\n  }\n\n  handleChange(e, { name, value }) {\n    this.setState({ [name]: value })\n  }\n\n  handleRistiriita() {\n    this.setState({ kysymyksenAsettelu: !this.state.kysymyksenAsettelu })\n  }\n\n  handleHot() {\n    this.setState({ hot: !this.state.hot })\n  }\n\n  handleJaaLiberal = (value) => {\n    this.setState({\n      jaaLiberal: value,\n    });\n  }\n\n  handleJaaLeftist = (value) => {\n    this.setState({\n      jaaLeftist: value,\n    });\n  }\n\n  handleGreen = (value) => {\n    this.setState({\n      green: value,\n    });\n  }\n\n  disClick = (field) => {\n    this.setState({\n      [field]: \"\"\n    })\n  }\n\n  checkExist = (e) => {\n    if (e.target.value && this.props.kysymykset.filter(k => this.validateTunniste(k.tunniste)== e.target.value.toLowerCase().trim()).length > 0) {\n      this.setState({\n        exist: true\n      })\n    } else {\n      this.setState({\n        exist:false\n      })\n    }\n  }\n\n  validateTunniste = (tunniste) => {\n    if (tunniste) {\n      return tunniste.toLowerCase().trim()\n    } \n    return false\n  }\n\n\n  render() {\n\n    let yle2019Questions = []\n\n    if (this.props.yle2019.headers.length > 0) {\n      \n      yle2019Questions = this.props.yle2019.headers.slice(4,62)\n      yle2019Questions = [...new Set(yle2019Questions)]; \n      console.log('headers', yle2019Questions);\n    } else{\n      return (\n        <Dimmer active>\n          <Loader indeterminate>searching data</Loader>\n        </Dimmer>\n      )\n    }\n    \n    /*eslint-disable */\n    const values = this.props.ylenKysymykset.kysymykset.map(x => x = { text: x, value: x })\n    const yleValues2019 = yle2019Questions.map(x => x = { text: x, value: x })\n    \n    console.log('state', this.state);\n    \n   /* eslint-enable */\n    return (\n      <div className=\"container\">\n        <form onSubmit={this.onSubmit} id=\"htmlform\">\n          <h2>Lisää kysymys</h2>\n          {this.state.exist &&\n          <b style={{color:\"red\"}}>Kysymys on jo kannassa</b>\n          }\n          <div className=\"form-group\">\n            <b>Tunniste (tämän avulla katsotaan, jos asia on jo kannassa)</b>\n            <Form.Input type=\"text\" className=\"form-control\" placeholder=\"HE 123/2001 vp\" name=\"tunniste\" onChange={e => this.checkExist(e)}/>\n          </div>\n          <TextArea label=\"Kirjoita alle äänestyksen kohteen oleva kysymys\" placeholder=\"kysymys\" name=\"kysymys\" />\n          <FormInput label=\"Tapahtuma vuosi\" placeholder=\"2018\" name=\"vuosi\" />\n          <FormInput label=\"Linkki edukunnan sivuille\" placeholder=\"url\" name=\"url\" />\n         <TextEditor label='Tarkempi kuvaus kysymyksestä' />\n          <Segment compact style={{ background: '#d4eff9' }}>\n            <Checkbox toggle onChange={() => this.handleHot()} />\n            Keskeinen kysymys tällä hallituskaudella\n            <table>\n              <tbody>\n              <tr>\n                <td>\n                <Checkbox\n                  radio\n                  name=\"liberalRadioGroup\"\n                  checked={this.state.jaaLiberal === true}\n                  label=\"Jaa vastaus liberaali\"\n                  onChange={() => this.handleJaaLiberal(true)}\n                  />\n                  </td>\n                  <td>\n                  <Checkbox\n                    radio\n                    name=\"liberalRadioGroup\"\n                    checked={this.state.jaaLiberal === false}\n                    label=\"Jaa vastaus konservatiivinen\"\n                    onChange={() => this.handleJaaLiberal(false)}\n                  />\n                  </td>\n                  <td>\n                  <Checkbox\n                    radio\n                    name=\"liberalRadioGroup\"\n                    checked={this.state.jaaLiberal === \"\"}\n                    label=\"Ei sovi\"\n                    onChange={() => this.disClick(\"jaaLiberal\")}\n                  />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <Checkbox\n                      radio\n                      checked={this.state.jaaLeftist === true}\n                      label=\"Jaa vastaus vasemmistolainen\"\n                      onChange={() => this.handleJaaLeftist(true)}\n                    />\n                    </td>\n                    <td>\n                    <Checkbox\n                      radio\n                      checked={this.state.jaaLeftist === false}\n                      label=\"Jaa vastaus oikeistolainen\"\n                      onChange={() => this.handleJaaLeftist(false)}\n                    />\n                    </td>\n                    <td>\n                    <Checkbox\n                      radio\n                      checked={this.state.jaaLeftist === \"\"}\n                      label=\"Ei sovi\"\n                      onChange={() => this.disClick(\"jaaLeftist\")}\n                    />\n                    </td>\n\n                </tr>\n                 <tr>\n\n                      <td>\n                    <Checkbox\n                      radio\n                      checked={this.state.green === true}\n                      label=\"Jaa vastaus vihreä\"\n                      onChange={() => this.handleGreen(true)}\n                    />\n                    </td>\n                    <td>\n                    <Checkbox\n                      radio\n                      checked={this.state.green === false}\n                      label=\"Ei vastaus vihreä\"\n                      onChange={() => this.handleGreen(false)}\n                    />\n                    </td>\n                    <td>\n                    <Checkbox\n                      radio\n                      checked={this.state.green === \"\"}\n                      label=\"Ei sovi\"\n                      onChange={() => this.disClick(\"green\")}\n                    />\n                    </td>\n                </tr>\n                </tbody>\n              </table>\n              \n          </Segment>\n          <b>Kategoriat</b>\n          <br />\n          {this.props.kategoriat.map(k =>\n            (<Checkbox\n              key={k.nimi}\n              label={k.nimi}\n              name=\"kategoriat\"\n              id={k.nimi}\n            />))}\n          <br />\n          <br />\n          <b>Valitse osuvin kysymys ylen vaalikoneesta</b>\n          <Dropdown type=\"text\" name=\"vastaus\" placeholder=\"Valitse kysymys\" onChange={this.handleChange.bind(this)} fluid search selection options={values} />\n          <br />\n          <br />\n          <b>Valitse osuvin kysymys ylen vaalikoneesta vuonna 2019</b>\n          <Dropdown type=\"text\" name=\"yle2019\" placeholder=\"Valitse kysymys\" onChange={this.handleChange.bind(this)} fluid search selection options={yleValues2019} />\n          <Segment compact style={{ background: '#d4eff9' }}>\n            <Checkbox toggle onChange={() => this.handleRistiriita()} />\n            Ylen ja eduskunnan kysymyksenasettelu ristiriitainen\n          </Segment>\n          <Notification />\n          <TextArea\n            placeholder=\"<table><tbody>...</tbody></table>\"\n            name=\"htmlPuolueet\"\n            label=\"Kopio alle eduskunnan sivuilta html-muotoinen table-elementti, jossa tiedot äänestyksen tuloksista eduskuntaryhmittäin.\"\n          />\n          <br />\n          <TextArea\n            placeholder=\"<table><tbody>...</tbody></table>\"\n            name=\"htmlEdustajat\"\n            label=\"Kopio alle eduskunnan sivuilta html-muotoinen table-elementti, jossa tiedot äänestyksen tuloksista edustajittain.\"\n          />\n          <br />\n          {this.state.exist ? \n          <b style={{color:\"red\"}}>Kysymys on jo kannassa</b>\n          :\n          <p><Button positive type=\"submit\" className=\"fluid ui button\">create</Button></p>\n          }\n          <br />\n        </form>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  html: state.html,\n  kysymys: state.kysymys,\n  kysymykset: state.kysymykset,\n  notify: state.notify,\n  kategoriat: state.kategoriat,\n  ylenKysymykset: state.ylenKysymykset,\n  yle2019: state.yle2019\n})\n\nexport default connect(\n  mapStateToProps,\n  {\n    htmlEdustajat,\n    htmlPuolueet,\n    addPuolueet,\n    addEdustajat,\n    addDetails,\n    notifyCreation,\n    addKategoriat,\n    getYlenKysymykset,\n  },\n)(HtmlForm)\n","import React from 'react';\nimport { Accordion, Icon, Label, Segment } from 'semantic-ui-react'\nimport { Link } from 'react-router-dom';\nimport ReactGA from 'react-ga';\nimport '../App.css'\n\nReactGA.initialize('UA-137723152-1');\nReactGA.pageview(window.location.pathname + window.location.search);\n\nclass SipilaHome extends React.Component {\n  state = {\n    activeIndex: \"\"\n  }\n\n  handleClick = (e, titleProps) => {\n    const { index } = titleProps\n    const { activeIndex } = this.state\n    const newIndex = activeIndex === index ? -1 : index\n\n    this.setState({ activeIndex: newIndex })\n  }\n\n  render() {\n    const { activeIndex } = this.state\n    return(\n    <div>\n      <h1>Tervetuloa</h1>\n      Vaalikausikoneella selvität mikä puolue on äänestänyt eduskunnassa lähimmäksi omia näkemyksiäsi.\n      <br/>\n      <br/>\n\n      Vaalikausikoneen kysymykset on valittu eduskunnan äänestyksistä. Vastauksesi rinnastuvat puolueiden todelliseen äänestyskäyttäytymiseen. Puolueiden antamat lupaukset eivät vaikuta vaalikoneen tuloksiin.\n      <br/>\n      <br/>\n\n      Vaalikausikoneessa voit myös verrata puolueiden äänestyskäyttäytymistä suhteessa edustajien Ylen vaalikoneessa antamiin vastauksiin. Voit siis arvioida, kuinka hyvin ennen vaaleja annetut lupaukset ovat pitäneet.\n      <br/>\n      <br/>\n        <sup><Label color='yellow' style={{marginRight: '1em'}}>\n        Uutta\n        </Label></sup>\n      Vaalikausikone.fi hyödyntää nyt myös tämän vuoden <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://vaalikone.yle.fi/\">Ylen vaalikoneen</a> avointa dataa.\n      Hajontakaavio näyttää puolueden vastausten jakaumat Ylen kysymyksiin. Näin voit varmistua kunkin puolueen linjan yhtenäisyydestä sinulle tärkeissä kysymyksissä.\n      <br/>\n      <br/>\n\n        <Link\n          to=\"/kone\"\n        >\n          <button className=\"button\" style={{display: 'inline', marginBottom: '0.5em'}}>Vaalikausikone</button>\n        </Link>\n        <Link to='hajontakaavio'>\n          <button className=\"button\" style={{display: 'inline'}}>Hajontakaavio</button>\n        </Link>\n        <Accordion style={{paddingTop: \"1em\", paddingBottom:\"1em\"}}>\n          <Accordion.Title active={activeIndex === 0} index={0} onClick={this.handleClick}>\n            <Icon name='dropdown' />\n            <b>Miksi puoleen valinta on tärkeää?</b>\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 0} style={{marginLeft: \"2em\"}}>\n            <p>\n             Suomessa on käytössä avoin listavaali, jossa äänesi menee ensisijassa\n             puolueelle. Edustajan valinnalla vaikutat lähinnä hänen sijaintiinsa puolueen \n             sisäisessä listassa. Mikäli edustajasi ei mene läpi, äänesi auttaa jotakin\n             toista äänestämäsi puolueen ehdokasta. \n            </p>\n          </Accordion.Content>\n\n          <Accordion.Title active={activeIndex === 1} index={1} onClick={this.handleClick}>\n            <Icon name='dropdown' />\n            <b>Kuinka poliittinen järjestelmä toimii?</b>\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 1} style={{marginLeft: \"2em\"}}>\n            <p>\n            Eduskunnassa puolueen edustajat äänestävät hyvin yhtenäisesti johtuen \n            ryhmäkurista. Lisäksi useimmissa äänestyksissä hallituspuolueet  \n            äänestävät hallitusohjelman mukaisesti ja oppositiopuoleet \n            vastustavat hallituksen esityksiä. Tämä näkyy vaalikausikoneen antamissa tuloksissa.\n            </p>\n          </Accordion.Content>\n          <Accordion.Title active={activeIndex === 2} index={2} onClick={this.handleClick}>\n            <Icon name='dropdown' />\n            <b>Tietoa tekijöistä</b>\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 2} style={{marginLeft: \"2em\"}}>\n            <p>\n            Vaalikausikonetta on työstetty kolmen yhteiskuntatieteilijän voimin.\n            Jos sinulla on kehitysideoita tai haluat kysyä vaalikausikoneesta jotakin,\n            voit lähettää sähköpostia osoitteeseen: <i>info@vaalikausikone.fi</i>\n            <br/><br/>\n        \n            <b>Tekijät</b>\n            <br/>\n            Petteri Pääkkönen\n            <br />\n            Jari Hartzell\n            <br />\n            Joonas Hihnala\n            </p>\n          </Accordion.Content>\n        </Accordion>\n    </div>\n    )\n  }\n}\n\nexport default SipilaHome\n","import React from 'react';\nimport { Accordion, Icon } from 'semantic-ui-react'\nimport '../../css/Home.css'\nimport { Editor, EditorState, convertFromRaw } from 'draft-js';\n\nclass InfoAccordion extends React.Component {\n  state = {\n    activeIndex: false\n  }\n\n  render() {\n    return(\n        <Accordion>\n            <Accordion.Title className=\"info-accordion-title\" active={this.state.activeInfo} onClick={() => this.setState({activeInfo: !this.state.activeInfo})}>\n            {this.props.iconSize &&\n                <div className=\"info-icon\">\n                    <Icon name=\"info circle\" size={this.props.iconSize} />\n                </div>\n            }\n            <span className='info-title' style={this.props.endLink && {color: 'white'}} >\n                {this.props.title}\n                <Icon name='dropdown' className='info-dropdown'/>\n            </span>\n            </Accordion.Title>\n            <Accordion.Content active={this.state.activeInfo} style={{marginLeft: \"2em\"}}>\n            {this.props.question &&\n            <div>\n              <b>{this.props.question.tunniste}</b>\n              <br/>\n              <a href={this.props.question.url} target=\"_blank\">Linkki eduskunnan sivuille</a>\n              <br/>\n              <br/>\n            </div>\n            }\n            {this.props.explain ?\n              <Editor \n                readOnly\n                editorState={EditorState.createWithContent(convertFromRaw(JSON.parse(this.props.explain)))}\n              /> :\n              <p>\n              <b>Selitys</b><br/>\n\n                  {this.props.text} {this.props.endLink && <a href={this.props.endLink} target=\"_blank\">tästä</a>}\n              </p>\n            }\n            </Accordion.Content>\n        </Accordion>\n    )\n  }\n}\n\nexport default InfoAccordion","import React from 'react';\nimport { Accordion, Icon, Segment } from 'semantic-ui-react'\nimport '../../css/Home.css'\nimport InfoAccordion from './InfoAccordion';\n\nclass InfoBar extends React.Component {\n  state = {\n    activeIndex: false\n  }\n\n  render() {\n    return(\n        <Segment className=\"home-info\">\n            <InfoAccordion \n              text={this.props.text}\n              title={this.props.title}\n              iconSize='big'\n            />\n        </Segment>\n    )\n  }\n}\n\nexport default InfoBar","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as d3 from \"d3\";\nimport '../../css/Chart.css'\n\nclass SimpleOpinionChart extends React.Component {\n  componentDidMount() {\n         // example data\n      // var freqData=[\n      //     {State:'sdp',freq:{jaa:46, ei:13, eos:49}, barColor: 'red'},\n      //     {State:'kok',freq:{jaa:4, ei:53, eos:49}, barColor: 'darkblue'},\n      //     {State:'vihr',freq:{jaa:6, ei:13, eos:9}, barColor: 'green'}\n      //     ];\n    this.dashboard('#' + this.props.chartId, this.props.data);\n  }\n\n  componentDidUpdate() {\n    d3.select('#' + this.props.chartId).selectAll(\"*\").remove()\n    this.dashboard('#' + this.props.chartId, this.props.data);\n  }\n\n  dashboard(id, fData){\n        var barColor = 'black';\n        function segColor(c){ return {jaa:\"green\", ei:\"red\", 'poissa/tyhjiä':\"grey\"}[c]; }\n        \n        // compute total for each state.\n        fData.forEach(function(d){d.total=d.freq.jaa+d.freq.ei+d.freq[\"poissa/tyhjiä\"];});\n        \n        // function to handle histogram.\n        function histoGram(fD){\n            var hG={},    hGDim = {t: 60, r: 0, b: 30, l: 0};\n            hGDim.w = 250 - hGDim.l - hGDim.r;\n            hGDim.h = 300 - hGDim.t - hGDim.b;\n\n            //create svg for histogram.\n            var hGsvg = d3.select(id).append(\"svg\")\n                .attr(\"width\", hGDim.w + hGDim.l + hGDim.r)\n                .attr(\"height\", hGDim.h + hGDim.t + hGDim.b).append(\"g\")\n                .attr(\"transform\", \"translate(\" + hGDim.l + \",\" + hGDim.t + \")\");\n            \n            // create function for x-axis mapping.\n            var x = d3.scaleBand().rangeRound([0, hGDim.w], 0.1)\n                    .domain(fD.map(function(d) { return d[0]; }));\n            x.paddingInner(0.05);\n\n            // Add x-axis to the histogram svg.\n            hGsvg.append(\"g\").attr(\"class\", \"x axis\")\n                .attr(\"transform\", \"translate(0,\" + hGDim.h + \")\")\n                .call(d3.axisBottom(x).tickFormat(function(d){ return d;}));\n            \n            hGsvg.append(\"text\").text('Edustajat puolueittain')\n            .attr(\"x\", 0)\n            .attr(\"y\", -35)\n            .attr(\"fill\", \"grey\")\n    \n            // Create function for y-axis map.\n            var y = d3.scaleLinear().range([hGDim.h, 0])\n                    .domain([0, d3.max(fD, function(d) { return d[1]; })]);\n    \n            // Create bars for histogram to contain rectangles and freq labels.\n            var bars = hGsvg.selectAll(\".bar\").data(fD).enter()\n                    .append(\"g\").attr(\"class\", \"bar\");\n            \n            //create the rectangles.\n            bars.append(\"rect\")\n                .attr(\"x\", function(d) { return x(d[0]); })\n                .attr(\"y\", function(d) { return y(d[1]); })\n                .attr(\"width\", x.bandwidth())\n                .attr(\"height\", function(d) { return hGDim.h - y(d[1]); })\n                .attr('fill',  function(d) { const color = fData.filter(x => x.State == d[0])[0].barColor;\n                   return color; })\n                .on(\"mouseover\",mouseover)// mouseover is defined below.\n                .on(\"mouseout\",mouseout);// mouseout is defined below.\n                \n            //Create the frequency labels above the rectangles.\n            bars.append(\"text\").text(function(d){ return d3.format(\",\")(d[1])})\n                .attr(\"x\", function(d) { return x(d[0])+x.bandwidth()/2; })\n                .attr(\"y\", function(d) { return y(d[1])-5; })\n                .attr(\"text-anchor\", \"middle\");\n            \n            function mouseover(d){  // utility function to be called on mouseover.\n                // filter for selected state.\n                var st = fData.filter(function(s){ return s.State == d[0];})[0],\n                    nD = d3.keys(st.freq).map(function(s){ return {type:s, freq:st.freq[s]};});\n                   \n                // call update functions of pie-chart and legend.    \n                pC.update(nD);\n                leg.update(nD);\n            }\n            \n            function mouseout(d){    // utility function to be called on mouseout.\n                // reset the pie-chart and legend.    \n                pC.update(tF);\n                leg.update(tF);\n            }\n            \n            // create function to update the bars. This will be used by pie-chart.\n            hG.update = function(nD, color){\n                // update the domain of the y-axis map to reflect change in frequencies.\n                y.domain([0, d3.max(nD, function(d) { return d[1]; })]);\n                \n                // Attach the new data to the bars.\n                var bars = hGsvg.selectAll(\".bar\").data(nD);\n                \n                // transition the height and color of rectangles.\n                bars.select(\"rect\").transition().duration(500)\n                    .attr(\"y\", function(d) {return y(d[1]); })\n                    .attr(\"height\", function(d) { return hGDim.h - y(d[1]); })\n    \n                // transition the frequency labels location and change value.\n                bars.select(\"text\").transition().duration(500)\n                    .text(function(d){ return d3.format(\",\")(d[1])})\n                    .attr(\"y\", function(d) {return y(d[1])-5; });            \n            }        \n            return hG;\n        }\n        \n        // function to handle pieChart.\n        function pieChart(pD){\n            var pC ={},    pieDim ={w:250, h: 290};\n            pieDim.r = Math.min(pieDim.w, pieDim.h) / 2;\n                    \n            // create svg for pie chart.\n            var piesvg = d3.select(id).append(\"svg\")\n                .attr(\"width\", pieDim.w).attr(\"height\", pieDim.h).append(\"g\")\n                .attr(\"transform\", \"translate(\"+pieDim.w/2+\",\"+pieDim.h/2+\")\");\n            \n            piesvg.append(\"text\").text('Kantojen jakauma')\n                .attr(\"x\", 0)\n                .attr(\"y\", -130)\n                .attr('text-anchor', 'middle')\n                .attr(\"fill\", \"grey\")\n\n            // create function to draw the arcs of the pie slices.\n            var arc = d3.arc().outerRadius(pieDim.r - 10).innerRadius(0);\n    \n            // create a function to compute the pie slice angles.\n            var pie = d3.pie().sort(null).value(function(d) { return d.freq; });\n    \n            // Draw the pie slices.\n            piesvg.selectAll(\"path\").data(pie(pD)).enter().append(\"path\").attr(\"d\", arc)\n                .each(function(d) { this._current = d; })\n                .style(\"fill\", function(d) { return segColor(d.data.type); })\n                .on(\"mouseover\",mouseover).on(\"mouseout\",mouseout);\n    \n            // create function to update pie-chart. This will be used by histogram.\n            pC.update = function(nD){\n                piesvg.selectAll(\"path\").data(pie(nD)).transition().duration(500)\n                    .attrTween(\"d\", arcTween);\n            }        \n            // Utility function to be called on mouseover a pie slice.\n            function mouseover(d){\n                // call the update function of histogram with new data.\n                hG.update(fData.map(function(v){ \n                    return [v.State,v.freq[d.data.type]];}),segColor(d.data.type));\n            }\n            //Utility function to be called on mouseout a pie slice.\n            function mouseout(d){\n                // call the update function of histogram with all data.\n                hG.update(fData.map(function(v){\n                    return [v.State,v.total];}), barColor);\n            }\n            // Animating the pie-slice requiring a custom function which specifies\n            // how the intermediate paths should be drawn.\n            function arcTween(a) {\n                var i = d3.interpolate(this._current, a);\n                this._current = i(0);\n                return function(t) { return arc(i(t));    };\n            }    \n            return pC;\n        }\n        \n        // function to handle legend.\n        function legend(lD){\n            var leg = {};\n                \n            // create table for legend.\n            var legend = d3.select(id).append('div').attr('class','legend-div')\n\n            legend.append(\"text\").text('Prosentuaaliset osuudet').style(\"color\", \"grey\");\n            \n            legend.append(\"table\").style(\"color\", \"black\");\n\n            \n            // create one row per segment.\n            var tr = legend.append(\"tbody\").attr('class','legend').selectAll(\"tr\").data(lD).enter().append(\"tr\");\n            legend.append(\"tbody\").selectAll(\"tr\").data(lD).enter().append(\"tr\")\n            // create the first column for each segment.\n            tr.append(\"td\").append(\"svg\").attr(\"width\", '8').attr(\"height\", '16').append(\"rect\")\n                .attr(\"width\", '8').attr(\"height\", '16')\n                .attr(\"fill\",function(d){ return segColor(d.type); });\n                \n            // create the second column for each segment.\n            tr.append(\"td\").text(function(d){ return d.type;});\n    \n            // create the third column for each segment.\n            tr.append(\"td\").attr(\"class\",'legendFreq')\n                .text(function(d){ return d3.format(\",\")(d.freq);});\n    \n            // create the fourth column for each segment.\n            tr.append(\"td\").attr(\"class\",'legendPerc')\n                .text(function(d){ return getLegend(d,lD);});\n    \n            // Utility function to be used to update the legend.\n            leg.update = function(nD){\n                // update the data attached to the row elements.\n                var l = legend.select(\"tbody\").selectAll(\"tr\").data(nD);\n    \n                // update the frequencies.\n                l.select(\".legendFreq\").text(function(d){ return d3.format(\",\")(d.freq);});\n    \n                // update the percentage column.\n                l.select(\".legendPerc\").text(function(d){ return getLegend(d,nD);});        \n            }\n            \n            function getLegend(d,aD){ // Utility function to compute percentage.\n                return d3.format(\"0.2%\")(d.freq/d3.sum(aD.map(function(v){ return v.freq; })));\n            }\n    \n            return leg;\n        }\n        \n        // calculate total frequency by segment for all state.\n        var tF = ['jaa','ei','poissa/tyhjiä'].map(function(d){ \n            return {type:d, freq: d3.sum(fData.map(function(t){ return t.freq[d];}))}; \n        });    \n        \n        // calculate total frequency by state for all segment.\n        var sF = fData.map(function(d){return [d.State,d.total];});\n        \n        var hG = histoGram(sF), // create the histogram.\n            pC = pieChart(tF), // create the pie-chart.\n            leg= legend(tF);  // create the legend.\n    }\n        \n  render(){\n    return <div className='simple-chart' id={this.props.chartId} />\n  }\n}\n\nconst mapStateToProps = state => ({\n  questions: state.kysymykset\n});\n\nexport default connect(\n  mapStateToProps,\n  null\n)(SimpleOpinionChart)","import React from 'react';\nimport { connect } from 'react-redux';\nimport SimpleOpinionChart from '../../general/SimpleOpinionChart';\nimport '../../../css/Chart.css'\n\n\nclass SimpleYleChart extends React.Component {\n\n  opinions = (party) => {\n    party = this.props.yle2019.parties[party]\n    let selectedMembers = party.filter( member => member['Valintatieto (0=ei valita, 1=valitaan, 2=varalla)'] == '1')\n    let opinions = selectedMembers.map(member => this.opinonsHelper(member[this.props.yleQuestion]))\n    let freq = {jaa: opinions.filter(o => o == 'jaa').length, ei: opinions.filter(o => o == 'ei').length, 'poissa/tyhjiä': opinions.filter(o => o == 'poissa/tyhjiä').length}\n    return freq\n  }\n\n  opinonsHelper = (yleOpionNumber) => {\n    let opinion = 'poissa/tyhjiä'\n    switch (yleOpionNumber) {\n      case '1':\n        opinion = 'ei'\n        break\n      case '2':\n        opinion = 'ei'\n        break\n      case '4':\n        opinion = 'jaa'\n        break\n      case '5':\n        opinion = 'jaa'\n        break\n      default:\n        break\n    }\n    return opinion\n  }\n  parseParties = (party) => {\n    let puolue = party\n    switch (party) {\n      case 'Keskusta':\n        puolue = 'kesk'\n        break\n      case 'Perussuomalaiset':\n        puolue = 'ps'\n        break\n      case 'Kokoomus':\n        puolue = 'kok'\n        break\n      case 'SDP':\n        puolue = 'sdp'\n        break\n      case 'Vihreät':\n        puolue = 'vihr'\n        break\n      case 'Vasemmistoliitto':\n        puolue = 'vas'\n        break\n      case 'RKP':\n        puolue = 'rkp'\n        break\n      case 'Kristillisdemokraatit':\n        puolue = 'kd'\n        break\n      case 'Liike Nyt':\n        puolue = 'nyt'\n        break\n      default:\n        break\n    }\n    return puolue\n  }\n\n  getColor = (party) => {\n    let puolue = 'grey'\n    switch (party) {\n      case 'Keskusta':\n        puolue = '#006600'\n        break\n      case 'Perussuomalaiset':\n        puolue = '#000066'\n        break\n      case 'Kokoomus':\n        puolue = '#0099ff'\n        break\n      case 'SDP':\n        puolue = '#ff3300'\n        break\n      case 'Vihreät':\n        puolue = '#33cc33'\n        break\n      case 'Vasemmistoliitto':\n        puolue = '#660033'\n        break\n      case 'RKP':\n        puolue = '#ffcc00'\n        break\n      case 'Kristillisdemokraatit':\n        puolue = '#ffff66'\n        break\n      case 'Liike Nyt':\n        puolue = '#cc0099'\n        break\n      default:\n        break\n    }\n    return puolue\n  }\n        \n  render(){\n\n    let keys = Object.keys(this.props.yle2019.parties)\n    let data = keys.map(party => ({State: this.parseParties(party), freq: this.opinions(party), barColor: this.getColor(party)}))\n    data = data.sort(function (a, b) {\n      const aTotal = a.freq.ei + a.freq.jaa + a.freq['poissa/tyhjiä']\n      const bTotal = b.freq.ei + b.freq.jaa + b.freq['poissa/tyhjiä']\n      return bTotal - aTotal;\n    })\n    \n    return <div className='font-chart' key={data}>\n      {data && <SimpleOpinionChart data={data} \n          chartId=\"simpleYleChartSVG\"\n          />}\n        <br/>\n        <br/>\n\n      Ylen datan kaaviossa ei ole huomioitu Ahvenanmaan edustajaa. Puhemies sen sijaan on mukana.\n    </div>\n  }\n}\n\nconst mapStateToProps = state => ({\n  questions: state.kysymykset,\n  yle2019: state.yle2019\n});\n\nexport default connect(\n  mapStateToProps,\n  null\n)(SimpleYleChart)","export const aliases = [\n    \"aittakumpupekka\",\n    \"alanko-kahiluotoouti\",\n    \"anderssonli\",\n    \"antikainensanna\",\n    \"arhinmäkipaavo\",\n    \"asellmarko\",\n    \"auttoheikki\",\n    \"bergkim\",\n    \"bergqvistsandra\",\n    \"biaudeteva\",\n    \"blomqvistthomas\",\n    \"eerolajuho\",\n    \"eestilämarkku\",\n    \"elotiina\",\n    \"elomaaritva\",\n    \"elorantaeeva-johanna\",\n    \"eskelinenseppo\",\n    \"essayahsari\",\n    \"filatovtarja\",\n    \"forsgrénbelaynesh\",\n    \"grahn-laasonensanni\",\n    \"gustafssonjukka\",\n    \"guzeninamaria\",\n    \"haatainentuula\",\n    \"haavistopekka\",\n    \"hakkarainenteuvo\",\n    \"harakkatimo\",\n    \"harjanneatte\",\n    \"harkimoharry\",\n    \"hassisatu\",\n    \"heikkinenhannakaisa\",\n    \"heikkinenjanne\",\n    \"heinonentimo\",\n    \"heinäluomaeveliina\",\n    \"henrikssonanna-maja\",\n    \"holopainenhanna\",\n    \"holopainenmari\",\n    \"honkasaloveronika\",\n    \"honkonenpetri\",\n    \"hopsuinka\",\n    \"hoskonenhannu\",\n    \"huhtasaarilaura\",\n    \"huttunenhanna\",\n    \"hyrkkösaara\",\n    \"häkkänenantti\",\n    \"hänninenkatja\",\n    \"ikonenanna-kaisa\",\n    \"immonenolli\",\n    \"jokinenkalle\",\n    \"junnilavilhelm\",\n    \"juusokaisa\",\n    \"juvonenarja\",\n    \"järvinenheli\",\n    \"kaikkonenantti\",\n    \"kallieeva\",\n    \"kalliorinneristo\",\n    \"kalmarianne\",\n    \"kanervailkka\",\n    \"kariemma\",\n    \"karimika\",\n    \"kaumapia\",\n    \"kaunistoville\",\n    \"kauttojuho\",\n    \"kemppihilkka\",\n    \"keto-huovinenpihla\",\n    \"kiljunenanneli\",\n    \"kiljunenkimmo\",\n    \"kilpimarko\",\n    \"kinnunenmikko\",\n    \"kiurukrista\",\n    \"kiurupauli\",\n    \"kivelämai\",\n    \"kivirantaesko\",\n    \"kivisaaripasi\",\n    \"kontulaanna\",\n    \"koponenari\",\n    \"koponennoora\",\n    \"koprajukka\",\n    \"koskelajari\",\n    \"koskinenjohannes\",\n    \"kosonenhanna\",\n    \"kotiahojouni\",\n    \"koulumiesterhi\",\n    \"kulmunikatri\",\n    \"kurvinenantti\",\n    \"kvarnströmjohan\",\n    \"kymäläinensuna\",\n    \"kärnämikko\",\n    \"könttäjoonas\",\n    \"laaksosheikki\",\n    \"laihomia\",\n    \"laukkanenantero\",\n    \"lehtorami\",\n    \"lepomäkielina\",\n    \"leppäjari\",\n    \"lindénaki\",\n    \"lindtmanantti\",\n    \"lintilämika\",\n    \"lohimarkus\",\n    \"lohikoskipia\",\n    \"lundénmikko\",\n    \"löfströmmats\",\n    \"malmniina\",\n    \"marinsanna\",\n    \"marttinenmatias\",\n    \"mattilahanna-leena\",\n    \"merileena\",\n    \"mikkonenkrista\",\n    \"multalasari\",\n    \"mustajärvimarkus\",\n    \"mykkänenkai\",\n    \"myllykoskijari\",\n    \"mäenpääjuha\",\n    \"mäkeläjani\",\n    \"mäkinenriitta\",\n    \"mäkisalo-ropponenmerja\",\n    \"mäkynenjukka\",\n    \"niemiveijo\",\n    \"niikkomika\",\n    \"norrbackanders\",\n    \"nurminenilmari\",\n    \"ohisalomaria\",\n    \"ojala-niemeläjohanna\",\n    \"ollikainenmikko\",\n    \"orpopetteri\",\n    \"ovaskajouni\",\n    \"paaterosirpa\",\n    \"packaléntom\",\n    \"pekonenaino-kaisa\",\n    \"pelkonenjaana\",\n    \"peltokangasmauri\",\n    \"peteliuspirkka-pekka\",\n    \"piirainenraimo\",\n    \"pirttilahtiarto\",\n    \"pitkojenni\",\n    \"puistosakari\",\n    \"purrariikka\",\n    \"pylväsjuha\",\n    \"raatikainenmika\",\n    \"rannelulu\",\n    \"rantakangasantti\",\n    \"rantanenmari\",\n    \"rantanenpiritta\",\n    \"rehn-kiviveronica\",\n    \"reijonenminna\",\n    \"risikkopaula\",\n    \"ronkainenjari\",\n    \"rydmanwille\",\n    \"räsänenpäivi\",\n    \"saarikkoannika\",\n    \"salonenkristiina\",\n    \"sankelojanne\",\n    \"saramojussi\",\n    \"sarkkinenhanna\",\n    \"sarkomaasari\",\n    \"satonenarto\",\n    \"saviosami\",\n    \"savolamikko\",\n    \"semimatti\",\n    \"simulajenna\",\n    \"sipiläjuha\",\n    \"sirénsaara-sofia\",\n    \"sjöblomruut\",\n    \"skinnariville\",\n    \"slunga-poutsaloriikka\",\n    \"soinikoskimirka\",\n    \"strandjoakim\",\n    \"suomelaiiris\",\n    \"taeehussein\",\n    \"taimelakatja\",\n    \"talvitiemari-leena\",\n    \"tanussari\",\n    \"tavioville\",\n    \"tolvanenkari\",\n    \"torniainenari\",\n    \"tuomiojaerkki\",\n    \"tuppurainentytti\",\n    \"turtiainenano\",\n    \"tynkkynensebastian\",\n    \"urpilainenjutta\",\n    \"vallinveikko\",\n    \"wallinheimosinuhe\",\n    \"vanhanenmatti\",\n    \"vartiainenjuhana\",\n    \"vehviläinenanu\",\n    \"werningpaula\",\n    \"vestmanheikki\",\n    \"wihonenjussi\",\n    \"viitanenpia\",\n    \"vikmansofia\",\n    \"viljanenheidi\",\n    \"virolainenanne-mari\",\n    \"virtasofia\",\n    \"vähämäkiville\",\n    \"väätäinentuula\",\n    \"yrttiahojohannes\",\n    \"zyskowiczben\",\n    \"östmanpeter\"\n  ]\n\n  export default {\n    aliases,\n}","import React from 'react';\nimport {Bubble} from 'react-chartjs-2';\nimport { Table } from 'semantic-ui-react'\nimport '../../../css/FundsModal.css'\n\nclass SingleQuestionChartAndTable extends React.Component {\n   \n  render() {\n    const selectedPartyData = this.props.selectedPartyData\n    const selectedPartyMembers = this.props.funds.filter(x => x.party == this.props.selectedParty)\n    \n    return(\n        <div>\n        {window.innerWidth > 700 && \n            <div style={{paddingTop: '2em'}}>\n            <h2>Rahoituksen jakautuminen</h2>\n            <Table striped className='funds-table'>\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>{this.props.selectedParty == 'Kaikki' ? 'Puolue' : '' }</Table.HeaderCell>\n                        <Table.HeaderCell>Jaa</Table.HeaderCell>\n                        <Table.HeaderCell>Ei</Table.HeaderCell>\n                        <Table.HeaderCell>Tyhja/Poissa</Table.HeaderCell>\n                        <Table.HeaderCell>Yhteensä</Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n                {this.props.selectedParty == 'Kaikki' ?  this.props.data.sort(function(a,b) {return b.sum - a.sum}).map(x => \n                    <Table.Body>\n                        <Table.Row>\n                            <Table.Cell>{x.party}</Table.Cell>\n                            <Table.Cell>{x.jaa.sum} €</Table.Cell>\n                            <Table.Cell>{x.ei.sum} €</Table.Cell>\n                            <Table.Cell>{x.poissa.sum} €</Table.Cell>\n                            <Table.Cell>{x.sum} €</Table.Cell>\n                        </Table.Row>\n                    </Table.Body>\n\n                ) : \n                    <Table.Body>\n                        <Table.Row>\n                            <Table.Cell><b>Jakauma</b></Table.Cell>\n                            <Table.Cell>{selectedPartyData.jaa.sum} €</Table.Cell>\n                            <Table.Cell>{selectedPartyData.ei.sum} €</Table.Cell>\n                            <Table.Cell>{selectedPartyData.poissa.sum} €</Table.Cell>\n                            <Table.Cell>{selectedPartyData.sum} €</Table.Cell>\n                        </Table.Row>\n                        <Table.Row>\n                            <Table.Cell><b>Edustajien määrä</b></Table.Cell>\n                            <Table.Cell>{selectedPartyData.jaa.members.length}</Table.Cell>\n                            <Table.Cell>{selectedPartyData.ei.members.length}</Table.Cell>\n                            <Table.Cell>{selectedPartyData.poissa.members.length}</Table.Cell>\n                            <Table.Cell>{selectedPartyData.members}</Table.Cell>\n                        </Table.Row>\n                        <Table.Row>\n                            <Table.Cell><b>Rahoitusta keskimäärin</b></Table.Cell>\n                            <Table.Cell>{Math.round(selectedPartyData.jaa.sum/selectedPartyData.jaa.members.length)} €</Table.Cell>\n                            <Table.Cell>{Math.round(selectedPartyData.ei.sum/selectedPartyData.ei.members.length)} €</Table.Cell>\n                            <Table.Cell>{Math.round(selectedPartyData.poissa.sum/selectedPartyData.poissa.members.length)} €</Table.Cell>\n                            <Table.Cell>{Math.round(selectedPartyData.sum/selectedPartyData.members)} €</Table.Cell>\n                        </Table.Row>\n                    </Table.Body>\n                }\n            </Table>\n            </div>\n        }\n\n        {selectedPartyData &&\n        <div style={{marginTop: '1em'}}>\n            <div style={{paddingBottom: '1em'}}>\n                <h3>Koonti edustajien rahoituksen jakautumisesta</h3>\n                Kuvaajassa x-akselilla on rahoituksen määrä yhteensä ja y-akselilla rahoitus keskimäärin.\n                Pallon koko on suhteessa edustajien määrään.\n                <br/>\n            </div>\n            <div style={{background: 'white', color: 'black', borderRadius: '3px'}} >\n            <Bubble\n                \n                data = {{\n                    datasets: [\n                        {\n                            label: 'Koonti',\n                            data: [\n                                { \n                                    x: selectedPartyData.sum, \n                                    y: Math.round(selectedPartyData.sum/selectedPartyData.members), \n                                    r: selectedPartyData.members > 50 ? selectedPartyData.members / 3 : selectedPartyData.members\n                                }\n                            ],\n                        },\n                        {\n                            label: 'Ei',\n                            data: [\n                                { \n                                    x: selectedPartyData.ei.sum,\n                                    y: Math.round(selectedPartyData.ei.sum/selectedPartyData.ei.members.length),\n                                    r: selectedPartyData.members > 50 ? selectedPartyData.ei.members.length / 4 : selectedPartyData.ei.members.length\n                                }\n                            ],\n                            backgroundColor:\"red\",\n                            hoverBackgroundColor: \"pink\"\n                        },\n                        {\n                            label: 'Eos',\n                            data: [\n                                { \n                                    x: selectedPartyData.poissa.sum,\n                                    y: Math.round(selectedPartyData.poissa.sum/selectedPartyData.poissa.members.length),\n                                    r: selectedPartyData.members > 50 ? selectedPartyData.poissa.members.length / 4 : selectedPartyData.poissa.members.length\n                                }\n                            ],\n                            backgroundColor:\"grey\",\n                            hoverBackgroundColor: \"lightgrey\"\n                        },\n                        {\n                            label: 'Jaa',\n                            data: [\n                                { \n                                    x: selectedPartyData.jaa.sum,\n                                    y: Math.round(selectedPartyData.jaa.sum/selectedPartyData.jaa.members.length),\n                                    r: selectedPartyData.members > 50 ? selectedPartyData.jaa.members.length / 4 :  selectedPartyData.jaa.members.length\n                                }\n                            ],\n                            backgroundColor:\"green\",\n                            hoverBackgroundColor: \"lightgreen\"\n                        }\n                    ],\n                }}\n            />\n            </div>\n        </div>\n        }\n\n        {this.props.selectedParty != 'Kaikki' && \n            <div>\n                <br/>\n                <h2>Edustajien rahoituksen lähteet</h2>\n            <Table style={{width: '120%'}}> \n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>Edustaja</Table.HeaderCell>\n                        <Table.HeaderCell>Kanta</Table.HeaderCell>\n                        <Table.HeaderCell>Rahoittaja</Table.HeaderCell>\n                        <Table.HeaderCell>Rahoitus</Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n                {selectedPartyMembers.map(member=> \n                <Table.Body>\n                    <Table.Row>\n                         <Table.Cell>{member.alias.toUpperCase()}</Table.Cell>\n                         <Table.Cell>{member.opinion}</Table.Cell>\n                    </Table.Row>\n                    {member.funds.map(x => \n                    <Table.Row>\n                        <Table.Cell />\n                        <Table.Cell />\n                        <Table.Cell>{x.funder.slice(0, 40)}</Table.Cell>\n                        <Table.Cell>{x.sum}</Table.Cell>\n                    </Table.Row>\n                    )}\n                    <Table.Row>\n                        <Table.Cell />\n                        <Table.Cell />\n                        <Table.Cell><b>Yhteensä</b></Table.Cell>\n                        <Table.Cell><b>{member.sum}</b></Table.Cell>\n                    </Table.Row>\n                </Table.Body>\n                )}\n            </Table>\n            </div>\n\n        }\n        </div>\n    )\n  }\n}\n\nexport default SingleQuestionChartAndTable","import React from 'react';\nimport { Dropdown } from 'semantic-ui-react'\nimport SingleQuestionChartAndTable from './SingleQuestionChartAndTable';\n\nclass BubbleChart extends React.Component {\n  state = {\n    activeIndex: false,\n    selectedParty: 'Kaikki'\n  }\n\n  componentWillMount = () => {\n    const parties = this.props.funds.map(x => x.party)\n    let uniqParties = [...new Set(parties)]\n    \n    const data = uniqParties.map(x => this.parseParty(x))\n    let jaaMoney = 0\n    data.forEach(x => jaaMoney = jaaMoney + x.jaa.sum)\n\n    let eiMoney = 0\n    data.forEach(x => eiMoney = eiMoney + x.ei.sum)\n\n    let eosMoney = 0\n    data.forEach(x => eosMoney = eosMoney + x.poissa.sum)\n    const selectedPartyData = {\n        party: 'Kaikki',\n        members: this.props.funds.length,\n        sum: eosMoney + eiMoney + jaaMoney,\n        poissa: {\n            sum: eosMoney,\n            members: this.props.funds.filter(x => x.opinion == 'Poissa' || x.opinion == 'Tyhjä')\n        },\n        ei: {\n            sum: eiMoney,\n            members: this.props.funds.filter(x => x.opinion == 'Ei')\n        },\n        jaa: {\n            sum: jaaMoney,\n            members: this.props.funds.filter(x => x.opinion == 'Jaa')\n        }\n    }\n    data.push(selectedPartyData)\n    uniqParties.push('Kaikki')\n    this.setState({data, parties: uniqParties, selectedParty: 'Kaikki', selectedPartyData})\n  }\n\n  parseParty = (party) => {\n    const partyData = this.props.funds.filter(x => x.party == party)\n    const memebersWithOpinion = partyData.map(x =>  this.setOpinion(x))\n    const jaa = memebersWithOpinion.filter(x => x.opinion == 'Jaa')\n    const ei = memebersWithOpinion.filter(x => x.opinion == 'Ei')\n    const poissa = memebersWithOpinion.filter(x => x.opinion == 'Poissa' || x.opinion == 'Tyhjä')\n\n    return {\n        party,\n        members: memebersWithOpinion.length,\n        sum: memebersWithOpinion.map(x => x.sum).reduce(function(acc, val) { return acc + val; }, 0),\n        poissa: {\n            sum: poissa.map(x => x.sum).reduce(function(acc, val) { return acc + val; }, 0),\n            members: poissa\n        },\n        ei: {\n            sum: ei.map(x => x.sum).reduce(function(acc, val) { return acc + val; }, 0),\n            members: ei\n        },\n        jaa: {\n            sum: jaa.map(x => x.sum).reduce(function(acc, val) { return acc + val; }, 0),\n            members: jaa\n        }\n    }\n  }\n\n  setOpinion = (member) => {\n    const opinon = this.props.question.edustajat.find(x => x.nimi.toLowerCase().includes(member.alias))\n    member['opinion'] = opinon && opinon.kanta ? opinon.kanta : 'poissa'\n    return member\n  }\n\n  handlePartyChange = (e, { name, value }) => {\n      this.setState({selectedPartyData: this.state.data.find(x => x.party == value), selectedParty: value})\n  }\n\n  render() {\n    const dropParties = this.state.parties.map(x => {return {value: x, text: x}})\n    const selectedPartyData = this.state.selectedPartyData\n\n    return(\n        <div style={{paddingTop: '2em'}}>\n            <b style={{textAlign: 'left'}}>Valitse puolue, jota haluat tarkastella</b>\n            <Dropdown\n                scrolling\n                text={this.state.selectedParty}\n                style={{fontWeight: 'bold', borderTop: '2px solid #004d99'}}\n                type=\"text\"\n                name=\"question\"\n                value={this.state.selectedParty}\n                onChange={this.handlePartyChange.bind(this)}\n                fluid \n                search \n                selection \n                options={dropParties} \n            /> \n            <SingleQuestionChartAndTable \n                data={this.state.data} \n                selectedParty={this.state.selectedParty} \n                funds={this.props.funds} \n                selectedPartyData={selectedPartyData}/>\n        </div>\n    )\n  }\n}\n\nexport default BubbleChart","import React from 'react';\nimport Papa from 'papaparse'\nimport csv from './rahoitus.csv'\nimport { aliases } from '../../general/memberAliases'\nimport OpinonToFunds from './OpinonToFunds'\n\nclass  ParseFunds extends React.Component {\n    constructor(props) {\n        // Call super class\n        super(props);\n    this.update = this.update.bind(this);\n\n  this.state = {\n    parties: [\"Kokoomus\", \"Perussuomalaiset\", \"RKP\", \"SDP\", \"Keskusta\", \"Kristillisdemokraatit\",\"Vasemmistoliitto\", \"Vihreät\", \"Liike Nyt\" ],\n    done: false\n    }\n}\n\n  componentDidMount = async () => {\n    await Papa.parse(csv, {\n      header: true,\n      download: true,\n      complete: this.update\n    })\n}\n\n\n  update(results) {\n      this.setState({data: results.data})\n      this.handelFunds(results.data)\n      \n  }\n\n  handelFunds = (results) => {\n      // const q = this.props.questions.find(x => x.tunniste == 'heu')\n      // const edustajat = this.props.question.edustajat.map(x => x.nimi.split('/')[0].replace(\"'\", \"\").toLowerCase())\n      const fundPersons = results.map(\n          x => {return {\n          nimi: (x[\"'Tuen saajan Sukunimi'\"].substring(1, x[\"'Tuen saajan Sukunimi'\"].length-1) +\n          x[\"'Tuen saajan etunimet'\"].substring(1, x[\"'Tuen saajan etunimet'\"].length-1))\n          .toLowerCase(), data: x}}\n          )\n\n\n      const parsedFunds = aliases.map(x => this.parseFunds(x, fundPersons.filter(y => y.nimi == x)))\n      this.setState({funds: parsedFunds})\n  }\n\n  parseFunds = (member, memberFunds) => {\n    const parsedFunds = memberFunds.map(x => this.selectFunder(x.data))\n    let copy = parsedFunds\n    let sum = 0\n    copy.forEach(element => {\n        sum = sum + parseInt(element.sum)\n    });\n    \n    return { \n        alias: member,\n        sum: sum,\n        funds: parsedFunds,\n        party: memberFunds.length > 0 ? this.removeDots(memberFunds[0].data[\"'Tuen saajan puolue'\"]) : 'Ei rahoitusta/ilmoitusta',\n    }\n  }\n\n  selectFunder = (fund) => {\n    if (fund[\"'Lainan nimi'\"].length > 2) {\n        return {funder: this.removeDots(fund[\"'Lainan nimi'\"]), sum: this.removeDots(fund[\"'Tuen maara'\"])}\n    } if (fund[\"'Tukija'\"].length > 2) {\n        return {funder: this.removeDots(fund[\"'Tukija'\"]), sum: this.removeDots(fund[\"'Tuen maara'\"])}\n    } else {\n        return {funder: `${this.removeDots(fund[\"'Tukijan sukunimi'\"])} ${this.removeDots(fund[\"'Tukijan etunimet'\"])}`, sum: this.removeDots(fund[\"'Tuen maara'\"])}\n    }\n  }\n\n  removeDots = (str) => {\n    str = str.replace(/\\s/g, '')\n    return str.substring(1, str.length-1)\n  }\n\n \n  render() {\n    return(\n   <div>\n      {this.state.funds && <OpinonToFunds question={this.props.question} funds={this.state.funds}/>}\n   </div>\n    )\n  }\n}\n\nexport default ParseFunds","import React from 'react';\nimport ParseFunds from './parseFundFile'\nimport { Modal, Message } from 'semantic-ui-react'\nimport InfoAccordion from '../../general/InfoAccordion';\nimport '../../../css/FundsModal.css'\n\nclass FundModal extends React.Component {\n \n  render() {\n    \n    return(\n    <Modal trigger={<button className='button'>Vaalirahoitus</button>} basic size='small'>\n        <div className='funds-container'>\n          <h3 className='funds-title'>Vaalirahoitus</h3>\n         \n          <InfoAccordion \n            title=\"Tietoja vaalirahoituksen jakautumisesta alla olevassa kysymyksessä.\n            Valitsemalla puolueen näet edustajien rahoituksen lähteet.\" \n            text=\"Tarkastelussa on otettu huomioon vain ehdokkaiden saama vaalirahoitus. Näin siitä syystä,\n            että puolueiden oma rahoitus kanavoituu piirijärjestöille. \n            Lisäksi rahoitus tulee piirijärjestöille usein säätiöiden ja yhdistysten kautta, jolloin lähteen selvittäminen on hankalampaa.\n            Voit tarkastella ajantaistaista puoluerahoitusta vaalirahoitusvalvonnan sivuilta\"\n            endLink=\"https://www.vaalirahoitusvalvonta.fi/fi/index/puoluetukiilmoituksia/ilmoituslistaus/ajantasaisetilmoitukset.html\"\n            />\n          <br/>\n          <b>{this.props.question.kysymys}</b>\n          <br/>\n          <br/>\n          <Message\n            content='Huomaathan hallitus­­­­—oppositio -jakolinjan tarkastellessasi vaalirahoitusta'\n            color='yellow'\n          />\n          <ParseFunds question={this.props.question} />\n        </div>\n      </Modal>\n    )\n  }\n}\n\nexport default FundModal","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Segment, Dropdown, Dimmer, Loader, Icon, Button, Modal } from 'semantic-ui-react'\nimport '../../css/Home.css'\nimport '../../App.css'\n\nimport SimpleOpinionChart from '../general/SimpleOpinionChart';\nimport InfoAccordion from '../general/InfoAccordion';\nimport SimpleYleChart from './yle2019/SimpleYleChart';\nimport FundsModal from './funds/FundsModal';\n\nclass SingleQuestionData extends React.Component {\n    state = {\n      yle2019: this.props.question.yle2019,\n      question: this.props.question,\n      questionIndex: 0,\n      active: false\n    }\n  componentDidMount() {\n      this.setQuestionData(this.props.question)\n  }\n\n  setQuestionData = (question) => {\n    const questionData = question.puolueet.map( party => ({ \n      State: this.parseParties(party.nimi), \n      freq: {jaa: party.jaa, ei: party.ei, \"poissa/tyhjiä\": party.tyhjia + party.poissa},\n      barColor: this.getColor(party.nimi)\n      }\n    ))\n    this.setState({questionData})  \n  }\n\n  parseParties = (party) => {\n    let puolue = party\n    switch (party) {\n      case 'Keskustan eduskuntaryhmä':\n        puolue = 'kesk'\n        break\n      case 'Perussuomalaisten eduskuntaryhmä':\n        puolue = 'ps'\n        break\n      case 'Kansallisen kokoomuksen eduskuntaryhmä':\n        puolue = 'kok'\n        break\n      case 'Sosialidemokraattinen eduskuntaryhmä':\n        puolue = 'sdp'\n        break\n      case 'Vihreä eduskuntaryhmä':\n        puolue = 'vihr'\n        break\n      case 'Vasemmistoliiton eduskuntaryhmä':\n        puolue = 'vas'\n        break\n      case 'Ruotsalainen eduskuntaryhmä':\n        puolue = 'rkp'\n        break\n      case 'Kristillisdemokraattinen eduskuntaryhmä':\n        puolue = 'kd'\n        break\n      case 'Liike Nyt -eduskuntaryhmä':\n        puolue = 'nyt'\n        break\n      default:\n        break\n    }\n    return puolue\n  }\n\n  getColor = (party) => {\n    let puolue = 'grey'\n    switch (party) {\n      case 'Keskustan eduskuntaryhmä':\n        puolue = '#006600'\n        break\n      case 'Perussuomalaisten eduskuntaryhmä':\n        puolue = '#000066'\n        break\n      case 'Kansallisen kokoomuksen eduskuntaryhmä':\n        puolue = '#0099ff'\n        break\n      case 'Sosialidemokraattinen eduskuntaryhmä':\n        puolue = '#ff3300'\n        break\n      case 'Vihreä eduskuntaryhmä':\n        puolue = '#33cc33'\n        break\n      case 'Vasemmistoliiton eduskuntaryhmä':\n        puolue = '#660033'\n        break\n      case 'Ruotsalainen eduskuntaryhmä':\n        puolue = '#ffcc00'\n        break\n      case 'Kristillisdemokraattinen eduskuntaryhmä':\n        puolue = '#ffff66'\n        break\n      case 'Liike Nyt -eduskuntaryhmä':\n        puolue = '#cc0099'\n        break\n      default:\n        break\n    }\n    return puolue\n  }\n\n  handleChange(e, { name, value }) {\n    this.setState({ [name]: value, questionIndex: this.state.questionIndex + 1 })\n  }\n\n  handleQuestionChange(e, { name, value }) {\n    this.setState({ [name]: this.props.questions.find(q => q.id == value) })\n    this.setQuestionData(this.props.questions.find(q => q.id == value))\n  }\n\n  parseQuestion = (q) => {\n    let slicedQ = (q.length > 50 && window.innerWidth < 700)? q.slice(0, 50) + '...' : q\n    return slicedQ\n  }\n\n  handleOpen = () => this.setState({ active: true })\n  handleClose = () => this.setState({ active: false })\n\n  render(){\n    const yleValues2019 = this.props.yle2019.headers.slice(4,33).map(x => x = { text: this.parseQuestion(x), value: x })\n    const questions = this.props.questions.filter(q => q.createdAt != null).map(q => q = {text: this.parseQuestion(q.kysymys), value: q.id})\n     \n    return <div style={{marginTop: '0.5em'}}>\n        <h1>Tulokset</h1>\n          <Dropdown\n            scrolling\n            text={this.state.question.kysymys}\n            style={{fontWeight: 'bold', borderTop: '2px solid #004d99'}}\n            type=\"text\"\n            name=\"question\"\n            value={this.state.question.id}\n            onChange={this.handleQuestionChange.bind(this)}\n            fluid \n            selection \n            options={questions}\n            search={false}\n          />\n          <div style={{marginLeft: '0.5em'}}>\n            <span className='question-text'>\n              <InfoAccordion \n                text={this.state.question.selitys}\n                title='Lisätietoja kysymyksestä'\n                question={this.state.question}\n                iconSize='small'\n                explain={this.state.question.explain}\n                />\n            </span>\n          </div>\n      <h3 style={{marginTop: '0.8em'}}>Tiedot</h3>\n      <p>Voit klikata palkkeja ja lohkoja tarkastellaksi puolueiden kantoja lähemmin.</p>\n      {this.state.questionData && <SimpleOpinionChart data={this.state.questionData} chartId='singleParliamentQuestion'/>}\n      <br />\n      <FundsModal question={this.props.question}/>\n      <br />\n      <br />\n\n      <hr className='chart-divider'/>\n      {this.props.yle2019.members.length > 0 ?\n      <Segment style={{fontSize: '1em'}} basic>\n      <h2>Yle</h2>\n      <Dropdown\n        search={false}\n        scrolling\n        text={this.state.yle2019}\n        style={{fontWeight: 'bold', marginBottom: '0.5em', borderTop: '2px solid #004d99'}} \n        type=\"text\"\n        name=\"yle2019\"\n        value={this.state.yle2019}\n        onChange={this.handleChange.bind(this)} \n        fluid \n        selection \n        options={yleValues2019} />\n      <div className=\"info-icon\" >\n        <Icon name=\"info circle\" size='small' />\n      </div>\n      <span style={{fontSize: '0.9em'}}>\n        Voit verrata eduskunnan käyttäytymistä edustajien antamiin vastauksiin valitsemassasi ylen vaalikonekysymyksessä.\n        Vastauksissa melko samaa mieltä on tulkittu jaaksi ja melko eri mieltä eiksi.\n      </span>\n      <br />\n      <br />\n      <SimpleYleChart yleQuestion={this.state.yle2019} />\n      </Segment>\n      :\n      <Segment basic style={{height: '5em'}}>\n      <Dimmer active>\n        <Loader indeterminate>Ladataan ylen dataa</Loader>\n      </Dimmer>\n      </Segment>\n      }\n    </div>\n  }\n}\n\nconst mapStateToProps = state => ({\n  questions: state.kysymykset,\n  yle2019: state.yle2019\n});\n\nexport default connect(\n  mapStateToProps,\n  null\n)(SingleQuestionData)","export const partiesCount = [\n    {  'id': 'vas',\n      'legend': 'Vas',\n      \"name\": \"Vasemmistoliiton eduskuntaryhmä\",\n      \"seats\": 16\n    },\n    {\n      'id': 'sdp',\n      'legend': 'SDP',\n      \"name\": \"Sosialidemokraattinen eduskuntaryhmä\",\n      \"seats\": 40\n    },\n    {  'id': 'vihr',\n      'legend': 'Vihr',\n      \"name\": \"Vihreä eduskuntaryhmä\",\n      \"seats\": 20\n    },\n    {  'id': 'kesk',\n      'legend': 'Kesk',\n      \"name\": \"Keskustan eduskuntaryhmä\",\n      \"seats\": 31\n    },\n    {  'id': 'nyt',\n      'legend': 'nyt',\n      \"name\": \"Liike Nyt -eduskuntaryhmä\",\n      \"seats\": 1\n    },\n    { 'id': 'rkp',\n      'legend': 'Rkp',\n      \"name\": \"Ruotsalainen eduskuntaryhmä\",\n      \"seats\": 10\n    },\n    {  'id': 'kd',\n      'legend': 'KD',\n      \"name\": \"Kristillisdemokraattinen eduskuntaryhmä\",\n      \"seats\": 5\n    },\n    { 'id': 'kok',\n      'legend': 'Kok',\n      \"name\": \"Kansallisen kokoomuksen eduskuntaryhmä\",\n      \"seats\": 38\n    },\n    { \n      'id': 'ps',\n      'legend': 'PS',\n      \"name\": \"Perussuomalaisten eduskuntaryhmä\",\n      \"seats\": 39\n    }\n  ]\n\n  export default {\n    partiesCount,\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport * as d3 from \"d3\";\n\nimport { Dimmer, Loader } from 'semantic-ui-react'\nimport ReactGA from 'react-ga';\nimport './parliament.css'\nimport partiesCount from '../../general/partiesCounts.js'\nimport { tsImportEqualsDeclaration } from '@babel/types';\n\n\nReactGA.initialize('UA-137723152-1');\nReactGA.pageview(window.location.pathname + window.location.search);\n\n\nconst exampleData = partiesCount.partiesCount\nclass Parties extends React.Component {\n  state = {\n    activeIndex: false,\n  }\ncomponentDidMount = () => {\n\nconst widthHeight = window.innerWidth > 600 ? 300 : 200 \n  var parliament = this.parliament();\n  parliament.width(widthHeight).height(widthHeight).innerRadiusCoef(0.65);\nparliament.enter.fromCenter(true).smallToBig(true);\nparliament.exit.toCenter(false).bigToSmall(true);\n\nvar myTimeout = ''\n/* register event listeners */\nparliament.on(\"click\", function(d) { \n    d3.select(\".parliament\")\n        .append('text')\n        .text(d.party.legend + \" (\" + d.party.seats + ')')\n        .attr(\"id\", 'party-name')\n        .attr(\"y\", -30)\n        .attr('text-anchor', 'middle')\n});\nparliament.on(\"mouseover\", function(d) {\n    d3.select(\"#party-name\").remove()\n    d3.select(\".parliament\")\n        .append('text')\n        .text(d.party.legend + \" (\" + d.party.seats + ')')\n        .attr(\"id\", 'party-name')\n        .attr(\"y\", -30)\n        .attr('text-anchor', 'middle')\n    });\nparliament.on(\"mouseout\", function(d) { \n    d3.select(\"#party-name\").remove()\n    });\n\n// /* add the parliament to the page */\n// d3.json(exampleData, function(d) {\n//   console.log(exampleData);\n  \n//     d3.select(\"svg\").datum(d).call(parliament);\n// });\nd3.select(\"svg\").datum(exampleData).call(parliament);\n\n}\n\nparliament = function() {\n  /* params */\n  var width = 200,\n      height = 200,\n      innerRadiusCoef = 0.4;\n\n  /* animations */\n  var enter = {\n          \"smallToBig\": true,\n          \"fromCenter\": true\n      },\n      update = {\n        'animate': true,\n      },\n      exit = {\n          \"bigToSmall\": true,\n          \"toCenter\": true\n      };\n\n  /* events */\n  var parliamentDispatch = d3.dispatch(\"click\", \"dblclick\", \"mousedown\", \"mouseenter\",\n      \"mouseleave\", \"mousemove\", \"mouseout\", \"mouseover\", \"mouseup\", \"touchcancel\", \"touchend\",\n      \"touchmove\", \"touchstart\");\n\n  function parliament(data) {\n    \n      data.each(function(d) {\n\n          // if user did not provide, fill the svg:\n          width = width ? width : this.getBoundingClientRect().width;\n          height = width ? width / 2 : this.getBoundingClientRect().width/2;\n\n          var outerParliamentRadius = Math.min(width/2, height);\n          var innerParliementRadius = outerParliamentRadius * innerRadiusCoef;\n\n          /* init the svg */\n          var svg = d3.select(this);\n\n          /***\n           * compute number of seats and rows of the parliament */\n          var nSeats = 0;\n          \n          d.forEach(function(p) { nSeats += (typeof p.seats === 'number') ? Math.floor(p.seats) : p.seats.length; });\n\n          var nRows = 0;\n          var maxSeatNumber = 0;\n          var b = 0.5;\n          (function() {\n              var a = innerRadiusCoef / (1 - innerRadiusCoef);\n              while (maxSeatNumber < nSeats) {\n                  nRows++;\n                  b += a;\n                  /* NOTE: the number of seats available in each row depends on the total number\n                  of rows and floor() is needed because a row can only contain entire seats. So,\n                  it is not possible to increment the total number of seats adding a row. */\n                  maxSeatNumber = series(function(i) { return Math.floor(Math.PI * (b + i)); }, nRows-1);\n              }\n          })();\n\n\n          /***\n           * create the seats list */\n          /* compute the cartesian and polar coordinates for each seat */\n          var rowWidth = (outerParliamentRadius - innerParliementRadius) / nRows;\n          var seats = [];\n          (function() {\n              var seatsToRemove = maxSeatNumber - nSeats;\n              for (var i = 0; i < nRows; i++) {\n                  var rowRadius = innerParliementRadius + rowWidth * (i + 0.5);\n                  var rowSeats = Math.floor(Math.PI * (b + i)) - Math.floor(seatsToRemove / nRows) - (seatsToRemove % nRows > i ? 1 : 0);\n                  var anglePerSeat = Math.PI / rowSeats;\n                  for (var j = 0; j < rowSeats; j++) {\n                      var s = {};\n                      s.polar = {\n                          r: rowRadius,\n                          teta: -Math.PI + anglePerSeat * (j + 0.5)\n                      };\n                      s.cartesian = {\n                          x: s.polar.r * Math.cos(s.polar.teta),\n                          y: s.polar.r * Math.sin(s.polar.teta)\n                      };\n                      seats.push(s);\n                  }\n              };\n          })();\n\n          /* sort the seats by angle */\n          seats.sort(function(a,b) {\n              return a.polar.teta - b.polar.teta || b.polar.r - a.polar.r;\n          });\n\n          /* fill the seat objects with data of its party and of itself if existing */\n          (function() {\n              var partyIndex = 0;\n              var seatIndex = 0;\n              seats.forEach(function(s) {\n                  /* get current party and go to the next one if it has all its seats filled */\n                  var party = d[partyIndex];\n                  var nSeatsInParty = typeof party.seats === 'number' ? party.seats : party.seats.length;\n                  if (seatIndex >= nSeatsInParty) {\n                      partyIndex++;\n                      seatIndex = 0;\n                      party = d[partyIndex];\n                  }\n\n                  /* set party data */\n                  s.party = party;\n                  s.data = typeof party.seats === 'number' ? null : party.seats[seatIndex];\n\n                  seatIndex++;\n              });\n          })();\n\n\n          /***\n           * helpers to get value from seat data */\n          var seatClasses = function(d) {\n              var c = \"seat \";\n              c += (d.party && d.party.id) || \"\";\n              return c.trim();\n          };\n          var seatX = function(d) { return d.cartesian.x; };\n          var seatY = function(d) { return d.cartesian.y; };\n          var seatRadius = function(d) {\n              var r = 0.55 * rowWidth;\n              if (d.data && typeof d.data.size === 'number') {\n                  r *= d.data.size;\n              }\n              return r;\n          };\n\n\n          /***\n           * fill svg with seats as circles */\n          /* container of the parliament */\n          var container = svg.select(\".parliament\");\n          if (container.empty()) {\n              container = svg.append(\"g\");\n              container.classed(\"parliament\", true);\n          }\n\n          container.attr(\"transform\", \"translate(\" + width / 2 + \",\" + outerParliamentRadius + \")\");\n\n          /* all the seats as circles */\n          var circles = container.selectAll(\".seat\").data(seats);\n          circles.attr(\"class\", seatClasses);\n\n          /* animation adding seats to the parliament */\n          var circlesEnter = circles.enter().append(\"circle\");\n          circlesEnter.attr(\"class\", seatClasses);\n          circlesEnter.attr(\"cx\", enter.fromCenter ? 0 : seatX);\n          circlesEnter.attr(\"cy\", enter.fromCenter ? 0 : seatY);\n          circlesEnter.attr(\"r\", enter.smallToBig ? 0 : seatRadius);\n          if (enter.fromCenter || enter.smallToBig) {\n              var t = circlesEnter.transition().duration(function() { return 1000 + Math.random()*800; });\n              if (enter.fromCenter) {\n                  t.attr(\"cx\", seatX);\n                  t.attr(\"cy\", seatY);\n              }\n              if (enter.smallToBig) {\n                  t.attr(\"r\", seatRadius);\n              }\n          }\n\n          /* circles catch mouse and touch events */\n          for (var evt in parliamentDispatch._) {\n              (function(evt){\n                  circlesEnter.on(evt, function(e) { parliamentDispatch.call(evt, this, e); });\n              })(evt);\n          }\n\n          /* animation updating seats in the parliament */\n          if (update.animate) {\n            var circlesUpdate = circles.transition().duration(function() { return 1000 + Math.random()*800; });\n          } else {\n            var circlesUpdate = circles;\n          }\n            circlesUpdate.attr(\"cx\", seatX)\n              .attr(\"cy\", seatY)\n              .attr(\"r\", seatRadius);\n\n          /* animation removing seats from the parliament */\n          if (exit.toCenter || exit.bigToSmall) {\n              var t = circles.exit().transition().duration(function() { return 1000 + Math.random()*800; });\n              if (exit.toCenter) {\n                  t.attr(\"cx\", 0).attr(\"cy\", 0);\n              }\n              if (exit.bigToSmall) {\n                  t.attr(\"r\", 0);\n              }\n              t.remove();\n          } else {\n              circles.exit().remove();\n          }\n      });\n  }\n\n  parliament.width = function(value) {\n      if (!arguments.length) return width;\n      width = value;\n      return parliament;\n  };\n\n  /** Deprecated since v1.0.1 */\n  parliament.height = function(value) {\n      if (!arguments.length) return height;\n      return parliament;\n  };\n\n  parliament.innerRadiusCoef = function(value) {\n      if (!arguments.length) return innerRadiusCoef;\n      innerRadiusCoef = value;\n      return parliament;\n  };\n\n  parliament.enter = {\n      smallToBig: function (value) {\n          if (!arguments.length) return enter.smallToBig;\n          enter.smallToBig = value;\n          return parliament.enter;\n      },\n      fromCenter: function (value) {\n          if (!arguments.length) return enter.fromCenter;\n          enter.fromCenter = value;\n          return parliament.enter;\n      }\n  };\n\n  parliament.update = {\n    animate: function(value) {\n      if (!arguments.length) return update.animate;\n      update.animate = value;\n      return parliament.update;\n    }\n  }\n\n  parliament.exit = {\n      bigToSmall: function (value) {\n          if (!arguments.length) return exit.bigToSmall;\n          exit.bigToSmall = value;\n          return parliament.exit;\n      },\n      toCenter: function (value) {\n          if (!arguments.length) return exit.toCenter;\n          exit.toCenter = value;\n          return parliament.exit;\n      }\n  };\n\n  parliament.on = function(type, callback) {\n      parliamentDispatch.on(type, callback);\n  }\n\n  return parliament;\n\n  // util\n  function series(s, n) { var r = 0; for (var i = 0; i <= n; i++) { r+=s(i); } return r; }\n\n}\n  \n\n  render() {\n    const width =  window.innerWidth > 600 ? '300px' : '200px'\n    const height =  window.innerWidth > 600 ? '150px' : '100px'\n\n    return(\n    \n      <div style={{textAlign: 'center'}}>\n        <svg id='parliament-chart' style={{width: width, height: height}}/>\n        <p style={{fontSize: '0.7em', color: 'grey'}}>Kosketa palloa nähdäksesi puolueen paikkamäärät</p>\n      </div>\n    )\n  }\n}\n\n\n\nexport default Parties","import axios from 'axios'\n\nconst baseUrl = '/api/speaks'\n\nlet token = null\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst getOne = async (id) => {\n    const response = await axios.get(baseUrl + '/' + id)\n    return response.data\n  }\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`\n}\n\nconst addSpeak = async (newObject) => {\n  console.log(newObject)\n  const config = {\n    headers: { Authorization: token },\n  }\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst remove = async (id) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\n  return response.data\n}\n\nconst editSpeak = async (id, newObject) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  const response = await axios.put(`${baseUrl}/${id}`, newObject, config)\n  return response.data\n}\n\nexport default {\n    getAll,\n    setToken,\n    addSpeak,\n    remove,\n    getOne,\n    editSpeak\n  }","import React from 'react';\nimport ReactTextTransition, { presets } from \"react-text-transition\";\nimport speakService from '../../services/speak';\n\nclass SpeakExplorer extends React.Component {\n    state = {\n    }\n\n    componentDidMount = async () => {\n        let speak = {}\n        if (this.props.speakId) {\n            speak = await speakService.getOne(this.props.speakId)\n        } else {\n            const all = await speakService.getAll()\n            speak = all.sort(function(a,b){\n                return new Date(b.createdAt) - new Date(a.createdAt);\n              })[0]\n        }\n\n        const speakerIndex = Math.floor(Math.random() * speak.data.length)\n        const speakIndex = Math.floor(Math.random() * speak.data[speakerIndex].speaks.length)\n        this.setState({speak, speakerIndex, speakIndex})\n        let intervalId = setInterval(() => {\n            const speakerIndex = Math.floor(Math.random() * this.state.speak.data.length)\n            this.setState({\n              speakerIndex,\n              speakIndex: Math.floor(Math.random() * this.state.speak.data[speakerIndex].speaks.length)\n            });\n          }, 15000);\n        \n        this.setState({ intervalId: intervalId })\n    }\n\n    componentWillUnmount(){\n        clearInterval(this.state.intervalId)\n    }\n\n\n    render() {\n        const personSpeak =  this.state.speak ? this.state.speak.data[this.state.speakerIndex] : {}\n        const detail = personSpeak.party ? personSpeak.party : personSpeak.status\n        const nameParty = this.state.speak && `${personSpeak.first} ${personSpeak.last} (${detail})`\n        \n      return (\n        <div>\n            {!this.state.speak\n            ?  <h3>Haetaan dataa</h3>\n            :<div style={{padding: '2em', paddingTop: '1em'}}>\n                <h3>\n                    <a href={this.state.speak.url} target=\"_blank\">{this.state.speak.explainQuestion}</a>\n                </h3>\n                <h4 style={{color: 'grey'}}>Satunnainen puheenvuoro</h4>\n                <section>\n                    <h4>\n                        {nameParty.split('').map((n, i) => (\n                        <span key={i}>\n                            <ReactTextTransition\n                                text={n}\n                                delay={i * 100}\n                                inline\n                                /> </span>\n                        ))}\n                    </h4>\n                    <span>\n                        {this.state.speak.data[this.state.speakerIndex].speaks[this.state.speakIndex]}\n                    </span>\n                </section>\n            </div>\n        }\n        </div>\n\n      );\n    }\n}\n\nexport default SpeakExplorer","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Transition, Icon, Button, Grid } from 'semantic-ui-react'\nimport InfoAccordion from './InfoAccordion'\nimport InfoBar from './InfoBar'\nimport SingleQuestionData from '../parliament2019/SingleQuestionData';\nimport Parties from '../parliament2019/parties/Parties'\nimport { TwitterTimelineEmbed } from 'react-twitter-embed';\nimport './../../css/NewestQuestions.css'\nimport SpeakExpoler from './SpeakExploer';\n\nclass NewestQuestions extends React.Component {\n  state = {\n    questionIndex: 0,\n    question: false,\n    visible: true,\n  }\n\n  componentDidMount = () => {\n    this.setQuestions(0)\n    \n    if(window.innerWidth < 600) {\n      setTimeout(() => \n      document.getElementById('twitter-widget-0').setAttribute(\"style\", \"width: 14em;\"), 1500)\n    }\n    \n  }\n    \n\n  answer = (result) => {\n    this.setState({result})\n  }\n\n  nextQuestion = (backward) => {\n    this.setState({visible: false})\n    setTimeout(() => this.updateQuestion(backward), 500)\n  }\n\n  setQuestions = (questionIndex) => {\n    let questions = this.props.questions.filter(q => q.createdAt)\n    questions = questions.sort(function(a,b){\n      return new Date(b.createdAt) - new Date(a.createdAt);\n    }).slice(0,3)\n    this.setState({question: questions[questionIndex]})\n  }\n\n  updateQuestion = (backward) => {\n    \n    const questionIndex = this.updateQuestionIndex(backward)\n    \n    this.setQuestions(questionIndex)\n    this.setState({visible: true})\n  }\n\n  updateQuestionIndex = (backward) => {\n    let questionIndex = this.state.questionIndex\n    if (backward) {\n      if (questionIndex == 0) {\n        questionIndex = 2\n      } else {\n        questionIndex = questionIndex - 1\n      }\n      this.setState({questionIndex})\n    } else {\n      if (questionIndex == 2) {\n        questionIndex = 0\n      } else {\n        questionIndex = questionIndex + 1\n      }\n      this.setState({questionIndex})\n    }\n    return questionIndex\n  }\n\n  render() {\n    let desktop = window.innerWidth > 600 \n    const buttonSize = desktop ? 'large' : 'tiny'\n\n    if(this.state.result) {\n\n      return(\n        <SingleQuestionData question={this.state.question} userOpinion={this.state.result}/>\n      )\n    }\n    \n    return(\n      <div>\n        \n        <div className='answers-show'>\n          <div className='title-party'>\n            <h1>Eduskunta</h1>\n          </div>\n          <Parties />\n          <br />\n            <Grid>\n            <Grid.Column width={16} >\n              <hr />\n            </Grid.Column>\n              <Grid.Row style={{paddingBottom: '0em'}}>\n                <Grid.Column width={2} />\n                <Grid.Column width={14}>\n                <h3 className='question-title'>Uusimmat kysymykset ({this.state.questionIndex + 1 }/3)</h3>\n                </Grid.Column>\n              </Grid.Row>\n              <Grid.Row>\n          \n            </Grid.Row>\n              <Grid.Row>\n                <Grid.Column width={2}>\n                  <Icon className='arrow-icon' name='chevron left' onClick={() => this.nextQuestion(true)} />\n                </Grid.Column>\n                <Grid.Column width={12} style={{paddingTop: '0em', paddingRight: '0em'}}>\n                  {this.state.question.kysymys &&\n                  <Transition visible={this.state.visible} animation='fade' duration={300}>\n                  <div className='question-div'>\n                    <a className='question-link' onClick={() => this.answer('click')}>{this.state.question.kysymys}</a>\n                    <span className='question-text'>\n                      <InfoAccordion \n                        text={this.state.question.selitys}\n                        question={this.state.question}\n                        title='Lisätietoja'\n                        iconSize='small'\n                        explain={this.state.question.explain}\n                        />\n                    </span>\n\n                  </div>\n                  </Transition>\n                  }\n                </Grid.Column>\n                <Grid.Column width={2}  style={{textAlign: 'right'}}>\n                  <Icon className='arrow-icon' name='chevron right' style={{paddingTop: '1em', paddingBottom: '4em'}}  onClick={() => this.nextQuestion()} />\n                </Grid.Column>\n              </Grid.Row>\n                \n              {/* <Grid.Row className='answer-buttons'>\n               {desktop && <Grid.Column width={2} />}\n                <Grid.Column width={desktop ? 14 : 16}>\n                    <Button onClick={() => this.answer('jaa')} size={buttonSize} color='green'> \n                      <Icon name='checkmark' />\n                      Jaa\n                    </Button>\n                    <Button onClick={() => this.answer('eos')} size={buttonSize} >\n                      <Icon name='question' />\n                      EOS\n                    </Button>\n                    <Button onClick={() => this.answer('ei')} size={buttonSize} color=\"red\">\n                      <Icon name=\"close\" />\n                      Ei\n                    </Button>\n                </Grid.Column>\n              </Grid.Row> */}\n            <Grid.Row>\n              <Grid.Column width={16} >\n                <hr />\n              </Grid.Column>\n            </Grid.Row>\n            \n            <Grid.Row style={{paddingBottom: '0em'}}>\n                <Grid.Column width={2} />\n                <Grid.Column width={14}>\n                <h3 className='question-title'>Uusin lähetekeskustelu</h3>\n                </Grid.Column>\n            </Grid.Row>\n          \n            <Grid.Row style={{paddingBottom: '0em'}}>\n                <Grid.Column width={2} />\n                <Grid.Column width={12}>\n                  <SpeakExpoler />\n                </Grid.Column>\n            </Grid.Row>\n\n            <Grid.Row>\n              <Grid.Column width={16} >\n                <hr />\n              </Grid.Column>\n            </Grid.Row>\n          \n              <Grid.Row>\n                <Grid.Column width={2} />\n                <Grid.Column width={13} >\n\n                  <InfoBar \n                    title=\"Mikä ihmeen vaalikausikone?\"\n                    text=\"Vaalikausikone tarjoaa selkeän ja helpon mahdollisuuden seurata\n                    eduskunnan toimintaa. Palvelun avulla voit vertailla omia näkemyksiäsi\n                    eduskunnan puolueiden ja edustajien käyttäytymiseen. Lisäksi voit tarkastella,\n                    kuinka edustajien ja puolueiden käyttäytyminen suhteutuu Ylen vaalikoneen \n                    vastauksiin.\"\n                  />\n                  </Grid.Column>\n              </Grid.Row>\n            <Grid.Row />\n            <Grid.Row>\n              <Grid.Column width={2} />\n                <Grid.Column width={12} >\n                  <div className='twitter-widget'>\n                  <TwitterTimelineEmbed\n                    sourceType=\"profile\"\n                    screenName=\"vaalikausikone\"\n                  />\n                  </div>\n                </Grid.Column>\n                \n            </Grid.Row>\n            </Grid>\n           \n        </div>\n      </div>\n\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n    yle2019: state.yle2019\n  });\n  \nexport default connect(\n  mapStateToProps,\n  null\n)(NewestQuestions)","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { Dimmer, Loader } from 'semantic-ui-react'\nimport ReactGA from 'react-ga';\nimport NewestQuestions from './general/NewstQuestions'\nimport '../css/Home.css'\n\n\nReactGA.initialize('UA-137723152-1');\nReactGA.pageview(window.location.pathname + window.location.search);\n\nclass Home extends React.Component {\n  state = {\n    activeIndex: false\n  }\n\n  render() {\n\n    if (this.props.questions.length == 0){\n      return (\n        <Dimmer active>\n          <Loader indeterminate>searching data</Loader>\n        </Dimmer>\n      )\n    }\n    return(\n    \n      <NewestQuestions questions={this.props.questions}/>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  questions: state.kysymykset,\n  yle2019: state.yle2019\n});\n\nexport default connect(\n  mapStateToProps,\n  null\n)(Home)","import React from 'react';\n\nclass Info extends React.Component {\n  render() {\n    return(\n        <div>\n            <h2>Tietoa vaalikausikoneesta</h2>\n            Vaalikausikonetta on työstetty kolmen yhteiskuntatieteilijän voimin. Palvelun\n            moottorina toimii yleinen mielenkiinto politiikkaa ja demokratiaa kohtaan. \n            <br />\n            <br />\n            Vaalikausikoneella ei ole kytköksiä poliittisiin puolueisiin tai järjestöihin\n            eikä mikään taho tue vaalikausikoneen toimintaa taloudellisesti.\n            <br />\n            <br />\n            Jos sinulla on kehitysideoita tai haluat kysyä vaalikausikoneesta jotakin,\n            voit lähettää sähköpostia osoitteeseen: <i>info@vaalikausikone.fi</i>\n            <br />\n            <br />\n            <b>Tekijät</b>\n            <br/>\n            Petteri Pääkkönen\n            <br />\n            Jari Hartzell\n            <br />\n            Joonas Hihnala\n            <br />\n            <br />\n        </div>\n    )\n  }\n}\n\nexport default Info","import React from 'react';\nimport { Card, Image } from 'semantic-ui-react'\nimport { Link } from 'react-router-dom';\nimport ReactGA from 'react-ga';\nimport '../App.css'\n\nReactGA.initialize('UA-137723152-1');\nReactGA.pageview(window.location.pathname + window.location.search);\n\nclass MachineMenu extends React.Component {\n  render() {\n    return(\n    <div style={{textAlign: 'center', paddingLeft: '0.5em'}}>\n     <Card.Group centered fluid>\n        <Link to=\"/euroinfo\" style={{margin: \"1em\"}}>\n        <Card>\n            <Card.Content>\n            <Image centered height='150em' style={{margin: '1em', marginTop: '0em'}} src='https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/Flag_of_Europe.svg/1280px-Flag_of_Europe.svg.png' />\n            <Card.Header>Euroopan parlamentti</Card.Header>\n            <Card.Meta>\n                <span className='date'>2014-2019</span>\n            </Card.Meta>\n            <Card.Description>\n            Eurovaalikausikoneesta löydät Euroopan parlamentissa kaudella 2014-2019 käsiteltyjä keskeisiä kysymyksiä.\n            </Card.Description>\n            </Card.Content>\n        </Card>\n        </Link>\n        <Link to=\"/vaalikausi\" style={{margin:\"1em\"}}>\n        <Card>\n            <Card.Content>\n            <Image centered height='150em' src='https://i.imgur.com/tQ6HhoS.png' style={{background: '#004d99', margin: '1em', marginTop: '0em', padding: '1em', paddingRight: '2em', paddingLeft: '2em'}}/>\n            <Card.Header>Suomen eduskunta</Card.Header>\n            <Card.Meta>\n                <span className='date'>2015-2019</span>\n            </Card.Meta>\n            <Card.Description>\n            Kauden 2015-2019 vaalikausikoneesta löydät Sipilän hallituksen kaudella tehdyjä päätöksiä.\n            </Card.Description>\n            </Card.Content>\n        </Card>\n        </Link>\n    </Card.Group>\n        <br />\n        <br />\n    </div>\n    )\n  }\n}\n\nexport default MachineMenu","const initialState = {\n  kysymykset: [],\n  puolueet: [\n    { name: 'Sosialidemokraattinen eduskuntaryhmä', aanet: 0, url: 'https://i.imgur.com/GSMua2B.png' },\n    { name: 'Keskustan eduskuntaryhmä', aanet: 0, url: 'https://i.imgur.com/qbiX1tI.png' },\n    { name: 'Perussuomalaisten eduskuntaryhmä', aanet: 0, url: 'https://i.imgur.com/4YZPeP9.jpg' },\n    { name: 'Kansallisen kokoomuksen eduskuntaryhmä', aanet: 0, url: 'https://i.imgur.com/kSDY19E.jpg' },\n    { name: 'Ruotsalainen eduskuntaryhmä', aanet: 0, url: 'https://i.imgur.com/hrCJsLx.png' },\n    { name: 'Vihreä eduskuntaryhmä', aanet: 0, url: 'https://i.imgur.com/qOxMDMd.png' },\n    { name: 'Kristillisdemokraattinen eduskuntaryhmä', aanet: 0, url: 'https://i.imgur.com/oVzcTTD.jpg' },\n    { name: 'Vasemmistoliiton eduskuntaryhmä', aanet: 0, url: 'https://i.imgur.com/P0wEpt3.png' },\n    { name: 'Sininen eduskuntaryhmä', aanet: 0, url: 'https://i.imgur.com/gbryVO0.png' },\n    { name: 'Liike Nyt-eduskuntaryhmä', aanet: 0, url: 'https://liikenyt.fi/wp-content/uploads/2018/04/liike-nyt-vari-ensisijainen.jpg' },\n  ],\n  euroParties: [\n    { name: 'S&D', aanet: 0, url: 'https://i.imgur.com/GSMua2B.png' },\n    { name: 'ALDE/ADLE', aanet: 0, url: 'https://i.imgur.com/qbiX1tI.png', url2: 'https://i.imgur.com/hrCJsLx.png' },\n    { name: 'ECR', aanet: 0, url: 'https://i.imgur.com/4YZPeP9.jpg' },\n    { name: 'EPP', aanet: 0, url: 'https://i.imgur.com/kSDY19E.jpg', url2: 'https://i.imgur.com/oVzcTTD.jpg' },\n    { name: 'Greens/EFA', aanet: 0, url: 'https://i.imgur.com/qOxMDMd.png' },\n    { name: 'GUE-NGL', aanet: 0, url: 'https://i.imgur.com/P0wEpt3.png' },\n    { name: 'EFDD', aanet: 0, url: 'https://upload.wikimedia.org/wikipedia/commons/7/74/EFDD_logo.jpg' },\n    { name: 'NI', aanet: 0, url: 'https://pbs.twimg.com/profile_images/1100156912656621573/o9YlcsX__400x400.png' }\n  ],\n  puolue: '',\n}\n\nconst kayttajaReducer = (store = initialState, action) => {\n  let puolue = store.puolueet.filter(p => p.name === action.type)\n  let filtered = store.puolueet.filter(p => p.name !== action.type)\n\n  if(action.eu){\n    puolue = store.euroParties.filter(p => p.name === action.type)\n    filtered = store.euroParties.filter(p => p.name !== action.type)\n  }\n\n  if (puolue.length > 0) {\n    puolue[0].aanet = puolue[0].aanet + 1\n    filtered.push(puolue[0])\n  }\n\n  if (action.type === 'VASTAUS') {\n    const old = store.kysymykset.filter(k => k.id !== action.kysymys.id)\n    old.push(action.kysymys)\n    return { ...store, kysymykset: old }\n  }\n\n  if (action.type === 'PUOLUE') {\n    return { ...store, puolue: action.puolue }\n  }\n  switch (action.type) {\n    case 'Liike Nyt-eduskuntaryhmä':\n      return { ...store, puolueet: filtered }\n    case 'Keskustan eduskuntaryhmä':\n      return { ...store, puolueet: filtered }\n    case 'Perussuomalaisten eduskuntaryhmä':\n      return { ...store, puolueet: filtered }\n    case 'Kansallisen kokoomuksen eduskuntaryhmä':\n      return { ...store, puolueet: filtered }\n    case 'Sosialidemokraattinen eduskuntaryhmä':\n      return { ...store, puolueet: filtered }\n    case 'Vihreä eduskuntaryhmä':\n      return { ...store, puolueet: filtered }\n    case 'Vasemmistoliiton eduskuntaryhmä':\n      return { ...store, puolueet: filtered }\n    case 'Sininen eduskuntaryhmä':\n      return { ...store, puolueet: filtered }\n    case 'Ruotsalainen eduskuntaryhmä':\n      return { ...store, puolueet: filtered }\n    case 'Kristillisdemokraattinen eduskuntaryhmä':\n      return { ...store, puolueet: filtered }\n    default:\n  }\n  return store\n}\n\nexport const addKysymys = content => async (dispatch) => {\n  dispatch({\n    type: 'VASTAUS',\n    kysymys: content,\n  })\n}\n\nexport const addPuolue = content => async (dispatch) => {\n  dispatch({\n    type: 'PUOLUE',\n    puolue: content,\n  })\n}\n\nexport const addVastaus = content => async (dispatch) => {\n  dispatch({\n    type: content,\n  })\n}\n\nexport const addEuroVastaus = content => async (dispatch) => {\n  dispatch({\n    eu: true,\n    type: content,\n  })\n}\n\n\nexport default kayttajaReducer;\n","\nconst vastausKategoriat = {\n  sosiaalipolitiikka: ['147|Kansalaisten oikeus terveyspalveluihin on tärkeämpää kuin kuntien itsehallinto.', '146|Vanhuksen ja hänen omaistensa vastuuta hoitokustannuksista on lisättävä.', '145|Viranomaisten pitää puuttua lapsiperheiden ongelmiin nykyistä herkemmin.', '144|Terveys- ja sosiaalipalvelut on tuotettava ensijaisesti julkisina palveluina.', '143|Parantumattomasti sairaalla on oltava oikeus avustettuun kuolemaan.', '127|Suomessa on liian helppo elää sosiaaliturvan varassa', '129|Suomessa on siirryttävä perustuloon joka korvaisi nykyisen sosiaaliturvan vähimmäistason.', '135|Lapsilisiä on korotettava ja laitettava verolle.', '136|Suomella ei ole varaa nykyisen laajuisiin sosiaali- ja terveyspalveluihin.'],\n  kaupansaantely: ['247|Mietojen viinien ja vahvojen oluiden myynti ruokakaupassa sallitaan.', '244|Hyväksytään periaatepäätös uuden ydinvoimalaitosyksikön rakentamisesta.', '148|Ilmastonmuutoksen hillitseminen pitää asettaa teollisuuden kilpailukyvyn edelle.', '144|Terveys- ja sosiaalipalvelut on tuotettava ensijaisesti julkisina palveluina.', '128|Kaupan ja muiden liikkeiden aukioloajat on vapautettava.'],\n  tyoehdot: ['130|Työntekijälle on turvattava lailla minimityöaika.', '131|Ansiosidonnaisen työttömyysturvan kestoa pitää lyhentää.'],\n  eu: ['150|Suomen pitää ottaa suurempi vastuu EU:n alueelle tulevista turvapaikanhakijoista.', '132|Euron ulkopuolella Suomi pärjäisi paremmin.'],\n  talouspolitiikka: ['245|Tuloveroa alennetaan tasaisesti kaikissa tuloluokissa talouden elvyttämiseksi.', '148|Ilmastonmuutoksen hillitseminen pitää asettaa teollisuuden kilpailukyvyn edelle.', '146|Vanhuksen ja hänen omaistensa vastuuta hoitokustannuksista on lisättävä.', '132|Euron ulkopuolella Suomi pärjäisi paremmin.', '134|Valtion ja kuntien taloutta on tasapainotettava ensisijaisesti leikkaamalla menoja.', '136|Suomella ei ole varaa nykyisen laajuisiin sosiaali- ja terveyspalveluihin.'],\n  verotus: ['133|Ruoan verotusta on varaa kiristää.', '135|Lapsilisiä on korotettava ja laitettava verolle.'],\n  turvallisuus: ['149|Geenimuunneltu ruoka on turvallista ihmiselle ja ympäristölle.', '142|Suomen on osallistuttava Isisin vastaiseen taisteluun kouluttamalla Irakin hallituksen joukkoja.', '137|Nato-jäsenyys vahvistaisi Suomen turvallisuuspoliittista asemaa.', '138|Suomeen tarvitaan enemmän poliiseja.', '139|Maahanmuuttoa Suomeen on rajoitettava terrorismin uhan vuoksi.', '141|Verkkovalvonnassa valtion turvallisuus on tärkeämpää kuin kansalaisten yksityisyyden suoja.'],\n  maahanmuutto: ['150|Suomen pitää ottaa suurempi vastuu EU:n alueelle tulevista turvapaikanhakijoista.', '139|Maahanmuuttoa Suomeen on rajoitettava terrorismin uhan vuoksi.'],\n  ulkopolitiikka: ['142|Suomen on osallistuttava Isisin vastaiseen taisteluun kouluttamalla Irakin hallituksen joukkoja.', '140|Venäjän etupiiripolitiikka on uhka Suomelle.', '132|Euron ulkopuolella Suomi pärjäisi paremmin.', '137|Nato-jäsenyys vahvistaisi Suomen turvallisuuspoliittista asemaa.'],\n  yksityisyys: ['246|Edellisen eduskunnan hyväksymä lainmuutos samaa sukupuolta olevien avioliiton sallimisesta peruutetaan.', '141|Verkkovalvonnassa valtion turvallisuus on tärkeämpää kuin kansalaisten yksityisyyden suoja.'],\n  ymparisto: ['244|Hyväksytään periaatepäätös uuden ydinvoimalaitosyksikön rakentamisesta.', '149|Geenimuunneltu ruoka on turvallista ihmiselle ja ympäristölle.', '148|Ilmastonmuutoksen hillitseminen pitää asettaa teollisuuden kilpailukyvyn edelle.'],\n  hallinto: ['201|Suomen Nato-jäsenyydestä on järjestettävä kansanäänestys.', '147|Kansalaisten oikeus terveyspalveluihin on tärkeämpää kuin kuntien itsehallinto.', '151|On aika luopua ajatuksesta, että koko Suomi on pidettävä asuttuna.'],\n  koulutus: ['152|Peruskoulun opetusryhmien koko on rajattava lailla esimerkiksi 20 oppilaaseen.'],\n}\n\nexport const puolueet = [\n  {\n    text: 'Keskusta',\n    value: 'kesk',\n  },\n  {\n    text: 'Kokoomus',\n    value: 'kok',\n  },\n  {\n    text: 'SDP',\n    value: 'sdp',\n  },\n  {\n    text: 'Vihreät',\n    value: 'vihr',\n  },\n  {\n    text: 'Vasemmistoliitto',\n    value: 'vas',\n  },\n  {\n    text: 'RKP',\n    value: 'rkp',\n  },\n  {\n    text: 'Kristillisdemokraatit',\n    value: 'kd',\n  },\n  {\n    text: 'Perussuomalaiset',\n    value: 'ps',\n  },\n]\n\nexport function parseParties(party) {\n  let puolue = party\n  switch (party) {\n    case 'Keskustan eduskuntaryhmä':\n      puolue = 'kesk'\n      break\n    case 'Perussuomalaisten eduskuntaryhmä':\n      puolue = 'ps'\n      break\n    case 'Kansallisen kokoomuksen eduskuntaryhmä':\n      puolue = 'kok'\n      break\n    case 'Sosialidemokraattinen eduskuntaryhmä':\n      puolue = 'sdp'\n      break\n    case 'Vihreä eduskuntaryhmä':\n      puolue = 'vihr'\n      break\n    case 'Vasemmistoliiton eduskuntaryhmä':\n      puolue = 'vas'\n      break\n    case 'Ruotsalainen eduskuntaryhmä':\n      puolue = 'rkp'\n      break\n    case 'Kristillisdemokraattinen eduskuntaryhmä':\n      puolue = 'kd'\n      break\n    default:\n      break\n  }\n  return puolue\n}\nexport default { vastausKategoriat, puolueet, parseParties }\n","import React from 'react';\nimport { Table, Modal, Button, Pagination, Icon } from 'semantic-ui-react'\n\nclass AnswersPopup extends React.Component {\n    state = { \n        activePage: 1,\n        totalPages: Math.round(this.props.answers.length / 10),\n        open: false\n    }\n\n\n    handleInputChange = (e, { value }) => this.setState({ activePage: value })\n\n    handlePaginationChange = (e, { activePage }) => this.setState({ activePage })\n\n    opinion = (opinion) => {\n        if (opinion === 'jokseenkin samaa mieltä' || opinion === 'täysin samaa mieltä') {\n          return 'jaa'\n        } if  (opinion === 'jokseenkin eri mieltä' || opinion === 'täysin eri mieltä') {\n          return 'ei'\n        }\n        return opinion\n    }\n\n    color = (jaa) => {\n        if (jaa === 'jaa') {\n          return '#e6ffe6'\n        } if (jaa === 'ei') {\n          return '#ffcccc'\n        }\n        return null\n      }\n\n      open = () => this.setState({ open: true })\n      close = () => this.setState({ open: false })\n\n  render() {\n    const activePage = this.state.activePage\n    const sliceIndex = (activePage-1)*10\n    const open = this.state.open\n\n    const desktop = window.innerWidth > 600\n\n    if (!this.props.answers) {\n      return <div>Ei sopivaa kysymystä</div>\n    }\n    \n    return(\n        <Modal\n        open={open}\n        onOpen={this.open}\n        onClose={this.close}\n        size='tiny'\n        trigger={\n          desktop ?\n          <Button primary icon>\n             <Icon name='add' />\n          </Button>\n          :\n          <Button primary size=\"tiny\" style={{marginLeft: \"0\"}}>\n           Edustajien kannat\n          </Button>\n        }\n      > \n        <Modal.Header>\n        <h2>{this.props.puolue} <Icon style={{right: \"2%\", position: 'absolute'}}name=\"close\" onClick={() => this.setState({open: false})}/></h2> \n        </Modal.Header>\n        <Modal.Content>\n        <h4>{this.props.question.slice(4)}</h4>\n        <Pagination\n            activePage={activePage}\n            onPageChange={this.handlePaginationChange}\n            totalPages={this.state.totalPages}\n            firstItem={null}\n            lastItem={null}\n            prevItem={null}\n            nextItem={null}\n          /> \n        <Table celled striped id=\"table\">\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell positive>Edustaja</Table.HeaderCell>\n              <Table.HeaderCell>\n              Kanta\n              </Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n          <Table.Body>\n            {this.props.answers.slice(sliceIndex, sliceIndex+10).map(x =>\n          (\n            <Table.Row key={x.edustaja}>\n              <Table.Cell> {x.edustaja}</Table.Cell>\n              <Table.Cell style={{background: this.color(this.opinion(x.kanta))}}>{this.opinion(x.kanta)}</Table.Cell>\n            </Table.Row>))}\n          </Table.Body>\n        </Table>\n        </Modal.Content>\n        </Modal>\n    )\n  }\n}\n\nexport default AnswersPopup\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Table, Modal } from 'semantic-ui-react'\nimport { parseParties } from '../yle/ylesQuestionsCategories';\nimport AnswersPopup from './AnswersPopup';\n\nclass OneResult extends React.Component {\n  state = {\n    eit: false,\n    jaat: false,\n    yhteensa: false,\n    kannat: false,\n    red: '',\n    green: '',\n  }\n  componentWillMount = () => {\n    const puolueet = this.props.ylenKysymykset.puolueet\n    const puolue = parseParties(this.props.puolue)\n\n    if (this.props.puolue && this.props.kysymys) {\n      const kannat = puolueet[puolue].map(x => (\n        {\n          edustaja: `${x.etunimi} ${x.sukunimi}`,\n          kanta: x[this.props.kysymys],\n        }))\n      const eit = kannat.filter(x => x.kanta.toString() === 'jokseenkin eri mieltä'\n    || x.kanta.toString() === 'täysin eri mieltä')\n      const jaat = kannat.filter(x => x.kanta.toString() === 'jokseenkin samaa mieltä'\n    || x.kanta.toString() === 'täysin samaa mieltä')\n      const yhteensa = kannat.length\n      if (eit.length > jaat.length) {\n        this.setState({\n          red: '#ffcccc',\n        })\n      } if (eit.length < jaat.length) {\n        this.setState({\n          green: '#e6ffe6',\n        })\n      }\n      this.setState({\n        eit,\n        jaat,\n        yhteensa,\n        kannat,\n      })\n    }\n  }\n\n  render() {\n    if (this.state.red) {\n      return (\n        <Table.Row >\n        <Table.Cell>Ylen vaalikone (2015)</Table.Cell>\n        <Table.Cell>\n          {this.props.kysymys.slice(4)}\n        </Table.Cell>\n        <Table.Cell  style={{ background: this.state.red, padding: \"1em\" }}>\n             Ei ({Math.round((this.state.eit.length / this.state.yhteensa) * 100)}%)\n          </Table.Cell>\n          <Table.Cell />\n          <Table.Cell>\n          <Modal.Actions>\n            <AnswersPopup answers={this.state.kannat} question={this.props.kysymys} puolue={this.props.puolue}  />\n          </Modal.Actions>\n           </Table.Cell>\n      </Table.Row>\n        \n      )\n    } if (this.state.green) {\n      return (\n        <Table.Row >\n        <Table.Cell>Ylen vaalikone (2015)</Table.Cell>\n        <Table.Cell>\n          {this.props.kysymys.slice(4)}\n        </Table.Cell>\n        <Table.Cell style={{ background: this.state.green, padding: \"1em\"  }}>\n          Jaa ({Math.round((this.state.jaat.length / this.state.yhteensa) * 100)}%)\n          </Table.Cell>\n          <Table.Cell />\n          <Table.Cell>\n          <Modal.Actions>\n            <AnswersPopup answers={this.state.kannat} question={this.props.kysymys} puolue={this.props.puolue}  />\n          </Modal.Actions>\n           </Table.Cell>\n      </Table.Row>\n\n      )\n    }\n    return (\n      <Table.Row >\n      <Table.Cell>Ylen vaalikone (2015)</Table.Cell>\n      <Table.Cell>\n        {this.props.kysymys.slice(4)}\n      </Table.Cell>\n      <Table.Cell style={{ background: this.state.green, padding: \"1em\"  }}>\n        EOS (ei/jaa {Math.round((this.state.jaat.length / this.state.yhteensa) * 100)}%)\n        </Table.Cell>\n        <Table.Cell />\n        <Table.Cell>\n          <Modal.Actions>\n            <AnswersPopup answers={this.state.kannat} question={this.props.kysymys} puolue={this.props.puolue}  />\n          </Modal.Actions>\n\n        </Table.Cell>\n      </Table.Row>\n    )\n      \n  }\n}\nconst mapStateToProps = state => ({\n  ylenKysymykset: state.ylenKysymykset,\n});\n\nexport default connect(mapStateToProps)(OneResult);\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Table, Tab, Modal, Button, Icon } from 'semantic-ui-react';\n\nclass Members extends React.Component {\n  state = {\n    edustajat: [],\n    panes: [],\n    open: false\n  }\n  componentWillMount = () => {\n    const edustajat = this.props.edustajat.map(x => ({\n      nimi: x.nimi.split('/')[0],\n      puolue: this.parseParties(x.nimi.split('/')[1]),\n      kanta: x.kanta\n    }))\n    const out = edustajat.filter(x => x.puolue === this.props.puolue)\n    if (out.length < 11) {\n      this.setState({\n        edustajat: out,\n      })\n    } else {\n      const sliced = this.chunkArray(out, 10)\n      const panes = []\n      sliced.forEach((value, index) => {\n        panes.push({\n          menuItem: index.toString(),\n          render: () =>\n            (\n              <Tab.Pane>\n                <Table celled id=\"moi\">\n                  <Table.Header>\n                    <Table.Row>\n                      <Table.HeaderCell>Nimi</Table.HeaderCell>\n                      <Table.HeaderCell>Kanta</Table.HeaderCell>\n                    </Table.Row>\n                  </Table.Header>\n                  <Table.Body>\n                    {value.map(y => (\n                      <Table.Row key={y.nimi}>\n                        <Table.Cell>{this.parseName(y.nimi)}</Table.Cell>\n                        <Table.Cell style={{\n                      background:\n                        this.color(y.kanta),\n                      }}\n                        >{y.kanta}\n                        </Table.Cell>\n                      </Table.Row>\n               ))}\n                  </Table.Body>\n                </Table>\n              </Tab.Pane>\n            ),\n        })\n      })\n      this.setState({\n        panes,\n      })\n    }\n  }\n\n  chunkArray = (myArray, chunk) => {\n    let index = 0;\n    const arrayLength = myArray.length;\n    const tempArray = [];\n\n    for (index = 0; index < arrayLength; index = index + chunk) {\n      const myChunk = myArray.slice(index, index + chunk);\n      tempArray.push(myChunk);\n    }\n\n    return tempArray;\n  }\n\n parseParties = (party) => {\n   let puolue = party\n   switch (party) {\n     case 'kesk':\n       puolue = 'Keskustan eduskuntaryhmä'\n       break\n     case 'ps':\n       puolue = 'Perussuomalaisten eduskuntaryhmä'\n       break\n     case 'kok':\n       puolue = 'Kansallisen kokoomuksen eduskuntaryhmä'\n       break\n     case 'sd':\n       puolue = 'Sosialidemokraattinen eduskuntaryhmä'\n       break\n     case 'vihr':\n       puolue = 'Vihreä eduskuntaryhmä'\n       break\n     case 'vas':\n       puolue = 'Vasemmistoliiton eduskuntaryhmä'\n       break\n     case 'r':\n       puolue = 'Ruotsalainen eduskuntaryhmä'\n       break\n     case 'kd':\n       puolue = 'Kristillisdemokraattinen eduskuntaryhmä'\n       break\n     default:\n       break\n   }\n   return puolue\n }\n\n color = (jaa) => {\n   if (jaa === 'Jaa') {\n     return '#e6ffe6'\n   } if (jaa === 'Ei') {\n     return '#ffcccc'\n   }\n   return null\n }\n\n open = () => this.setState({ open: true })\n close = () => this.setState({ open: false })\n\n parseName = (name) => {\n  name = name.replace(/([a-z])([A-Z])/g, '$1 $2')\n  \n  return name\n}\n\n\n  render() {\n    const desktop = window.innerWidth > 600\n\n    const { open } = this.state\n    return (\n          <Modal\n          open={open}\n          onOpen={this.open}\n          onClose={this.close}\n          size='tiny'\n          trigger={\n            desktop ?\n            <Button primary icon>\n               <Icon name='add' />\n            </Button>\n            :\n            <Button primary size=\"tiny\" style={{marginLeft: \"0\"}}>\n             Edustajien kannat\n            </Button>\n            }\n          \n          dimmer='blurring' >\n          <Modal.Header>\n          <h2>{this.props.puolue}<Icon name=\"close\" style={{right: \"2%\", position: 'absolute'}} onClick={() => this.setState({open: false})} /></h2> \n          </Modal.Header>\n          <Modal.Content>\n            <h4>{this.props.question}</h4>\n            <div>\n              {this.state.edustajat.length > 1 &&\n              <Table celled>\n                <Table.Header>\n                  <Table.Row>\n                    <Table.HeaderCell>Nimi</Table.HeaderCell>\n                    <Table.HeaderCell>Kanta</Table.HeaderCell>\n                  </Table.Row>\n                </Table.Header>\n                <Table.Body>\n                  {this.state.edustajat.map(x => (\n                    <Table.Row key={x.nimi}>\n                      <Table.Cell>{this.parseName(x.nimi)}</Table.Cell>\n                      <Table.Cell style={{\n                              background:\n                                this.color(x.kanta),\n                              }}\n                      >{x.kanta}\n                      </Table.Cell>\n                    </Table.Row>\n                      ))}\n                </Table.Body>\n              </Table>\n              }\n              <Tab panes={this.state.panes} style={{ background: 'white' }} />\n            </div>\n          </Modal.Content>\n        </Modal>\n  \n   )\n }\n}\n\nconst mapStateToProps = state => ({\n  kysymykset: state.kysymykset,\n});\nexport default connect(\n  mapStateToProps,\n  null,\n)(Members);\n","import React from 'react'\nimport { Button, Icon, Modal, Transition } from 'semantic-ui-react'\n\nclass PromiseShow extends React.Component {\n  state = {\n    index: 0,\n    visible: true,\n    animation: \"fly right\",\n    open: false\n    }\n\n  next = (previous) => {\n    const plus = previous ? -1 : 1\n\n    if (!this.props.puolue[this.state.index + plus] ){\n      this.setState({\n        index: 0,\n        open: false\n      })\n    } else {\n      this.setState({\n        visible: false,\n        animation: previous ? \"fly right\" : \"fly left\"\n      })\n\n      setTimeout(() => {\n        this.setState({\n          visible: true,\n          index: this.state.index + plus,\n        })\n      }, 400);\n\n      setTimeout(() => {\n        this.setState({\n          animation: \"scale\"\n        })\n      }, 450);\n    }\n  }\n\n\ntoggleModal = () => {\n  this.setState({\n    open: !this.state.open,\n    index: 0\n  })\n}\n\n  \n  render () {\n\n    const desktop = window.innerWidth > 1000\n\n    if(!this.props.puolue || !this.props.puolue[this.state.index]) {\n      return <div>Done/ odoto hetki tieotkanta yhteytä</div>\n    }\n\n    const member = this.props.puolue[this.state.index]\n    return (\n      <Transition duration={400} animation={this.state.animation} visible={this.state.visible}>\n\n      <Modal trigger={<Button onClick={() => this.toggleModal()} fluid color=\"blue\" style={{marginRight: \"5em\",  textAlign: 'center'}} circular>{desktop ? 'Selaa lupauksia' : <Icon name=\"comment\" />}</Button>} open={this.state.open} size='tiny'>\n      <Modal.Content>\n        <Modal.Header> <Icon name=\"close\" size='large' style={{right: \"2%\", position: 'absolute'}} onClick={() => this.toggleModal()} /> </Modal.Header>\n        <Modal.Description  style={{ padding: \"2em\", fontSize: \"1.2em\"}}>\n            <div>\n            <h1 style={{textAlign:'center'}}>{member.etunimi} {member.sukunimi}</h1>\n            <p><b>1.</b> {member[\"Vaalilupaus 1\"]}</p>\n           \n            <p><b>2.</b> {member[\"Vaalilupaus 2\"]}\n            </p>\n            <p><b>3.</b> {member[\"Vaalilupaus 3\"]}</p>\n            </div>\n        </Modal.Description>\n        <br/>\n          <Icon  onClick={() => this.next(true)} color='blue' size='large' circular name=\"arrow left\" />\n          <Icon name=\"arrow right\"  style={{right: \"2%\", position: 'absolute'}} onClick={() => this.next()} color='blue' size='large' circular />\n      </Modal.Content>\n    </Modal>\n    </Transition>\n\n    )\n  }\n   \n  }\n\nexport default PromiseShow\n","import _ from 'lodash'\nimport React from 'react';\nimport { Table, Button, Modal, Segment, Icon} from 'semantic-ui-react'\nimport { connect } from 'react-redux'\nimport { addPuolue } from '../reducers/kayttajaReducer'\nimport OneResult from './yleParties/OneResult';\nimport Members from './questions/MembersAnswers';\nimport { parseParties } from './yle/ylesQuestionsCategories';\nimport PromiseShow from './yle/promiseShow';\n\n\nclass AnswersTable extends React.Component {\n  state = {\n    monta: this.props.kayttaja.kysymykset.length,\n    show: false,\n    puolue: 'Keskustan eduskuntaryhmä',\n    order: _.orderBy(this.props.kayttaja.puolueet, ['aanet'], ['desc'])\n  }\n\n  show = (puolue) => {\n    if (puolue) {\n      this.setState({\n        puolue,\n        show: puolue\n      });\n    }\n  }\ncolor = (jaa) => {\n  if (jaa === 'jaa') {\n    return '#e6ffe6'\n  } if (jaa === 'ei') {\n    return '#ffcccc'\n  }\n  return null\n}\n\nparseOpinion = (party) => {\n  const opinion = this.capitalize(party.kanta)\n  if (opinion === 'Ei') {\n    return opinion + \" (\" + Math.round((party.ei / party.yhteensa) * 100) + \"%)\"\n  } else if (opinion === 'Jaa') {\n    return opinion + \" (\" + Math.round((party.jaa / party.yhteensa) * 100) + \"%)\"\n  }\n  return  \"EOS (\" + Math.round(((party.tyhjia + party.poissa) / party.yhteensa) * 100) + \"%)\"\n}\n\ncapitalize = (string) => {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nleaderName = (party) => {\n  switch (party) {\n    case 'Keskustan eduskuntaryhmä':\n      return \"Sipilä\"\n    case 'Perussuomalaisten eduskuntaryhmä':\n      return \"Huhtasaari\"\n    case 'Kansallisen kokoomuksen eduskuntaryhmä':\n      return \"Häkkänen\"\n    case 'Sosialidemokraattinen eduskuntaryhmä':\n      return \"Lindtman\"\n    case 'Vihreä eduskuntaryhmä':\n      return \"Niinistö\"\n    case 'Vasemmistoliiton eduskuntaryhmä':\n      return \"Andersson \"\n    case 'Ruotsalainen eduskuntaryhmä':\n      return \"Henriksson\"\n    default:\n      return \"Essayah\"\n  }\n}\n\nleaderSpeakman = (party) => {\n  switch (party) {\n    case 'Keskustan eduskuntaryhmä':\n      return true\n    case 'Perussuomalaisten eduskuntaryhmä':\n      return false\n    case 'Kansallisen kokoomuksen eduskuntaryhmä':\n      return false\n    case 'Sosialidemokraattinen eduskuntaryhmä':\n      return false\n    case 'Vihreä eduskuntaryhmä':\n      return true\n    case 'Vasemmistoliiton eduskuntaryhmä':\n      return true\n    case 'Ruotsalainen eduskuntaryhmä':\n      return true\n    default:\n      return true\n  }\n}\n\nrender() {\n  const desktop = window.innerWidth > 600\n\n  return (\n    <div style={{ padding: '1em', paddingLeft: '0em'}} >\n      \n      <Table id=\"table\" textAlign='center'>\n       \n        <Table.Body>\n          {this.state.order.map(x =>\n              (\n                <Table.Row key={x.name}>\n                  <Table.Cell>\n                    <img src={x.url} alt={x.name} height=\"80em\" width=\"120em\" />\n                  </Table.Cell>\n                  <Table.Cell>\n                    <p>{x.name}</p>\n                  </Table.Cell>\n                  <Table.Cell>{Math.round((x.aanet / this.state.monta) * 100)} %</Table.Cell>\n                  <Table.Cell>\n                    {x.name !== 'Liike Nyt-eduskuntaryhmä' && x.name !== 'Sininen eduskuntaryhmä' ?\n                          <Modal \n                            trigger={\n                              <Button color=\"blue\" inverted onClick={() => this.show(x.name)}>Näytä vastaukset</Button>\n                              }\n                            dimmer={'default'}\n                            open={this.state.show == x.name}\n                            size={'small'}\n                            style={{marginBottom: \"5em\"}}\n                          >\n                            <Modal.Header>\n                            {this.state.puolue} <Icon style={{right: \"2%\", position: 'absolute'}}name=\"close\" onClick={() => this.setState({show: false})}/>\n                            </Modal.Header>\n                            <Modal.Content>\n                              <Modal.Description>\n                                <p>Alla näet vastaukset yksittäisiin kysymksiin. Voit myös verrata vastauksia Ylen vuoden 2015 vaalikonedataan.</p>\n                              <Segment.Group horizontal>\n                                  <Segment>\n                                  <span><b>{this.leaderSpeakman(this.state.puolue) ? \"Puheenjohtaja\" : \"Varapuheenjohtaja\"} ({this.leaderName(this.state.puolue)}) lupasi ylen vaalikoneessa: </b>\n                                  {this.props.ylenKysymykset.puolueet[parseParties(this.state.puolue)] && this.props.ylenKysymykset.puolueet[parseParties(this.state.puolue)].find( edustaja =>\n                                edustaja.sukunimi == this.leaderName(this.state.puolue))['Vaalilupaus 1']}</span> \n                                  </Segment>\n                                  <Segment clearing>\n                                  <PromiseShow puolue={this.props.ylenKysymykset.puolueet[parseParties(this.state.puolue)]} />\n\n                                  </Segment>\n                                </Segment.Group>\n                                  {this.props.kayttaja.kysymykset.map(x =>\n                                  <Table celled id=\"table\" key={x.id} >\n                                    {desktop \n                                    ?  <Table.Header>\n                                          <Table.Row>\n                                            <Table.HeaderCell>Lähde</Table.HeaderCell>\n                                            <Table.HeaderCell width=\"10\">Kysymys</Table.HeaderCell>\n                                            <Table.HeaderCell width=\"2\">Puolue</Table.HeaderCell>\n                                            <Table.HeaderCell width=\"1\">Sinä</Table.HeaderCell>\n                                            <Table.HeaderCell>Edustajien kannat</Table.HeaderCell>\n                                          </Table.Row>\n                                       </Table.Header>\n                                    : <Table.Header>\n                                        <Table.Row textAlign='center'>\n                                          <b>{this.state.puolue}</b>\n                                        </Table.Row>\n                                      </Table.Header>\n                                  }\n                                  <Table.Body>\n                                      <Table.Row >\n                                        <Table.Cell>Eduskunta</Table.Cell>\n                                        <Table.Cell>\n                                          <p>{x.kysymys}</p>\n                                        </Table.Cell>\n                                        <Table.Cell\n                                          style={{\n                                            background:\n                                              this.color(x.puolueet.find(y => y.nimi === this.state.puolue).kanta),\n                                            }}\n                                        >\n                                          {this.parseOpinion(x.puolueet.find(y => y.nimi === this.state.puolue))} \n                                        </Table.Cell>\n                                        <Table.Cell\n                                          style={{\n                                            background:\n                                            desktop && this.color(x.user),\n                                            }}\n                                        >\n                                          {desktop ? this.capitalize(x.user) : \"Sinä vastasit \" + x.user} \n                                        </Table.Cell>\n                                        <Table.Cell>\n                                        <Modal.Actions>\n                                          <Members edustajat={x.edustajat} puolue={this.state.puolue} question={x.kysymys}/>\n                                        </Modal.Actions>\n                                        </Table.Cell>\n                                      </Table.Row>\n                                      <OneResult puolue={this.state.puolue} kysymys={x.vastaus} />\n                                  </Table.Body>\n                                </Table>\n                                  )}\n                              </Modal.Description>\n                          </Modal.Content>\n                        </Modal>\n                    : <p>Ei mukana koko kautta</p>}\n                  </Table.Cell>\n                </Table.Row>))}\n        </Table.Body>\n      </Table>\n    </div>\n  )\n}\n}\n\nconst mapStateToProps = state => ({\n  kayttaja: state.kayttaja,\n  ylenKysymykset: state.ylenKysymykset,\n})\n\nexport default connect(\n  mapStateToProps,\n  { addPuolue },\n)(AnswersTable)\n","import _ from 'lodash'\nimport React from 'react';\nimport { connect } from 'react-redux'\nimport { Table, Dropdown } from 'semantic-ui-react'\n\n\n\nclass FinnishMembers extends React.Component {\n  state = {\n    questions: this.props.kysymykset.filter(q => q.tunniste === 'eu2019'),\n    selectedQuestion: []\n  }\n\n  finnishParties = (name) => {\n    switch (name) {\n      case 'EPP':\n        return 'Kokoomus/Kristilliset'\n      case 'S&D':\n        return 'SDP'\n      case 'ALDE/ADLE':\n        return 'Keskusta/RKP'\n      case 'ECR':\n        return 'Perussuomalaiset'\n      case 'Greens/EFA':\n        return 'Vihreät'\n      case 'GUE-NGL':\n        return 'Vasemmistoliitto'\n      default:\n        return 'Ei suomalaisia jäseniä'\n    }\n  }\n\n  result = (party) => {\n    if (!party) {\n      return 'non'\n    }\n    \n    switch (party.kanta) {\n      case 'ei':\n        return `ei (${party.ei}/${party.yhteensa})`\n      case 'jaa':\n        return `jaa (${party.jaa}/${party.yhteensa})`\n      case 'tyhjia':\n        return `tyhjia (${party.tyhjia}/${party.yhteensa})`\n      default:\n        return party.kanta\n    }\n  }\n\n  color = (kanta, opinion) => {\n    kanta = kanta === opinion ? kanta : ''\n    switch (kanta) {\n      case 'ei':\n        return '#ffcccc'\n      case 'jaa':\n        return '#e6ffe6'\n      case 'tyhjia':\n        return '#bcbcbc'\n      default:\n        return ''\n    }\n  }\n\n  handleQuestion = (e, data) => {\n    this.setState({selectedQuestion: data.value})\n    }\n\n    opinion = (opinion) => {\n        switch (opinion) {\n        case 'This MEP voted in favour':\n            return 'jaa'\n        case 'This MEP voted abstained':\n            return 'ei'\n        case 'This MEP was absent':\n            return 'poissa'\n        case 'This MEP did not vote':\n            return 'tyhja'\n        default:\n            return opinion\n        }\n    }\n\n    loyal = (opinion) => {\n        switch (opinion.trim()) {\n        case 'Loyal':\n            return 'Lojaali'\n        case 'Rebel':\n            return 'Kapinallinen'\n        case \"Didn't vote\":\n            return 'Ei äänestänyt'\n        case 'Absent':\n            return 'poissa'\n        default:\n            return opinion\n        }\n    }\n\n    party = (party) => {\n        switch (party.trim()) {\n        case 'European Conservatives and Reformists Group':\n            return 'ECR (Perussuomalaiset)'\n        case 'Group of the Greens/European Free Alliance':\n            return 'Greens/EFA (Vihreät)'\n        case \"Group of the Progressive Alliance of Socialists and Democrats in the European Parliament\":\n            return 'S&D (SDP)'\n        case 'Group of the Alliance of Liberals and Democrats for Europe':\n            return 'ALDE/ADLE (Keskusta/RKP)'\n        case 'Confederal Group of the European United Left - Nordic Green Left':\n            return 'GUE-NGL (Vasemmistoliitto)'\n        case 'Group of the European People s Party (Christian Democrats)':\n            return 'EPP (Kokoomus/Kristilliset)'\n        default:\n            return party\n        }\n    }\n\n    color = (kanta) => {\n        switch (kanta) {\n          case 'ei':\n            return '#ffcccc'\n          case 'jaa':\n            return '#e6ffe6'\n          case 'tyhja':\n            return '#bcbcbc'\n          default:\n            return ''\n        }\n      }\n\n  render() {\n    const euros = this.props.kysymykset.filter(q => q.tunniste === 'eu2019')\n    const questions = euros.map(q => {return {key: q.kysymys, text: q.kysymys, value: q.kysymys }})\n    \n    return(\n      <div>\n          <Dropdown\n            placeholder='Select Friend'\n            fluid\n            selection\n            multiple \n            options={questions}\n            onChange={(e, data) => this.handleQuestion(e, data)}\n        />\n        Valitse kysymykset, joita haluat tarkastella.\n          {euros.filter(q => this.state.selectedQuestion.includes(q.kysymys)).map(question => \n            <div style={{marginTop: \"2em\"}} key={question.kysymys}>\n                <h2>{question.kysymys}</h2>\n                <Table celled>\n                    <Table.Header>\n                        <Table.Row>\n                            <Table.HeaderCell>Nimi</Table.HeaderCell>\n                            <Table.HeaderCell>Ryhmä</Table.HeaderCell>\n                            <Table.HeaderCell>Kanta</Table.HeaderCell>\n                            <Table.HeaderCell>Lojaalius</Table.HeaderCell>\n                        </Table.Row> \n                    </Table.Header>\n\n                    <Table.Body>\n                        {question.edustajat.map(member => \n                            <Table.Row key={member.nimi}>\n                                <Table.Cell>\n                                    {member.nimi}\n                                </Table.Cell>\n                                <Table.Cell>\n                                    {this.party(member.puolue)}\n                                </Table.Cell>\n                                <Table.Cell style={{background: this.color(this.opinion(member.kanta))}}>\n                                    {this.opinion(member.kanta)}\n                                </Table.Cell>\n                                <Table.Cell>\n                                    {this.loyal(member.loyal)}\n                                </Table.Cell>\n                            </Table.Row>\n                        )}\n                    </Table.Body>   \n                </Table>\n            </div>\n            )}\n            <br/>\n            <br/>\n    </div>\n    )\n  }\n}\nconst mapStateToProps = state => ({\n    kayttaja: state.kayttaja,\n    kysymykset: state.kysymykset,\n  })\n  \n  export default connect(\n    mapStateToProps,\n  )(FinnishMembers)","import _ from 'lodash'\nimport React from 'react';\nimport { connect } from 'react-redux'\nimport { Table, Modal, Button, Icon } from 'semantic-ui-react'\nimport FinnishMembers from './FinnishMembers';\n\n\n\nclass EuroAnswers extends React.Component {\n  state = {\n    monta: this.props.kayttaja.kysymykset.length,\n    show: false,\n    order: _.orderBy(this.props.kayttaja.euroParties, ['aanet'], ['desc'])\n  }\n\n  finnishParties = (name) => {\n    switch (name) {\n      case 'EPP':\n        return 'Kokoomus/Kristilliset'\n      case 'S&D':\n        return 'SDP'\n      case 'ALDE/ADLE':\n        return 'Keskusta/RKP'\n      case 'ECR':\n        return 'Perussuomalaiset'\n      case 'Greens/EFA':\n        return 'Vihreät'\n      case 'GUE-NGL':\n        return 'Vasemmistoliitto'\n      default:\n        return 'Ei suomalaisia jäseniä'\n    }\n  }\n\n  result = (party) => {\n    if (!party) {\n      return 'non'\n    }\n    \n    switch (party.kanta) {\n      case 'ei':\n        return `ei (${party.ei}/${party.yhteensa})`\n      case 'jaa':\n        return `jaa (${party.jaa}/${party.yhteensa})`\n      case 'tyhjia':\n        return `tyhjia (${party.tyhjia}/${party.yhteensa})`\n      default:\n        return party.kanta\n    }\n  }\n\n  color = (kanta, opinion) => {\n    kanta = kanta === opinion ? kanta : ''\n    switch (kanta) {\n      case 'ei':\n        return '#ffcccc'\n      case 'jaa':\n        return '#e6ffe6'\n      case 'tyhjia':\n        return '#bcbcbc'\n      default:\n        return ''\n    }\n  }\n\n  render() {\n    const desktop = window.innerWidth > 800\n    return(\n      <div>\n        <h1>Tulokset</h1>\n        Alla näet parlamenttiryhmät ja niihin kuuluvat suomalaiset puolueet järjestettynä vastaamiesi kysymysten perusteella.\n       <br />\n       <br />\n       Suomalaisten edustajien kannat löytyvät taulukon alta.\n       <br />\n       <br />\n        <Table textAlign='center'>\n\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell>Logo</Table.HeaderCell>\n              <Table.HeaderCell>Puolue</Table.HeaderCell>\n              <Table.HeaderCell>Ryhmä</Table.HeaderCell>\n              <Table.HeaderCell>Osuvuus</Table.HeaderCell>\n              <Table.HeaderCell>Kysymykset</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n          <Table.Body>\n            {this.state.order.map(x =>\n                  <Table.Row key={x.name}>\n                    <Table.Cell>\n                      <img src={x.url} alt={x.name} height=\"80em\" width=\"120em\" /> {x.url2 && <img src={x.url2} alt={\"toinen\"} height=\"80em\" width=\"120em\" />}\n                    </Table.Cell>\n                    <Table.Cell>\n                      {this.finnishParties(x.name)}\n                    </Table.Cell>\n                    <Table.Cell>\n                      <p>{x.name}</p>\n                    </Table.Cell>\n                    <Table.Cell>{Math.round((x.aanet / this.state.monta) * 100)} %</Table.Cell>\n                    <Table.Cell>\n                    <Modal \n                        trigger={\n                          <Button color=\"blue\" inverted onClick={() => this.setState({show: x.name})}>Näytä vastaukset</Button>\n                          }\n                        open={this.state.show == x.name}\n                        size={'small'}\n                        style={{marginBottom: \"5em\"}}\n                      >\n                        <Modal.Header>\n                        {x.name} ({this.finnishParties(x.name)}) <Icon style={{right: \"5%\", position: 'absolute'}}name=\"close\" onClick={() => this.setState({show: false})}/>\n                          </Modal.Header>\n                        <Modal.Content>\n                        {this.props.kayttaja.kysymykset.map(question =>\n                                      <Table celled id=\"table\" key={question.id} >\n                                      <Table.Body>\n                                          <Table.Row >\n                                            <Table.Cell style={{width: '40%'}}>\n                                              <p>{question.kysymys}</p>\n                                            </Table.Cell>\n                                            <Table.Cell style={{width: '15%', background: this.color(question.puolueet.find(party => party.nimi == x.name).kanta, 'jaa')}}>\n                                              Jaa ({question.puolueet.find(party => party.nimi == x.name).jaa})\n                                            </Table.Cell>\n                                            <Table.Cell style={{width: '15%', background: this.color(question.puolueet.find(party => party.nimi == x.name).kanta, 'tyhjia')}}>\n                                              Tyhjia ({question.puolueet.find(party => party.nimi == x.name).tyhjia})\n                                            </Table.Cell>\n                                            <Table.Cell style={{width: '14%', background: this.color(question.puolueet.find(party => party.nimi == x.name).kanta, 'ei')}}>\n                                              Ei ({question.puolueet.find(party => party.nimi == x.name).ei})\n                                            </Table.Cell>\n                                            <Table.Cell style={{width: '1%'}}/>\n                                            <Table.Cell style={{width: '14%', background: this.color(question.user, question.user)}}>\n                                              {\"Vastasit \" + question.user} \n                                            </Table.Cell>\n                                          </Table.Row>\n                                      </Table.Body>\n                                    </Table>\n                                      )}\n                        </Modal.Content>\n                      </Modal>\n                    </Table.Cell>\n                </Table.Row>\n            )}\n            </Table.Body>\n        </Table>\n        <br />\n        Tulostaulukossa sopivuus määrittyy parlamenttiryhmän enemmistön käyttäytymisen perusteella, sillä ryhmät äänestävät usein yhtenäisesti.\n        Näytä vastaukset -napin alta voit tarkastella, miten ryhmän mielipide on kussakin kysymyksessä jakautunut.\n        <br/>\n        <br/>\n        Alta löydät vielä suomalaisten kannat erikseen eroteltuna.\n        <br/>\n        <br/>\n        <h2>Suomalaisten edustajien kannat</h2>\n        <FinnishMembers />\n        <br/>\n        <br/>            \n    </div>\n    )\n  }\n}\nconst mapStateToProps = state => ({\n    kayttaja: state.kayttaja,\n  })\n  \n  export default connect(\n    mapStateToProps,\n  )(EuroAnswers)","import React from 'react'\nimport _ from 'lodash'\nimport { connect } from 'react-redux';\nimport {Radar} from 'react-chartjs-2';\nimport { Checkbox, Accordion, Icon} from 'semantic-ui-react';\n\n\nclass NolansMap extends React.Component {\n  state = {\n    questions: this.props.questions,\n    valuesCount: 0,\n    greenCount: 0,\n    economicsCount: 0,\n    maxDataValue: 0,\n    dataSets: [],\n    selectParties: false,\n    partiesData: [\n      {\n        data: [0, 0, 0, 0, 0], \n        label: \"Keskustan eduskuntaryhmä\",\n        borderColor: \"rgb(51, 153, 51)\",\n        backgroundColor: \"rgb(51, 153, 51, 0.1)\"\n      },\n      {\n        data: [0, 0, 0, 0, 0], \n        label: \"Kansallisen kokoomuksen eduskuntaryhmä\",\n        borderColor: \"rgb(51, 153, 255)\",\n        backgroundColor: \"rgb(51, 153, 255, 0.1)\"\n      },\n      {\n        data: [0, 0, 0, 0, 0], \n        label: \"Sosialidemokraattinen eduskuntaryhmä\",\n        borderColor: \"rgb(153, 0, 0)\",\n        backgroundColor: \"rgb(153, 0, 0, 0.1)\"\n      },\n      {\n        data: [0, 0, 0, 0, 0], \n        label: \"Sininen eduskuntaryhmä\",\n        borderColor: \"rgb(102, 255, 204)\",\n        backgroundColor: \"rgb(102, 255, 204, 0.1)\"\n      },\n      {\n        data: [0, 0, 0, 0, 0], \n        label: \"Perussuomalaisten eduskuntaryhmä\",\n        borderColor: \"rgb(0, 0, 153)\",\n        backgroundColor: \"rgb(0, 0, 153, 0.1)\"\n      },\n      {\n        data: [0, 0, 0, 0, 0], \n        label: \"Vihreä eduskuntaryhmä\",\n        borderColor: \"rgb(153, 255, 102)\",\n        backgroundColor: \"rgb(153, 255, 102, 0.1)\"\n      },\n      {\n        data: [0, 0, 0, 0, 0], \n        label: \"Ruotsalainen eduskuntaryhmä\",\n        borderColor: \"rgb(255, 255, 0)\",\n        backgroundColor: \"rgb(255, 255, 0, 0.1)\"\n      },\n      {\n        data: [0, 0, 0, 0, 0], \n        label: \"Vasemmistoliiton eduskuntaryhmä\",\n        borderColor: \"rgb(204, 102, 153)\",\n        backgroundColor: \"rgb(204, 102, 153, 0.1)\"\n      },\n      {\n        data: [0, 0, 0, 0, 0], \n        label: \"Kristillisdemokraattinen eduskuntaryhmä\",\n        borderColor: \"rgb(255, 153, 51)\",\n        backgroundColor: \"rgb(255, 153, 51, 0.1)\"\n      },\n      {\n        data: [0, 0, 0, 0, 0], \n        label: \"Liike Nyt -eduskuntaryhmä\",\n        borderColor: \"rgb(204, 0, 255)\",\n        backgroundColor: \"rgb(204, 0, 255, 0.1)\"\n      },\n      {\n        data: [0, 0, 0, 0, 0], \n        label: \"Tähtiliikkeen eduskuntaryhmä\"\n      },\n      {\n        data: [0, 0, 0, 0, 0], \n        label: \"Sinä\",\n        borderColor: \"rgb(255, 0, 165)\",\n        backgroundColor: \"rgb(255, 0, 165, 0.1)\"\n      }\n    ],\n    selectedParties: [],\n    allParties: true,\n    info: false\n  }\n\n  componentDidMount = () => {\n    this.dataToRadar()\n  }\n\n  dataToRadar = () => {\n    this.setState({\n      selectedParties: [_.orderBy(this.props.user.puolueet, ['aanet'], ['desc'])[0].name, \"Sinä\"]\n    })\n    const questions = this.props.user.kysymykset\n    const valueQuestions = questions.filter(q => q.hasOwnProperty('jaaLiberal') && typeof q.jaaLiberal == 'boolean')\n    const economicQuestions = questions.filter(q => q.hasOwnProperty('jaaLeftist') && typeof q.jaaLeftist == 'boolean')\n    const greenQuestions = questions.filter(q => q.hasOwnProperty('green') && typeof q.green == 'boolean')\n    this.setState({\n      economicsCount: economicQuestions.length,\n      greenCount: greenQuestions.length,\n      valuesCount: valueQuestions.length\n    })\n\n    valueQuestions.forEach(q => this.setValuesToDataset(q, \"values\"))\n    economicQuestions.forEach(q => this.setValuesToDataset(q, \"economics\"))\n    greenQuestions.forEach(q => this.setValuesToDataset(q, \"green\"))\n  }\n\n  setValuesToDataset = (question, label) => {\n    const user_party = {\n      nimi: \"Sinä\",\n      kanta: question.user\n    }\n    if (!question.puolueet.find(x => x.nimi == 'Sinä')){\n      question.puolueet.push(user_party)\n    }\n    \n    switch(label) {\n      case \"values\":\n        if (question.jaaLiberal) {\n          question.puolueet.forEach( party => this.setValuesToDataHelper(party, true, label))\n        } else if (typeof question.jaaLiberal == 'boolean') {\n          question.puolueet.forEach( party => this.setValuesToDataHelper(party, false, label))\n        }\n        break;\n      case \"economics\":\n        if (question.jaaLeftist) {\n          question.puolueet.forEach( party => this.setValuesToDataHelper(party, true, label))\n        } else if (typeof question.jaaLeftist == 'boolean') {\n          question.puolueet.forEach( party => this.setValuesToDataHelper(party, false, label))\n        }\n        break;\n      default:\n        if (question.green) {\n          question.puolueet.forEach( party => this.setValuesToDataHelper(party, true, label))\n        } else if (typeof question.green == 'boolean') {\n          question.puolueet.forEach( party => this.setValuesToDataHelper(party, false, label))\n        }\n    }\n  \n  }\n\n  setValuesToDataHelper = (party, jaa, label) => {\n    var index = \"\"\n    if (label === \"values\") {\n      if ((jaa && party.kanta === 'jaa') || (!jaa && party.kanta === 'ei')){\n        index = 3\n      } else {\n        index = 0\n      }\n    } else if (label=== \"economics\") {\n      if ((party.kanta === 'jaa' && jaa)  || (!jaa && party.kanta === 'ei')) {\n        index = 4\n      } else {\n        index = 1\n      }\n    } else if (label === \"green\") {\n      index = 2\n    }\n    \n    switch(index) {\n      case 2:\n        if (party.kanta === 'jaa' && jaa) {\n          this.setDataToPartyHelper(party, index)\n        } else if  (party.kanta === 'ei' && !jaa){\n          this.setDataToPartyHelper(party, index)\n        }\n      break;\n      default:\n        this.setDataToPartyHelper(party, index)\n    }\n  }\n\n  setDataToPartyHelper = (party, index) => {\n    var partiesDataCopy = this.state.partiesData\n    let orginalValue = 0\n    if (partiesDataCopy.find(data => data.label.replace(/\\s/g, '') === party.nimi.replace(/\\s/g, ''))) {\n      orginalValue = partiesDataCopy.find(data => data.label.replace(/\\s/g, '') === party.nimi.replace(/\\s/g, '')).data[index]\n    }\n    \n    if (partiesDataCopy.find(data => data.label.replace(/\\s/g, '') === party.nimi.replace(/\\s/g, ''))) {\n      partiesDataCopy.find(data => data.label.replace(/\\s/g, '') === party.nimi.replace(/\\s/g, '')).data[index] = orginalValue + 1\n    }\n    \n    this.setState({\n      partiesData: partiesDataCopy\n    })\n  }\n\n  allParties = (e) => {\n    const selectedParties = this.state.allParties ? [] : this.state.partiesData.map(set => set.label)\n    this.setState({\n      allParties: !this.state.allParties,\n      selectedParties\n    })\n  }\n\n  handleParties = (party) => {\n    if (this.state.selectedParties.includes(party)) {\n      this.setState({\n        selectedParties: this.state.selectedParties.filter(parti => parti !== party)\n      })\n    } else {\n      const copy = this.state.selectedParties\n      copy.push(party)\n      this.setState({\n        categories: copy\n      })\n    }\n  }\n\n  render() {\n    if (this.props.questions != this.state.questions) {\n      this.setState({\n        questions: this.props.questions\n      })\n      this.dataToRadar()\n    }\n    const allParties = this.state.partiesData.map(set => set.label)\n    return (\n      <div style={{paddingTop: \"1em\", marginBottom: \"2em\"}}>\n        {this.state.questions &&\n        <div>\n          <div style={{textAlign: \"center\"}}>\n            <h1 style={{textAlign: \"center\"}}>Arvokartta</h1>\n            <Accordion>\n              <Accordion.Title active={!this.state.selectParties} onClick={() => this.setState({selectParties: !this.state.selectParties})}>\n                <Icon name='dropdown' />\n                <b>Valitse puolueita kartalle </b>\n              </Accordion.Title>\n              <Accordion.Content active={this.state.selectParties} style={{marginLeft: \"2em\"}}>\n                <div>\n                <Checkbox\n                    label={{ children: \"Kaikki/Tyhjennä\" }} \n                    style={{padding: \"0.8em\"}}\n                    checked={this.state.allParties}\n                    onChange={() => this.allParties()} />\n                    <hr />\n                {allParties.map(party => \n                  <Checkbox\n                    key={party}\n                    label={{ children: party }} \n                    style={party == 'Sinä' ? {padding: \"0.8em\", background: \"rgb(255, 0, 165, 0.1)\"} : {padding: \"0.8em\"}}\n                    checked={this.state.selectedParties.includes(party)}\n                    onChange={() => this.handleParties(party)} />\n                  )}\n                </div>\n              </Accordion.Content>\n            </Accordion>\n      \n            <div> \n              <Radar \n                options = {{\n                  layout: {\n                    padding: 0.5,\n                  },\n                  legend: {\n                    labels: {\n                        fontSize: 14\n                    }\n                  },\n                  \n                }}\n                data = {{\n                  labels: [`Konservatiivisuus`, 'Oikeistolaisuus',  'Vihreys', 'Liberaalius', 'Vasemmistolaisuus'],\n                  datasets: this.state.partiesData.filter(party => this.state.selectedParties.includes(party.label)),\n                }}\n              />\n            </div>\n            </div>\n             <Accordion>\n             <Accordion.Title active={!this.state.info} style={{textAlign: \"center\"}} onClick={() => this.setState({info: !this.state.info})}>\n               <Icon name='dropdown' />\n               <b>Tietoa arvokartasta </b>\n             </Accordion.Title>\n             <Accordion.Content active={this.state.info} style={{marginLeft: \"5em\"}}>\n             Vaalikoneen kysymykset on luokiteltu viiteen ulottuvuuteen.\n             <br/><br/> \n             <i>Vasemmistolaisiksi</i> on luokiteltu kysymykset, jotka painottavat verotuksen\n             kiristämistä ja valtionohjauksen suosimista taloudessa. <i>Oikeistolaisia</i> ovat puolestaan ne kysymykset, jotka edistävät vapaita markkinoita ja \n             valtion talouspoliittisen kontrollin vähentämistä. Näitä talouskysymyksiä on kartalla kuvattuna yhteensä {this.state.economicsCount}.\n             <br/><br/> \n             <i>Liberaalius</i> tarkoittaa vapaamielisyyttä arvokysymyksissä ja <i>konservatiivisuus</i> puolestaan halukkuutta säilyttää\n             perinteisinä pidettyjä arvoja. Arvokysymyksiä kartalla on {this.state.valuesCount}.\n             <br/><br/> \n             Viidentänä ulottuvuutena on <i>vihreys</i>, joka tarkoittaa ekologisen kestävyyden painottamista poliittisessa päätöksenteossa.\n             Ympäristökysymyksiä on yhteensä {this.state.greenCount}.\n             </Accordion.Content>\n           </Accordion>\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  questions: state.kysymykset,\n});\n\nexport default connect(\n  mapStateToProps,\n  null,\n)(NolansMap);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Grid, Header, Card, Icon, Dimmer, Loader} from 'semantic-ui-react';\nimport { addKysymys, addVastaus, addEuroVastaus } from '../reducers/kayttajaReducer';\nimport { notifyCreation } from '../reducers/notifyReducer'\nimport AnswersTable from './AnswersTable';\nimport EuroAnswers from './europa/euroAnswers';\nimport './Machine.css';\nimport NolansMap from './nolansMap/NolansMap';\n\nclass Machine extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      kysymykset: [],\n      monesko: 0,\n      kysymys: null,\n      show: false,\n      tulokset: false,\n      naytaKysymys: false,\n    };\n  }\n\n  componentDidMount = async () => {\n    document.body.scrollTop = 0; // For Safari\n    document.documentElement.scrollTop = 0;\n    const questions = this.filterQuestions(this.props.kysymykset)\n    const satunnainenKysymys = this.shuffle(questions)\n    let kysymykset = satunnainenKysymys\n    if (satunnainenKysymys.length > 9) {\n      kysymykset = satunnainenKysymys.slice(0, this.props.howMany);\n    }\n    \n    this.setState({\n      kysymykset\n    });\n    if (!this.state.kysymys) {\n      this.setState({\n        kysymys: kysymykset[this.state.monesko],\n      })\n    } else {\n      window.location.assign('/')\n    }\n  }\n\n  filterQuestions = (questions) => {\n    const selected_categories = this.props.selected_categories\n    let handledQuestions = this.selectedMachineQuestions(this.props.selection, questions)\n    if (selected_categories.length > 0){\n      handledQuestions = questions.filter( q => selected_categories.some(cat => q.kategoriat.map(k => k.nimi).includes(cat)))\n      if (handledQuestions.length === 0) {\n        this.props.notifyCreation('Antamillasi ehdoilla ei löytynyt yhtään kysymystä. Kokeile valita hieman vähemmän kategorioita.', 15)\n      }\n    }\n    return handledQuestions\n  }\n\n  selectedMachineQuestions = (selection, questions) => {\n    let handledQuestions = questions.filter(q => q.tunniste != 'eu2019')\n    if (selection == 'eu2019') {\n      handledQuestions =  questions.filter(q => q.tunniste == 'eu2019')\n    }\n    console.log('juuh');\n    \n    switch(selection) {\n      case 'eu2019':\n        return handledQuestions\n      case 'sipila':\n    console.log('juussh');\n\n        return handledQuestions.filter(x => x.createdAt == null)\n      case 'rinne':\n        return handledQuestions.filter(x => x.createdAt)\n      default:\n        return []\n    }\n  }\n/*eslint-disable */\n  shuffle = (array) => {\n    \n    let currentIndex = array.length,\n      temporaryValue,\n      randomIndex;\n    while (currentIndex !== 0) {\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex = currentIndex - 1;\n\n      temporaryValue = array[currentIndex];\n      array[currentIndex] = array[randomIndex];\n      array[randomIndex] = temporaryValue;\n    }\n\n    return array;\n  }\n  /* eslint-enable */\n  show = () => {\n    this.setState({\n      show: !this.state.show,\n    });\n  }\n\n  naytaKysymys = () => {\n    this.setState({\n      naytaKysymys: !this.state.naytaKysymys,\n    });\n  }\n\n  tulokset= () => {\n    this.setState({\n      tulokset: !this.state.tulokset,\n    });\n  }\n\n\n  vastaus = (vastaus) => {\n    let q = this.state.kysymys\n    q.user = q.tunniste == 'eu2019' && vastaus === 'eos' ? 'tyhjia' : vastaus\n    this.props.addKysymys(q);\n    const jaaPuolueet = this.state.kysymys.puolueet.filter(p => p.kanta === q.user);\n    const help = this.props.kayttaja.kysymykset.find(x => x.kysymys === this.state.kysymys.kysymys)\n    if (!help) {\n      for (let i = 0; i < jaaPuolueet.map(p => p.nimi).length; i = i + 1) {\n        (this.props.selection == 'eu2019') ? this.props.addEuroVastaus(jaaPuolueet.map(p => p.nimi)[i]) : this.props.addVastaus(jaaPuolueet.map(p => p.nimi)[i]);\n      }\n    }\n    this.setState({\n      monesko: this.state.monesko + 1,\n      kysymys: this.state.kysymykset[this.state.monesko + 1],\n      naytaKysymys: false,\n      show: false,\n    })\n  } \n\n  render() {\n    const buttonSize = window.innerWidth > 600 ? 'big' : 'medium'\n    if (this.state.kysymykset.length > 0 && this.props.kayttaja.kysymykset.length === this.state.kysymykset.length && (this.props.selection != 'eu2019')) {\n      return (\n        <div>\n          <h1 >Tulokset</h1>\n          Taulukosta voit katsoa kuinka hyvin antamasi vastaukset vastaavat eduskunnan todellisia äänestystuloksia. \n          Taulukon alla olevasta kuviosta näet puolueiden kannat arvokartalla.\n          <AnswersTable />\n          <NolansMap user={this.props.kayttaja}/>\n          <Button onClick={() => window.location.assign('/kone')} basic fluid color=\"blue\" size='massive' style={{marginTop: \"3em\", margin: \"1em\"}}>\n            Valitse uudet kategoriat ja vastaa taas kysymyksiin\n          </Button>\n        </div>\n      );\n    }\n    if((this.props.selection == 'eu2019') && this.props.kayttaja.kysymykset.length === this.state.kysymykset.length) {\n      return <EuroAnswers />\n    }\n    if (!this.state.kysymys) {\n      return(\n      <Dimmer active>\n        <Loader indeterminate>Preparing Files</Loader>\n      </Dimmer>\n      )\n    }\n    return (\n      <Grid style={{marginLeft: \"0.2em\" }}>\n        <Grid.Row>\n          <Header as=\"h1\" >  \n            <span> Äänestä!</span></Header>\n        </Grid.Row>\n        <Grid.Row>\n            <p> {this.props.kayttaja.kysymykset.length + 1}. {this.state.kysymys.kysymys}</p>\n         </Grid.Row>\n\n        <Grid.Row>\n          <Button onClick={() => this.vastaus('jaa')} size={buttonSize} color='green'> \n            <Icon name='checkmark' />\n            Jaa\n          </Button>\n          <Button onClick={() => this.vastaus('eos')} size={buttonSize} >\n            <Icon name='question' />\n            EOS\n          </Button>\n          <Button onClick={() => this.vastaus('ei')} size={buttonSize} color=\"red\">\n            <Icon name=\"close\" />\n            Ei\n          </Button>\n        </Grid.Row>\n        <Grid.Row style={{marginTop: \"0.5em\", marginBottom: \"0.5em\"}}>\n        <Card style={{width: \"100%\"}}>\n          <Card.Header style={{background: \"#cecece\", padding: \"0.5em\"}}><h3>Lisätietoja</h3></Card.Header>\n          <Card.Content> \n           <h3>{this.state.kysymys.tunniste !== 'eu2019' && this.state.kysymys.tunniste}</h3> \n            <p>{this.state.kysymys.selitys}</p> \n           <h3>Äänestysvuosi</h3>\n           {this.state.kysymys.vuosi}\n           <h3>Kategoriat</h3>\n           {this.state.kysymys.kategoriat.map(x => (\n                <p style={{padding: \"0\", margin: \"0\"}} key={x._id}>{x.nimi}</p>\n          ))}\n          </Card.Content>\n          <Card.Content extra>\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href={this.state.kysymys.url} style={{color:\"blue\"}}>Asiakirjat</a>\n          </Card.Content>\n        </Card>\n       \n        </Grid.Row>\n      \n      </Grid>\n    );\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  kysymykset: state.kysymykset,\n  kayttaja: state.kayttaja,\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    addVastaus,\n    addKysymys,\n    addEuroVastaus,\n    notifyCreation,\n  },\n)(Machine);\n\n","import React from 'react'\nimport { connect } from 'react-redux';\nimport { Accordion, Icon, Checkbox } from 'semantic-ui-react'\nimport Machine from './Machine'\n\nclass SipilaSettings extends React.Component {\n    state = {\n      renderMachine: false,\n      hotQuestions: true,\n      howMany: false,\n      categories: [],\n      number: 20\n    }\n\n\n    handleHotquestions = () => {\n      this.setState({\n        hotQuestions: !this.state.hotQuestions,\n      })\n    }\n\n    showHowMany = () => {\n      this.setState({\n        howMany: !this.state.howMany,\n      })\n    }\n\n    renderMachine = () => {\n      this.setState({\n        renderMachine: true,\n      })\n    }\n\n    handleCategories = (categ) => {\n      if (this.state.categories.includes(categ)) {\n        this.setState({\n          categories: this.state.categories.filter(cat => cat !== categ)\n        })\n      } else {\n        const copy = this.state.categories\n        copy.push(categ)\n        this.setState({\n          categories: copy\n        })\n      }\n    }\n\n    handleNumber = (number) => {\n      this.setState({\n        number\n      })\n    }\n\n    render() {\n      if (this.state.renderMachine) {\n        return (\n          <Machine selection='sipila' selected_categories={this.state.categories} howMany={this.state.number}/>\n        )\n      }\n      return (\n        <div>\n            <h1>Asetukset</h1>\n            <p>\n              Oletuksena sinulle arvotaan 20 kysymystä. Halutessasi voit\n              valita kysymysten määrän ja  sinua kiinnostavat kategoriat.\n            </p>\n            <Accordion style={{paddingTop: \"1em\", paddingBottom:\"1em\"}}>\n              <Accordion.Title active={!this.state.hotQuestions} onClick={this.handleHotquestions}>\n                <Icon name='dropdown' />\n                <b>Valitsen itse kategoriat </b>\n              </Accordion.Title>\n              <Accordion.Content active={!this.state.hotQuestions} style={{marginLeft: \"2em\"}}>\n                <div>\n                  {this.props.kategoriat.map(kateg => \n                    <Checkbox\n                      key={kateg.id}\n                      label={{ children: kateg.nimi }} \n                      style={{padding: \"0.8em\"}}\n                      checked={this.state.categories.includes(kateg.nimi)}\n                      onChange={() => this.handleCategories(kateg.nimi)} />\n                    )}\n                </div>\n              </Accordion.Content>\n              <Accordion.Title active={this.state.howMany} onClick={this.showHowMany}>\n                <Icon name='dropdown' />\n                <b>Valitsen itse kysymysten määrän </b>\n              </Accordion.Title>\n              <Accordion.Content active={this.state.howMany} style={{marginLeft: \"2em\"}}>\n                <div>\n                  {[10, 20, 30, this.props.kysymykset.length].map(number => \n                    <Checkbox\n                      key={number}\n                      label={{ children: number }} \n                      style={{padding: \"0.8em\"}}\n                      checked={this.state.number == number}\n                      onChange={() => this.handleNumber(number)} />\n                    )}\n                </div>\n              </Accordion.Content>\n            </Accordion>\n          <br />\n          <button className=\"button\" style={{marginBottom: \"1em\"}} onClick={() => this.renderMachine()}>Aloita</button>\n      </div>\n      )\n    }\n}\n\nconst mapStateToProps = state => ({\n  kategoriat: state.kategoriat,\n  kysymykset: state.kysymykset\n});\n\nexport default connect(mapStateToProps)(SipilaSettings);\n","import React from 'react';\nimport Machine from '../Machine';\n\nclass EuroSettings extends React.Component {\n\n    render(){\n    return (\n    <Machine selection='eu2019' selected_categories={[]} howMany={20}/>\n    )\n    }\n}\n\nexport default EuroSettings","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Table, Button } from 'semantic-ui-react';\nimport kysymysService from './../../services/kysymys';\n\nconst linkStyle = {\n  color: 'black',\n  fontSize: 14,\n  fontWeight: 'normal',\n};\n\nclass Questions extends React.Component {\n    remove =k => () => {\n      const ok = window.confirm(`Poistetaanko ${k.kysymys} kysymys`);\n\n      if (!ok) {\n        return;\n      }\n      try {\n        const loggedUserJSON = window.localStorage.getItem('loggedUser');\n        kysymysService.setToken(JSON.parse(loggedUserJSON).token);\n        kysymysService.remove(k.id);\n      } catch (error) {\n        console.log('jotain meni vikaan');\n      }\n    }\n\n    render() {\n      const questions = this.props.kysymykset.filter(q => q.tunniste != 'eu2019')\n      const euroQuestions = this.props.kysymykset.filter(q => q.tunniste == 'eu2019')\n\n      return (\n        <div>\n           <Table celled>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell positive>EuroKysymys</Table.HeaderCell>\n              {window.localStorage.getItem('loggedUser') &&\n              <Table.HeaderCell>Poisto</Table.HeaderCell>}\n            </Table.Row>\n          </Table.Header>\n          <Table.Body>\n            {euroQuestions.map(k =>\n                  (\n                    <Table.Row key={k.id}>\n                      <Table.Cell selectable><Link style={linkStyle} to={`/kysymykset/${k.id}`}>{k.kysymys}</Link></Table.Cell>\n                      <Table.Cell>{window.localStorage.getItem('loggedUser') === null ?\n                null : <form onSubmit={this.remove(k)}><Button inverted color=\"red\" type=\"submit\">Delete</Button></form>}\n                      </Table.Cell>\n                    </Table.Row>))}\n          </Table.Body>\n        </Table>\n        <Table celled>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell positive>Kysymys</Table.HeaderCell>\n              {window.localStorage.getItem('loggedUser') &&\n              <Table.HeaderCell>Poisto</Table.HeaderCell>}\n            </Table.Row>\n          </Table.Header>\n          <Table.Body>\n            {questions.map(k =>\n                  (\n                    <Table.Row key={k.id}>\n                      <Table.Cell selectable><Link style={linkStyle} to={`/kysymykset/${k.id}`}>{k.kysymys}</Link></Table.Cell>\n                      <Table.Cell>{window.localStorage.getItem('loggedUser') === null ?\n                null : <form onSubmit={this.remove(k)}><Button inverted color=\"red\" type=\"submit\">Delete</Button></form>}\n                      </Table.Cell>\n                    </Table.Row>))}\n          </Table.Body>\n        </Table>\n        </div>\n      );\n    }\n}\nconst mapStateToProps = state => ({\n  kysymykset: state.kysymykset,\n});\nexport default connect(\n  mapStateToProps,\n  null,\n)(Questions);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Container, Table, Header, Button } from 'semantic-ui-react'\n\n\nclass Vastaukset extends React.Component {\n  state={\n    tiedot: false,\n  }\n    componentDidMount = () => {\n    }\n\n    nayta = () => {\n      this.setState({\n        tiedot: !this.state.tiedot,\n      })\n    }\n    render() {\n      if (this.props.edustaja) {\n        const edustaja = this.props.edustaja\n        const kysymykset = Object.keys(edustaja)\n        const tiedot = kysymykset.slice(0, 36)\n        const sliced = kysymykset.slice(37, 99)\n        return (\n          <Container style={{ background: '#fff3e6' }}>\n            <Header>{edustaja.etunimi}{' '}{edustaja.sukunimi}</Header>\n            <b>Vastaukset ylen vaalikoneeseen</b>\n            <br />\n            <br />\n            <b>Vaalilupaukset</b>\n            <p style={{ background: '#ffce99' }}>Vaalilupaus 1: {edustaja['Vaalilupaus 1']}</p>\n            <p style={{ background: '#ffce99' }}>Vaalilupaus 2: {edustaja['Vaalilupaus 2']}</p>\n            <p style={{ background: '#ffce99' }}>Vaalilupaus 3: {edustaja['Vaalilupaus 3']}</p>\n            <Button onClick={this.nayta} inverted color=\"blue\"> {!this.state.tiedot ?\n              <p>Näytä edustajan</p> : <p>Piilota </p>}\n          taustatiedot\n            </Button>\n            {this.state.tiedot &&\n            <Table striped>\n              <Table.Header>\n                <Table.Row>\n                  <Table.HeaderCell style={{ background: 'DeepSkyBlue' }}>Kohta</Table.HeaderCell>\n                  <Table.HeaderCell>Vastaus</Table.HeaderCell>\n                </Table.Row>\n              </Table.Header>\n              <Table.Body>\n                {tiedot.map(x =>\n              (\n                <Table.Row key={x}>\n                  <Table.Cell>{x}</Table.Cell>\n                  <Table.Cell>{edustaja[x]}</Table.Cell>\n                </Table.Row>\n                ))}\n              </Table.Body>\n              <Button onClick={this.nayta} inverted color=\"blue\">Piilota taustatiedot\n              </Button>\n            </Table>\n          }\n            <Table striped celled>\n              <Table.Header>\n                <Table.Row>\n                  <Table.HeaderCell style={{ background: '#ffa64d' }}>Kysymys</Table.HeaderCell>\n                  <Table.HeaderCell style={{ background: '#ffa64d' }}>Vastaus</Table.HeaderCell>\n                </Table.Row>\n              </Table.Header>\n              <Table.Body>\n                {sliced.map(x =>\n              (\n                <Table.Row key={x}>\n                  <Table.Cell>{x}</Table.Cell>\n                  <Table.Cell>{edustaja[x]}</Table.Cell>\n                </Table.Row>\n                ))}\n              </Table.Body>\n            </Table>\n          </Container>\n        )\n      } return null\n    }\n}\n\nconst mapStateToProps = state => ({\n  edustaja: state.edustaja,\n});\n\nexport default connect(\n  mapStateToProps,\n  null,\n)(Vastaukset);\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Table } from 'semantic-ui-react'\nimport { parseParties } from '../yle/ylesQuestionsCategories';\n\nclass YleKannat extends React.Component {\n  state = {\n    eit: false,\n    jaat: false,\n    yhteensa: false,\n    kannat: false,\n    red: '',\n    green: '',\n  }\n  \n  componentWillMount = () => {\n    const puolueet = this.props.ylenKysymykset.puolueet\n    const puolue = parseParties(this.props.puolue)\n    console.log('puolue', this.state.puolue);\n    \n    if (this.props.puolue && this.props.kysymys) {\n      const kannat = puolueet[puolue].map(x => (\n        {\n          edustaja: `${x.etunimi} ${x.sukunimi}`,\n          kanta: x[this.props.kysymys],\n        }))\n      const eit = kannat.filter(x => x.kanta.toString() === 'jokseenkin eri mieltä'\n    || x.kanta.toString() === 'täysin eri mieltä')\n      const jaat = kannat.filter(x => x.kanta.toString() === 'jokseenkin samaa mieltä'\n    || x.kanta.toString() === 'täysin samaa mieltä')\n      const yhteensa = kannat.length\n      if (eit.length > jaat.length) {\n        this.setState({\n          red: '#FFB6C1',\n        })\n      } if (eit.length < jaat.length) {\n        this.setState({\n          green: 'lightgreen',\n        })\n      }\n      this.setState({\n        eit,\n        jaat,\n        yhteensa,\n        kannat,\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h2 style={{ textAlign: 'center' }}>Ylen vaalikoneen kysymys</h2>\n        { this.props.show &&\n        <h2 style={{ background: '#ffc180', textAlign: 'center' }}>{this.props.puolue}</h2>\n          }\n        <h3>{this.props.kysymys}</h3>\n        <p><b>Ylen vaalikoneeseen vastanneet edustajat: </b>{this.state.yhteensa}</p>\n        <p style={{ background: this.state.green }}><b>Jaa: </b>\n          {this.state.jaat.length}\n          ({Math.round((this.state.jaat.length / this.state.yhteensa) * 100)}%)\n        </p>\n        <p style={{ background: this.state.red }}>\n          <b>Ei: </b> {this.state.eit.length}\n          ({Math.round((this.state.eit.length / this.state.yhteensa) * 100)}%)\n        </p>\n        { this.props.show &&\n        <Table celled striped id=\"table\">\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell positive>Edustaja</Table.HeaderCell>\n              <Table.HeaderCell>\n              Kanta\n              </Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n          <Table.Body>\n            {this.state.kannat.map(x =>\n           (\n             <Table.Row key={x.edustaja}>\n               <Table.Cell> {x.edustaja}</Table.Cell>\n               <Table.Cell>{x.kanta}</Table.Cell>\n             </Table.Row>))}\n          </Table.Body>\n        </Table>\n        }\n      </div>\n    )\n  }\n}\nconst mapStateToProps = state => ({\n  ylenKysymykset: state.ylenKysymykset,\n});\n\nexport default connect(mapStateToProps)(YleKannat);\n\n","\n\nconst edustajaReducer = (store = null, action) => {\n  if (action.type === 'ADD') {\n    return action.data\n  }\n  return store\n}\n\nexport const addEdustaja = data => async (dispatch) => {\n  dispatch({\n    type: 'ADD',\n    data,\n  })\n}\n\nexport default edustajaReducer\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Container, Button, Input, Dropdown } from 'semantic-ui-react'\nimport Vastaukset from './Answers';\nimport YleKannat from '../yleParties/YleKannat';\nimport { puolueet as valuesP } from './ylesQuestionsCategories';\nimport { addEdustaja } from '../../reducers/edustajaReducer';\nimport { notifyCreation } from '../../reducers/notifyReducer'\nimport { getYlenKysymykset  } from '../../reducers/ylenKysymyksetReducer';\n\nclass EtsiVastaus extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      etunimi: '',\n      sukunimi: '',\n      kysymys: '',\n      puolue: '',\n      kannat: false,\n    };\n  }\n\n  componentWillMount = async () => {\n    if (!this.props.ylenKysymykset.kysymykset) { window.location.assign('/') }\n  }\n\n    etsi = () => {\n      /*eslint-disable */\n      \n      try {\n      const edustaja = this.props.ylenKysymykset.edustajat.find(x => x.sukunimi.toLowerCase().replace(/\\s/g, '') === this.state.sukunimi.toLowerCase().replace(/\\s/g, ''))\n      /* eslint-enable */\n        if (edustaja.etunimi.toLowerCase().replace(/\\s/g, '') === this.state.etunimi.toLowerCase().replace(/\\s/g, '')) {\n          this.props.addEdustaja(edustaja)\n        }\n      } catch (err) {\n        this.props.notifyCreation('Henkilöä ei löydy. Syötitkö sekä etu- että sukunimen?', 5)\n      }\n    }\n\n    muodosta = () => {\n      const puolueet = this.props.ylenKysymykset.puolueet\n      if (this.state.puolue && this.state.kysymys) {\n        const kannat = puolueet[this.state.puolue].map(x => (\n          {\n            edustaja: `${x.etunimi} ${x.sukunimi}`,\n            kanta: x[this.state.kysymys],\n          }))\n        this.setState({\n          kannat,\n        })\n      } else {\n        this.props.notifyCreation('Tietoja ei löydy. Syötitkö sekä puolueen- että kysymyksen?', 5)\n      }\n    }\n\n    handleChange(e, { name, value }) {\n      // If you are using babel, you can use ES 6 dictionary syntax\n      // let change = { [e.target.name] = e.target.value }\n      if (name && value) {\n        this.setState({ [name]: value })\n      } else {\n        const change = {}\n        change[e.target.name] = e.target.value\n        this.setState(change)\n      }\n    }\n\n    piilotaKannat = () => {\n      this.setState({\n        kannat: false,\n      })\n    }\n\n    // tietokantaan = async () => {\n    //   console.log('haloo', \n    //   this.props.kysymykset[0].edustajat.map(c => c.nimi));\n      \n      \n    //   const yle = await this.props.getYlenKysymyksetFromCSV(\n    //     this.props.kysymykset[0].edustajat.map(c => c.nimi));\n      \n    //     setTimeout(function(){ console.log('yle', yle);\n    //      }, 5000);\n     \n    // }\n\n    render() {\n      if (this.props.ylenKysymykset) {\n      /*eslint-disable */\n      const values = this.props.ylenKysymykset.kysymykset.map(x => x = { text: x, value: x })\n       /* eslint-enable */\n        return (\n          <Container>\n            <h1>Mitä vuonna 2015 tuli luvattua?</h1>\n            <p>Alta voit tarkastaa, mitä ylen vaalikoneessa kysyttiin vuonna 2015 ja miten puolueet ja edustajat kysymyksiin vastasivat.</p>\n            <div style={{ background: 'AliceBlue'}}>\n              <h2>Puolueet</h2>\n              <p>\n           Täältä löydät puolueiden vastaukset yksittäisiin ylen vaalikoneessa vuonna 2015 kysyttyihin kysymyksiin.\n              </p>\n              <Dropdown type=\"text\" name=\"puolue\" placeholder=\"Valitse puolue\" onChange={this.handleChange.bind(this)} fluid search selection options={valuesP} />\n              <Dropdown type=\"text\" name=\"kysymys\" placeholder=\"Valitse kysymys\" onChange={this.handleChange.bind(this)} fluid search selection options={values} />\n              <br />\n              <p><Button positive onClick={this.muodosta}>Tarkastele vastauksia</Button></p>\n              <br />\n              { this.state.kannat &&\n              <div>\n                <Button onClick={this.piilotaKannat}>Piilota {this.state.puolue} kannat</Button>\n                <YleKannat puolue={this.state.puolue} kysymys={this.state.kysymys} show />\n              </div>\n            }\n            </div>\n            <br />\n            <div style={{ background: 'AliceBlue' }}>\n              <h1>Edustajat</h1>\n              <p>\n          Täältä voit etsiä yksittäisten kansanedustajien/ehdokkaiden vastauksia ylen vaalikoneeseen,\n              </p>\n              <Input type=\"text\" onChange={this.handleChange.bind(this)} className=\"form-control\" placeholder=\"Juha\" name=\"etunimi\" label=\"Etunimi\" />\n              <Input type=\"text\" onChange={this.handleChange.bind(this)} className=\"form-control\" placeholder=\"Sipilä\" name=\"sukunimi\" label=\"Sukunimi\" />\n              <br />\n              <br />\n              <p><Button positive color=\"black\" onClick={this.etsi}>Tarkastele vastauksia</Button></p>\n              <br />\n              <Vastaukset />\n            </div>\n          </Container>\n        )\n      }\n      return null\n    }\n}\n\n\nconst mapStateToProps = state => ({\n  edustaja: state.edustaja,\n  kysymykset: state.kysymykset,\n  ylenKysymykset: state.ylenKysymykset,\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    addEdustaja,\n    notifyCreation,\n    getYlenKysymykset\n  },\n)(EtsiVastaus);\n","import React from 'react';\nimport { Loader, Dimmer, Dropdown } from 'semantic-ui-react'\nimport Papa from 'papaparse'\nimport csv from './avoin_2019.csv'\nimport {Pie} from 'react-chartjs-2';\n\n\n\nclass OpinionChart extends React.Component {\n    constructor(props) {\n        // Call super class\n        super(props);\n    this.update = this.update.bind(this);\n\n  this.state = {\n    parties: [\"Kokoomus\", \"Suomen Kommunistinen Puolue\", \"Perussuomalaiset\", \"RKP\", \"Seitsemän tähden liike\", \"SDP\", \"Kansalaispuolue\", \"Kommunistinen Työväenpuolue\", \"Feministinen puolue\", \"Keskusta\", \"Kristillisdemokraatit\", \"Itsenäisyyspuolue\", \"Sitoutumaton\", \"Sininen tulevaisuus\", \"Vasemmistoliitto\", \"Suomen Kansa Ensin\", \"Vihreät\", \"Piraattipuolue\", \"Liberaalipuolue\", \"Eläinoikeuspuolue\", \"Liike Nyt\", \"Kansanliike Suomen Puolesta\"],\n    done: false,\n    }\n}\n\n  componentDidMount = async () => {\n    await Papa.parse(csv, {\n        header: true,\n        download: true,\n        complete: this.update\n    })\n\n  }\n\n  update(results) {\n    const parties = this.state.parties\n    const partiesData = {}\n    parties.forEach(party => {\n        partiesData[party] = results.data.filter(x => x['puolue'] === party)\n    })\n    results.data.forEach(x => {\n        if(!parties.includes(x['puolue'])) {\n            parties.push(x['puolue'])\n        }\n    })\n    \n    this.setState({\n        partiesData,\n        questions: results.meta.fields.filter(x => x != 'puolue' && x != 'vaalipiiri')\n    })\n}\n\n    dataByParty = (party) => {\n        let counts = {\n            \"1\": 0,\n            \"2\": 0,\n            \"3\": 0,\n            \"4\": 0,\n            \"5\": 0\n        }\n        if (!this.state.partiesData[party]){\n            return false\n        }\n\n        const question = this.state.selectedQuestion\n        let data = this.state.partiesData[party]\n        data.forEach(x => {\n            counts[x[question]] = counts[x[question]] + 1\n        })\n        return [counts['1'], counts['2'], counts['3'],counts['4'],counts['5']]\n    }\n\n    handleQuestion = (e, data) => {\n        this.setState({selectedQuestion: data.value})\n    }\n  \n  render() {\n    const desktopStyle = window.innerWidth > 1100 ? { maxWidth: '600px',  margin: 'auto', width: '50%'} : {}\n        \n    if (!this.state.questions){\n       return  (\n        <Dimmer active>\n            <Loader indeterminate>Preparing Files</Loader>\n        </Dimmer>\n       )\n\n    }\n    return(\n    <div style={{minHeight:\"800px\"}}>\n        <h1>Hajontakaavio</h1>\n        Täällä voit tarkastella, kuinka eri puolueiden antamat vastaukset\n        ovat Ylen vaalikonekysymyksissä hajonneet. \n        <br />\n        <br />   Jos esimerkiksi jokin Ylen kysymyksistä on sinulle kynnyskysymys puolueen valinnassa, voit valita sen\n        alla olevasta valikosta. Tämän jälkeen voit tarkistaa, kuinka yhtenäisesti eri puolueet\n        ovat kysymykseen vastanneet.\n        <br/>\n        <br/>\n        <Dropdown\n            text='Valitse kysymys'\n            selection\n            fluid\n            options={this.state.questions.map(x => {return {key: x, value: x, text: x}})}\n            onChange={(e, data) => this.handleQuestion(e, data)}\n        />\n        <br/>\n        <h3 style={{background: 'white', textAlign: 'center', padding: '1em', position: \"-webkit-sticky\", position: \"sticky\", top: \"0\"}}>{this.state.selectedQuestion}</h3>\n     \n        {this.state.selectedQuestion &&\n            this.state.parties.map(party => \n                <div \n                key={party}\n                style={{textAlign: 'center'}}\n                >\n                {party}\n            <div style={desktopStyle}>\n            <Pie\n                data = {{\n                    labels: [\n                        'Varmasti eri mieltä (' + this.dataByParty(party)[0] +')',\n                        'Eri mieltä (' + this.dataByParty(party)[1] +')',\n                        'EOS (' + this.dataByParty(party)[2] +')',\n                        'Samaa mieltä (' + this.dataByParty(party)[3] +')',\n                        'Varmasti samaa mieltä (' + this.dataByParty(party)[4] +')'\n                    ],\n                    datasets: [{\n                        data: this.dataByParty(party),\n                        backgroundColor: [ \"rgb(255, 51, 0)\", \"rgb(255, 183, 183)\", \"rgb(165, 165, 165)\", \"rgb(194, 240, 194)\",\"rgb(51, 204, 51)\"]\n                    }\n                    ],\n                }}\n                style={{margin: '1em'}}\n            />\n            </div>\n            <hr style={{marginTop: '1em', marginBottom: '1em'}}/>\n                </div>\n\n             )\n            }\n    </div>\n    )\n  }\n}\n\nexport default OpinionChart","import axios from 'axios'\n\nconst baseUrl = '/api/yle2019'\n\n\nconst getAll = async () => {\n  const config = {\n    headers: { Authorization: 'ylerocks' },\n  }\n  const response = await axios.get(baseUrl, config)\n  return response.data\n}\n\nconst addYle = async (newObject) => {\n  const response = await axios.post(baseUrl, newObject)\n  return response.data\n}\n\nexport default {\n  getAll,\n  addYle\n}\n","import yle2019Service from '../services/yle2019'\n\n\nconst initialState = {\n  members: [],\n  parties: [],\n  headers: [],\n}\n\nconst yle2019Reducer = (store = initialState, action) => {\n    \n  if (action.type === 'YLE2019') {\n    return {\n      ...store,\n      members: action.data.members,\n      parties: action.data.parties,\n      headers: action.data.headers,\n    }\n  }\n  return store\n}\n\n\n\nexport const getYle2019 = () => async (dispatch) => {\n  const all = await yle2019Service.getAll()\n  dispatch({\n    type: 'YLE2019',\n    data: all[0],\n  })\n}\n\nexport default yle2019Reducer","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getYle2019 } from './../../../reducers/yle2019Reducer';\n\nimport { Table, Popup, Button, Dimmer, Loader } from 'semantic-ui-react'\n\nclass HeadsUpYle extends React.Component {\n  state = {\n    activeIndex: false\n  }\n\n  componentDidMount = () => {\n    this.props.getYle2019()\n  }\n\n  opinonsHelper = (yleOpionNumber) => {\n    let opinion = 'poissa/tyhjiä'\n    switch (yleOpionNumber) {\n      case '1':\n        opinion = 'ei (varma)'\n        break\n      case '2':\n        opinion = 'ei (ehkä)'\n        break\n      case '4':\n        opinion = 'jaa (ehkä)'\n        break\n      case '5':\n        opinion = 'jaa (varma)'\n        break\n      default:\n        break\n    }\n    return opinion\n  }\n\n  backgroundColor = (ans) => {\n    let opinion = 'poissa/tyhjiä'\n    switch (ans) {\n      case 'ei (varma)':\n        opinion = '#ff4d4d'\n        break\n      case 'ei (ehkä)':\n        opinion = '#ffcccc'\n        break\n      case 'jaa (ehkä)':\n        opinion = '#c1f0c1'\n        break\n      case 'jaa (varma)':\n        opinion = '#5cd65c'\n        break\n      default:\n        break\n    }\n    return opinion\n  }\n\n  render() {\n    if(this.props.yle.members.length > 0 && !this.state.saarikko) {\n\n      const saarikko = this.props.yle.members.find(x => x.sukunimi == 'Saarikko')\n      const kulmuni = this.props.yle.members.find(x => x.sukunimi == 'Kulmuni')\n\n      const questions = this.props.yle.headers.slice(4,33).map(x => x = { text: x, value: x })\n\n      this.setState({\n        saarikko,\n        kulmuni,\n        questions\n      })\n    }\n\n    \n\n    if (this.state.saarikko) {\n      return(\n        <div>\n          <h1>Saarikko vs. Kulmuni</h1>\n          <p>Erot Ylen vaalikonevastauksissa</p>\n          <Table celled>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell>Kysymys</Table.HeaderCell>\n              <Table.HeaderCell style={{width: '8em'}}>Saarikko</Table.HeaderCell>\n              <Table.HeaderCell style={{width: '8em'}}>Kulmuni</Table.HeaderCell>\n              <Table.HeaderCell>Saarikon selitys</Table.HeaderCell>\n              <Table.HeaderCell>Kulmunin selitys</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n      \n          <Table.Body>\n            {this.state.questions.map( question => \n              <Table.Row key={question.text}>\n                <Table.Cell>{question.text}</Table.Cell>\n                <Table.Cell style={{background: this.backgroundColor(this.opinonsHelper(this.state.saarikko[question.text]))}}>\n                  {this.opinonsHelper(this.state.saarikko[question.text])}\n                </Table.Cell>\n                <Table.Cell style={{background: this.backgroundColor(this.opinonsHelper(this.state.kulmuni[question.text]))}}>\n                  {this.opinonsHelper(this.state.kulmuni[question.text])}\n                </Table.Cell>\n                <Table.Cell>\n                  <Popup \n                    content={this.state.saarikko['Explain ' + question.text]} \n                    trigger={<Button icon='talk' \n                      color={this.opinonsHelper(this.state.saarikko[question.text]).includes('jaa') ? 'green' : 'red'}\n                    />}\n                    size={window.innerWidth > 600 ? 'huge' : 'small'}\n                    position={window.innerWidth > 600 ? 'left center' : 'right center'}\n                    pinned\n                    on='click'\n                    wide='very'\n                  />\n                </Table.Cell>\n                <Table.Cell>\n                  <Popup \n                    content={this.state.kulmuni['Explain ' + question.text]} \n                    trigger={\n                      <Button icon='talk' \n                        color={this.opinonsHelper(this.state.kulmuni[question.text]).includes('jaa') ? 'green' : 'red'}\n                        />\n                      }\n                    size={window.innerWidth > 600 ? 'huge' : 'small'}\n                    pinned\n                    on='click'\n                    position={window.innerWidth > 600 ? 'left center' : 'right center'}\n                    wide='very'\n                  />\n                </Table.Cell>\n              </Table.Row>\n            )}\n          </Table.Body>\n        </Table>\n      </div>\n      )\n\n    }\n   \n    return(\n      <Dimmer active style={{height: '20em'}}>\n        <Loader indeterminate>\n          Ladataan ylen dataa. Odota hetki niin pääset tarkastelamaan\n          Keskustan jännittävän puheenjohtajavaalin\n          kärkiehdokkaiden eroja.\n        </Loader>\n      </Dimmer>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n    yle: state.yle2019\n  });\n  \n  export default connect(\n    mapStateToProps,  {\n      getYle2019\n    })(HeadsUpYle);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { parseParties } from '../yle/ylesQuestionsCategories';\nimport { Table } from 'semantic-ui-react'\nimport PromiseShow from './promiseShow'\n\n\nclass Promises extends React.Component {\n  render() {\n    if (this.props.ylenKysymykset){\n      console.log('this.props', this.props.ylenKysymykset);\n      \n      return <PromiseShow puolue={this.props.ylenKysymykset.puolueet.kd} />\n    }\n      console.log('asd', this.props.ylenKysymykset);\n    const parties = this.props.ylenKysymykset.puolueet\n    return (\n      <div>\n          {Object.keys(parties).map(key => \n          \n         \n            <Table>\n                <Table.Header>{key}</Table.Header>\n           \n             \n          {parties[key].map(edustaja => \n           <Table.Body>\n           <Table.Row>\n             <Table.Cell>\n             {edustaja.etunimi} {edustaja.sukunimi}\n             </Table.Cell>\n             <Table.Cell>\n                {edustaja['Vaalilupaus 1']}\n             </Table.Cell>\n           </Table.Row>\n            </Table.Body>\n          )} \n          </Table> \n        )}\n          \n      </div>\n    )\n  }\n}\nconst mapStateToProps = state => ({\n  ylenKysymykset: state.ylenKysymykset,\n});\n\nexport default connect(mapStateToProps)(Promises);\n","import axios from 'axios'\n\nconst baseUrl = '/api/kategoriat'\n\nlet token = null\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`\n}\n\nconst addKategoria = async (newObject) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst remove = async (id) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\n  return response.data\n}\n\nexport default {\n  getAll,\n  setToken,\n  addKategoria,\n  remove,\n}\n","import React from 'react';\nimport { Form, Button } from 'semantic-ui-react';\nimport kategoriaService from './../../services/kategoria';\n\nconst vastausKategoriat = {\n  sosiaalipolitiikka: ['147|Kansalaisten oikeus terveyspalveluihin on tärkeämpää kuin kuntien itsehallinto.', '146|Vanhuksen ja hänen omaistensa vastuuta hoitokustannuksista on lisättävä.', '145|Viranomaisten pitää puuttua lapsiperheiden ongelmiin nykyistä herkemmin.', '144|Terveys- ja sosiaalipalvelut on tuotettava ensijaisesti julkisina palveluina.', '143|Parantumattomasti sairaalla on oltava oikeus avustettuun kuolemaan.', '127|Suomessa on liian helppo elää sosiaaliturvan varassa', '129|Suomessa on siirryttävä perustuloon joka korvaisi nykyisen sosiaaliturvan vähimmäistason.', '135|Lapsilisiä on korotettava ja laitettava verolle.', '136|Suomella ei ole varaa nykyisen laajuisiin sosiaali- ja terveyspalveluihin.'],\n  kaupansaantely: ['247|Mietojen viinien ja vahvojen oluiden myynti ruokakaupassa sallitaan.', '244|Hyväksytään periaatepäätös uuden ydinvoimalaitosyksikön rakentamisesta.', '148|Ilmastonmuutoksen hillitseminen pitää asettaa teollisuuden kilpailukyvyn edelle.', '144|Terveys- ja sosiaalipalvelut on tuotettava ensijaisesti julkisina palveluina.', '128|Kaupan ja muiden liikkeiden aukioloajat on vapautettava.'],\n  tyoehdot: ['130|Työntekijälle on turvattava lailla minimityöaika.', '131|Ansiosidonnaisen työttömyysturvan kestoa pitää lyhentää.'],\n  eu: ['150|Suomen pitää ottaa suurempi vastuu EU:n alueelle tulevista turvapaikanhakijoista.', '132|Euron ulkopuolella Suomi pärjäisi paremmin.'],\n  talouspolitiikka: ['245|Tuloveroa alennetaan tasaisesti kaikissa tuloluokissa talouden elvyttämiseksi.', '148|Ilmastonmuutoksen hillitseminen pitää asettaa teollisuuden kilpailukyvyn edelle.', '146|Vanhuksen ja hänen omaistensa vastuuta hoitokustannuksista on lisättävä.', '132|Euron ulkopuolella Suomi pärjäisi paremmin.', '134|Valtion ja kuntien taloutta on tasapainotettava ensisijaisesti leikkaamalla menoja.', '136|Suomella ei ole varaa nykyisen laajuisiin sosiaali- ja terveyspalveluihin.'],\n  verotus: ['133|Ruoan verotusta on varaa kiristää.', '135|Lapsilisiä on korotettava ja laitettava verolle.'],\n  turvallisuus: ['149|Geenimuunneltu ruoka on turvallista ihmiselle ja ympäristölle.', '142|Suomen on osallistuttava Isisin vastaiseen taisteluun kouluttamalla Irakin hallituksen joukkoja.', '137|Nato-jäsenyys vahvistaisi Suomen turvallisuuspoliittista asemaa.', '138|Suomeen tarvitaan enemmän poliiseja.', '139|Maahanmuuttoa Suomeen on rajoitettava terrorismin uhan vuoksi.', '141|Verkkovalvonnassa valtion turvallisuus on tärkeämpää kuin kansalaisten yksityisyyden suoja.'],\n  maahanmuutto: ['150|Suomen pitää ottaa suurempi vastuu EU:n alueelle tulevista turvapaikanhakijoista.', '139|Maahanmuuttoa Suomeen on rajoitettava terrorismin uhan vuoksi.'],\n  ulkopolitiikka: ['142|Suomen on osallistuttava Isisin vastaiseen taisteluun kouluttamalla Irakin hallituksen joukkoja.', '140|Venäjän etupiiripolitiikka on uhka Suomelle.', '132|Euron ulkopuolella Suomi pärjäisi paremmin.', '137|Nato-jäsenyys vahvistaisi Suomen turvallisuuspoliittista asemaa.'],\n  yksityisyys: ['246|Edellisen eduskunnan hyväksymä lainmuutos samaa sukupuolta olevien avioliiton sallimisesta peruutetaan.', '141|Verkkovalvonnassa valtion turvallisuus on tärkeämpää kuin kansalaisten yksityisyyden suoja.'],\n  ymparisto: ['244|Hyväksytään periaatepäätös uuden ydinvoimalaitosyksikön rakentamisesta.', '149|Geenimuunneltu ruoka on turvallista ihmiselle ja ympäristölle.', '148|Ilmastonmuutoksen hillitseminen pitää asettaa teollisuuden kilpailukyvyn edelle.'],\n  hallinto: ['201|Suomen Nato-jäsenyydestä on järjestettävä kansanäänestys.', '147|Kansalaisten oikeus terveyspalveluihin on tärkeämpää kuin kuntien itsehallinto.', '151|On aika luopua ajatuksesta, että koko Suomi on pidettävä asuttuna.'],\n  koulutus: ['152|Peruskoulun opetusryhmien koko on rajattava lailla esimerkiksi 20 oppilaaseen.'],\n}\n\nclass UusiKategoria extends React.Component {\n    onSubmit = async (e) => {\n      e.preventDefault();\n      const kategoria = {\n        nimi: e.target.kategoria.value,\n      };\n      e.target.kategoria.value = '';\n      const katet = Object.keys(vastausKategoriat)\n      const vastaus = katet.find(x => x === kategoria.nimi.toLowerCase())\n      if (vastaus) {\n        const vastaukset = vastausKategoriat[vastaus]\n        kategoria.vastaukset = vastaukset\n      }\n      try {\n        const loggedUserJSON = window.localStorage.getItem('loggedUser');\n        kategoriaService.setToken(JSON.parse(loggedUserJSON).token);\n        await kategoriaService.addKategoria(kategoria);\n        window.location.assign('/kategoriat');\n      } catch (exception) {\n        console.log('Tapahtui virhe');\n      }\n    }\n\n    render() {\n      return (\n        <Form onSubmit={this.onSubmit}>\n          <Form.Input\n            label=\"Lisättävä kategoria\"\n            placeholder=\"Kategoria\"\n            name=\"kategoria\"\n          />\n          <Button inverted color=\"green\" type=\"submit\">Tallenna</Button>\n\n        </Form>\n\n      );\n    }\n}\n\nexport default UusiKategoria;\n","import kategoriatService from '../services/kategoria'\n\nconst kategoriatReducer = (store = [], action) => {\n  if (action.type === 'GET_GATEGORIES') {\n    return action.data\n  } if (action.type === 'ADD_GATEGORIES') {\n    return store.concat(action.data)\n  }\n  return store\n}\n\nexport const getKategoriat = () => async (dispatch) => {\n  const all = await kategoriatService.getAll()\n  dispatch({\n    type: 'GET_GATEGORIES',\n    data: all,\n  })\n}\n\nexport const addKategoriat = kategoria => async (dispatch) => {\n  const one = await kategoriatService.addKategoria(kategoria);\n  dispatch({\n    type: 'ADD_GATEGORIES',\n    data: one,\n  })\n}\n\nexport default kategoriatReducer\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Table, Button } from 'semantic-ui-react';\nimport kategoriaService from './../../services/kategoria';\nimport UusiKategoria from './UusiKategoria';\nimport { getKategoriat } from './../../reducers/kategoriatReducer';\n\nconst linkStyle = {\n  color: 'black',\n  fontSize: 14,\n  fontWeight: 'normal',\n};\n\nclass Kategoriat extends React.Component {\n    componentDidMount = async () => {\n      this.props.getKategoriat();\n    }\n\n    remove =k => () => {\n      const ok = window.confirm(`Poistetaanko ${k.nimi} kysymys`);\n\n      if (!ok) {\n        return;\n      }\n      try {\n        const loggedUserJSON = window.localStorage.getItem('loggedUser');\n        kategoriaService.setToken(JSON.parse(loggedUserJSON).token);\n        kategoriaService.remove(k.id);\n      } catch (error) {\n        console.log('jotain meni vikaan');\n      }\n    }\n\n\n    render() {\n      return (\n        <div>\n          {window.localStorage.getItem('loggedUser') &&\n          <UusiKategoria />\n        }\n          <Table celled>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell positive>Kategoriat</Table.HeaderCell>\n                {window.localStorage.getItem('loggedUser') === null ?\n                  <Table.HeaderCell /> : <Table.HeaderCell>Poisto</Table.HeaderCell>}\n              </Table.Row>\n            </Table.Header>\n            <Table.Body>\n              {this.props.kategoriat.map(k =>\n                  (\n                    <Table.Row key={k.id}>\n                      <Table.Cell selectable><Link style={linkStyle} to={`/kategoriat/${k.id}`}>{k.nimi}</Link></Table.Cell>\n                      <Table.Cell>{window.localStorage.getItem('loggedUser') &&\n                      <form onSubmit={this.remove(k)}><Button inverted color=\"red\" type=\"submit\">Delete</Button></form>}\n                      </Table.Cell>\n                    </Table.Row>))\n                }\n            </Table.Body>\n          </Table>\n        </div>\n      );\n    }\n}\nconst mapStateToProps = state => ({\n  kategoriat: state.kategoriat,\n});\nexport default connect(\n  mapStateToProps,\n  { getKategoriat },\n)(Kategoriat);\n\n","import React from 'react';\nimport { Item, Button, Divider } from 'semantic-ui-react'\n\nclass YleKategoriat extends React.Component {\n    state={\n      yle: false,\n    }\n    nayta = () => {\n      this.setState({\n        yle: !this.state.yle,\n      })\n    }\n    render() {\n      if (this.props.vastaukset) {\n        return (\n          <div>\n            <Button size=\"mini\" inverted color=\"blue\" onClick={this.nayta}>\n              <p>{!this.state.yle ?\n                <b>Näytä </b> : <b>Piilota </b>\n                  } kategoriaan linkitetyt ylen vaalikoneen kysymykset\n              </p>\n            </Button>\n            {this.state.yle &&\n            <div>\n              {this.props.vastaukset.vastaukset.map(k =>\n                (\n                  <Item style={{ background: 'AliceBlue' }}key={k}>{k}<Divider /></Item>))}\n              <Button basic onClick={this.nayta}>\n                Piilota kategoriaan linkitetyt ylen koneen kysymykset\n              </Button>\n            </div>\n                }\n          </div>\n        )\n      }\n      return (\n        null\n      )\n    }\n}\n\nexport default YleKategoriat\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Item } from 'semantic-ui-react'\nimport YleKategoriat from './YleKategoriat';\n\n\nclass Kategoria extends React.Component {\n  componentDidMount = () => {\n  }\n  render() {\n    if (this.props.kategoria) {\n      return (\n        <div className=\"container\">\n          <Item.Group>\n            <Item>\n              <Item.Content>\n                <Item.Header><h1>{this.props.kategoria.nimi}</h1></Item.Header>\n                <br />\n                <YleKategoriat vastaukset={this.props.kategoria} />\n              </Item.Content>\n            </Item>\n            {this.props.kategoria.kysymykset.map(k =>\n        (\n          <Item.Group key={k} divided unstackable>\n            <Link to={`/kysymykset/${this.props.kysymykset.find(x => x.id === k).id}`}>\n              {this.props.kysymykset.find(x => x.id === k).kysymys}\n            </Link>\n          </Item.Group>))}\n          </Item.Group>\n        </div>\n      )\n    }\n    return (\n      null\n    )\n  }\n}\n\n\nexport default Kategoria\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Item, Container, List, Button, Grid, Checkbox, TextArea, Divider, Table, Dropdown } from 'semantic-ui-react'\nimport { connect } from 'react-redux'\nimport kysymysService from './../../services/kysymys'\nimport TextEditor from '../form/TextEditon'\n\nclass Kysymys extends React.Component {\n  state = {\n    kategoriat: false,\n    muokkaa: false,\n    muokattava: null,\n    show: false,\n    puolueet: false,\n    edustajat: false,\n    hot: false,\n    asettelu: false,\n    booleans: false,\n    jaaLeftist: null,\n    jaaLiberal: null,\n    green: null,\n    kysymys: this.props.kysymys\n  }\n\n  componentDidMount = () => {\n    if (this.props.kysymys) {\n      this.setState({\n        hot: this.props.kysymys.hot,\n        asettelu: this.props.kysymys.kysymyksenAsettelu,\n        jaaLeftist: this.props.kysymys.jaaLeftist,\n        jaaLiberal: this.props.kysymys.jaaLiberal,\n        green: this.props.kysymys.green,\n      })\n    }\n  }\n\n  onSubmit = async (e) => {\n    let kysymys = this.props.kysymys\n    if (this.state.muokattava === 'kysymys') {\n      kysymys.kysymys = e.target.muutos.value\n    } if (this.state.muokattava === 'selitys') {\n      kysymys.selitys = e.target.muutos.value\n    } if (this.state.muokattava === 'explain') {\n      kysymys['explain'] = e.target.muutos.value\n    } \n    if (this.state.muokattava === 'tunniste') {\n      kysymys.tunniste = e.target.muutos.value\n    } if (this.state.muokattava === 'url') {\n      kysymys.url = e.target.muutos.value\n    } if (this.state.muokattava === 'yle') {\n      kysymys.vastaus = this.state.yleQuestion\n    } \n    \n    \n    if (typeof this.state.jaaLeftist === 'boolean') {\n      kysymys.jaaLeftist = this.state.jaaLeftist\n    } else {\n      kysymys.jaaLeftist = null\n    } \n    \n     if (typeof this.state.jaaLiberal === 'boolean') {\n      kysymys.jaaLiberal = this.state.jaaLiberal\n    } \n    else {\n      kysymys.jaaLiberal = null\n    } \n    if (typeof this.state.green === 'boolean') {\n      kysymys.green = this.state.green\n    } else {\n      kysymys.green = null\n    } \n\n    kysymys.hot = this.state.hot\n    kysymys.kysymyksenAsettelu = this.state.asettelu\n\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\n    kysymysService.setToken(JSON.parse(loggedUserJSON).token)\n    await kysymysService.modifyKysymys(kysymys.id, kysymys)\n    this.setState({\n      kategoriat: false,\n      muokkaa: false,\n      muokattava: null,\n    })\n  }\n  onKategoriat = async () => {\n    const kategoriat = []\n    this.props.kategoriat.map(k => (document.getElementById(k.nimi).checked\n      ? kategoriat.push(k) : null))\n\n    const kysymys = this.props.kysymys\n    kysymys.kategoriat = kategoriat.map(x => x.id)\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\n    kysymysService.setToken(JSON.parse(loggedUserJSON).token)\n\n    await kysymysService.modifyKysymys(kysymys.id, kysymys)\n  }\n\n  kategoriat = () => {\n    this.setState({\n      kategoriat: true,\n      muokkaa: false,\n    })\n  }\n\n  muokkaa = (x) => {\n    this.setState({\n      muokkaa: true,\n      kategoriat: false,\n      muokattava: x,\n      booleans: false,\n    })\n  }\n\n  show = () => {\n    this.setState({\n      show: !this.state.show,\n    });\n  }\n\n  showBooleans = () => {\n    this.setState({\n      hot: this.props.kysymys.hot,\n      asettelu: this.props.kysymys.kysymyksenAsettelu,\n      jaaLeftist: this.props.kysymys.jaaLeftist,\n      jaaLiberal: this.props.kysymys.jaaLiberal,\n      green: this.props.kysymys.green,\n    })\n    this.setState({\n      booleans: !this.state.booleans,\n      muokkaa: false,\n    });\n  }\n\n  puolueet = () => {\n    this.setState({\n      puolueet: !this.state.puolueet,\n    });\n  }\n  edustajat = () => {\n    this.setState({\n      edustajat: !this.state.edustajat,\n    });\n  }\n\n  handleHot = () => {\n    this.setState({\n      hot: !this.state.hot,\n    });\n  }\n\n  handleAsettelu = () => {\n    this.setState({\n      asettelu: !this.state.asettelu,\n    });\n  }\n\n  handleJaaLiberal = (value) => {\n    this.setState({\n      jaaLiberal: value,\n    });\n  }\n\n  handleJaaLeftist = (value) => {\n    this.setState({\n      jaaLeftist: value,\n    });\n  }\n\n  handleGreen = (value) => {\n    this.setState({\n      green: value,\n    });\n  }\n\n  disClick = (field) => {\n    this.setState({\n      [field]: null \n    })\n  }\n\n  showYle = () => {\n    this.setState({\n      yle: true,\n      muokattava: \"yle\"\n    })\n  }\n\n  handleYle = (e, data) => {\n    this.setState({\n      yleQuestion: data.value\n    })\n  }\n\n\n  render() {\n    console.log('sate', this.state);\n    \n    if (this.props.kysymys) {\n      const yles = this.props.yle.kysymykset.map(x => { return {text: x, value: x}})\n      return (\n        <Container>\n          <Grid>\n\n            {window.localStorage.getItem('loggedUser') &&\n            <div>\n              <Grid.Row>\n                <Grid.Column width={4} />\n                <Grid.Column width={12}>\n                  <Button.Group inverted color=\"blue\">\n                    <Button onClick={() => this.muokkaa('kysymys')}>Kysymys</Button>\n                    <Button.Or />\n                    <Button onClick={() => this.muokkaa('tunniste')}>Tunniste</Button>\n                    <Button.Or />\n                    <Button onClick={() => this.muokkaa('selitys')}>Selitys</Button>\n                    <Button.Or />\n                    <Button onClick={() => this.muokkaa('explain')}>Muotoiltu selitys</Button>\n                    <Button.Or />\n                    <Button onClick={() => this.showYle()}>Yle</Button>\n                    <Button.Or />\n                    <Button onClick={this.kategoriat}>Kategoriat</Button>\n                    <Button.Or />\n                    <Button onClick={() => this.muokkaa('url')}>Linkki</Button>\n                    <Button.Or />\n                    <Button onClick={() => this.showBooleans()}>\n                      Tärkeys,ristiriita, vihreys, Vas-Oik ja Kons-Lib\n                    </Button>\n                  </Button.Group>\n                </Grid.Column>\n              </Grid.Row>\n              {this.state.yle &&\n              <form onSubmit={this.onSubmit}>\n              <Dropdown placeholder='Valitse ylen kysymys' fluid selection onChange={(e, d) => this.handleYle(e, d)} options={yles} />\n                  <Button type=\"submit\" color=\"green\">Muokkaa</Button>\n                </form>\n            }\n\n              {this.state.booleans &&\n              <div>\n                <br />\n                <Checkbox\n                  toggle\n                  onChange={() => this.handleHot()}\n                  defaultChecked={this.state.hot}\n                  label=\"Keskeinen kysymys tällä hallituskaudella\"\n                />\n                <br />\n                <Checkbox\n                  defaultChecked={this.state.asettelu}\n                  toggle\n                  onChange={() => this.handleAsettelu()}\n                  label=\"Kysymyksen asettelu ristiriitainen ylen kysymykseen nähden\"\n                />\n                <br />\n                <Checkbox\n                  radio\n                  name=\"liberalRadioGroup\"\n                  checked={this.state.jaaLiberal === true}\n                  label=\"Jaa vastaus liberaali\"\n                  onChange={() => this.handleJaaLiberal(true)}\n                />\n                <Checkbox\n                  radio\n                  name=\"liberalRadioGroup\"\n                  checked={this.state.jaaLiberal === false}\n                  label=\"Jaa vastaus konservatiivinen\"\n                  onChange={() => this.handleJaaLiberal(false)}\n                />\n                <Checkbox\n                    radio\n                    name=\"liberalRadioGroup\"\n                    checked={this.state.jaaLiberal === null}\n                    label=\"Ei sovi\"\n                    onChange={() => this.disClick(\"jaaLiberal\")}\n                  />\n                <br />\n                <Checkbox\n                  radio\n                  checked={this.state.jaaLeftist === true}\n                  label=\"Jaa vastaus vasemmistolainen\"\n                  onChange={() => this.handleJaaLeftist(true)}\n                />\n                <Checkbox \n                  radio\n                  checked={this.state.jaaLeftist === false}\n                  label=\"Jaa vastaus oikeistolainen\"\n                  onChange={() => this.handleJaaLeftist(false)}\n                />\n                  <Checkbox\n                    radio\n                    name=\"liberalRadioGroup\"\n                    checked={this.state.jaaLeftist === null}\n                    label=\"Ei sovi\"\n                    onChange={() => this.disClick(\"jaaLeftist\")}\n                  />\n                 <br />\n                <Checkbox\n                  radio\n                  checked={this.state.green === true}\n                  label=\"Jaa vastaus vihreä\"\n                  onChange={() => this.handleGreen(true)}\n                />\n                <Checkbox\n                  radio\n                  checked={this.state.green === false}\n                  label=\"Ei vastaus vihreä\"\n                  onChange={() => this.handleGreen(false)}\n                />\n                  <Checkbox\n                    radio\n                    name=\"liberalRadioGroup\"\n                    checked={this.state.green === null}\n                    label=\"Ei sovi\"\n                    onChange={() => this.disClick(\"green\")}\n                  />\n                <br />\n                <br />\n                <form onSubmit={this.onSubmit}>\n                  <Button type=\"submit\" color=\"green\">Muokkaa tärkeys ja asettelu</Button>\n                </form>\n              </div>\n              }\n              {this.state.kategoriat &&\n              <Grid.Row>\n                <form onSubmit={this.onKategoriat}>\n                  {this.props.kategoriat.map(k =>\n                  (<Checkbox\n                    key={k.nimi}\n                    label={k.nimi}\n                    name=\"kategoriat\"\n                    id={k.nimi}\n                  />))}\n                  <br />\n                  <Button type=\"submit\" color=\"green\">Muokkaa</Button>\n                </form>\n              </Grid.Row>}\n              {this.state.muokkaa &&\n              <form onSubmit={this.onSubmit}>\n                <Grid.Row>\n                  {this.state.muokattava == 'explain' ?\n                  <TextEditor label='Selitys' /> :\n                  <TextArea name=\"muutos\" />}\n                </Grid.Row>\n                <Button type=\"submit\" color=\"green\">Muokkaa {this.state.muokattava}</Button>\n              </form>}\n            </div>}\n            <Grid.Row>\n              <Grid.Column width={12}>\n                <Item.Group divided>\n                  <Divider>Kysymys</Divider>\n                  <Item>\n                    <Item.Content>\n                      <Item.Header>{this.props.kysymys.kysymys} </Item.Header>\n                      <Item.Description>\n                        <Button size=\"mini\" basic onClick={this.show}>Lisätietoja</Button>\n                        {this.state.show && \n                        <div>\n                          <br/>\n                        <b>Jaa vastaus liberaali:</b> {typeof this.props.kysymys.jaaLiberal === 'boolean' && this.props.kysymys.jaaLiberal.toString()}\n                        <br />\n                        <b>Jaa vastaus vasemmistolainen:</b> {typeof this.props.kysymys.jaaLeftist == 'boolean' && this.props.kysymys.jaaLeftist.toString()}\n                        <br />\n                          <b>Jaa vastaus vihreä:</b> {typeof this.props.kysymys.green == 'boolean' && this.props.kysymys.green.toString()}\n                          <br />\n                       <br/>\n                       <h3> {this.props.kysymys.tunniste}</h3>\n                        \n                        {this.props.kysymys.selitys}\n                      \n                        </div>}\n                      </Item.Description>\n                      <br />\n                      <b>Kysymykseen linkitetty ylen vaalikoneen kysymys</b>\n                      <br />\n                      <br />\n                      <p>{this.props.kysymys.vastaus}</p>\n                      <List>\n                        <b>Kategoriat</b>\n                        <List.List>\n                          {this.props.kysymys.kategoriat.map(x =>\n                            (\n                              <List.Item as=\"li\" key={x._id}><Link to={`/kategoriat/${x._id}`}>{x.nimi}</Link>\n                              </List.Item>))}\n                        </List.List>\n                      </List>\n                      <List>\n                        <b>Puolueiden ja edustajien kannat</b>\n                        <br />\n                        <Button size=\"mini\" basic onClick={this.puolueet}>{this.state.puolueet ? 'Piilota' : 'Näytä'}</Button>\n                        {this.state.puolueet &&\n                        <Table>\n                          <Table.Body>\n                            {this.props.kysymys.puolueet.map(x =>\n                            (\n                              <Table.Row key={x.nimi}>\n                                <Table.Cell>{x.nimi}</Table.Cell>\n                                <Table.Cell>{x.kanta}</Table.Cell>\n                              </Table.Row>))}\n                          </Table.Body>\n                          <Table.Body>\n                            <Table.Row>\n                              <Table.Cell>\n                                <Button size=\"mini\" basic onClick={this.edustajat}>Edustajien kannat</Button>\n                              </Table.Cell>\n                            </Table.Row>\n                          </Table.Body>\n                          {this.state.edustajat &&\n                          <Table.Body>\n                            {this.props.kysymys.edustajat.map(x =>\n                            (\n                              <Table.Row key={x.nimi}>\n                                <Table.Cell>{x.nimi}</Table.Cell>\n                                <Table.Cell>{x.kanta}</Table.Cell>\n                              </Table.Row>))}\n                            <Table.Row>\n                              <Table.Cell>\n                                <Button size=\"mini\" basic onClick={this.edustajat}>Piilota edustajien kannat</Button>\n                              </Table.Cell>\n                            </Table.Row>\n                          </Table.Body>\n                          }\n\n                        </Table>\n                        }\n                      </List>\n                      <Item.Extra>\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.kysymys.url}>Linkki eduskunnan sivuille</a>\n                      </Item.Extra>\n                    </Item.Content>\n                  </Item>\n                </Item.Group>\n              </Grid.Column>\n              <Grid.Column width={3}>\n                <Grid.Row />\n\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row />\n          </Grid>\n        </Container>\n      )\n    }\n    return (\n      <div />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  kategoriat: state.kategoriat,\n  kayttaja: state.kayttaja,\n  yle: state.ylenKysymykset\n})\n\nexport default connect(\n  mapStateToProps,\n  {\n  },\n)(Kysymys)\n","import React from 'react';\nimport _ from 'lodash'\nimport { Link } from 'react-router-dom';\nimport { Button } from 'semantic-ui-react'\nimport TextArea from '../form/TextArea'\nimport Input from '../form/FormInput'\nimport kysymysService from './../../services/kysymys'\n\nclass Eu2019 extends React.Component {\n  state = {\n    answers: [],\n    parties: {\n      \"Group of the Greens/European Free Alliance\": {\n        opinion: null,\n        members: []\n      },\n      \"Group of the Progressive Alliance of Socialists and Democrats in the European Parliament\":{\n        opinion: null,\n        members: []\n      },\n      \"Group of the Alliance of Liberals and Democrats for Europe\": {\n        opinion: null,\n        members: []\n      },\n      \"Confederal Group of the European United Left - Nordic Green Left\":{\n        opinion: null,\n        members: []\n      },\n      \"Group of the European People s Party (Christian Democrats)\": {\n        opinion: null,\n        members: []\n      },\n      \"European Conservatives and Reformists Group\": {\n        opinion: null,\n        members: []\n      }\n    },\n    error: ''\n  }\n  onSubmit = async (e) => {\n    e.preventDefault()\n    const edustajat = this.finnishHtml(e.target.euFinnishHtml.value)\n    const puolueet = this.euPartiesHtml(e.target.euPartiesHtml.value)\n\n      this.setState({\n        question: e.target.question.value\n      })\n    \n    const toDB = {\n      kysymys: e.target.question.value,\n      puolueet: puolueet,\n      edustajat: edustajat,\n      selitys: e.target.details.value,\n      tunniste: \"eu2019\",\n      url: e.target.url.value,\n      vuosi: e.target.vuosi.value\n    }\n    console.log('haloo', );\n    \n    if (toDB.puolueet.length > 7 && toDB.puolueet.length < 11 && toDB.edustajat.length > 10 && toDB.edustajat.length < 20) {\n      const loggedUserJSON = window.localStorage.getItem('loggedUser')\n      \n      kysymysService.setToken(JSON.parse(loggedUserJSON).token)\n      await kysymysService.addKysymys(toDB)\n      window.location.reload()\n    } else {\n      this.setState({\n        error: \"tapahtui virhe\"\n      })\n    }\n   \n  }\n    \n   euPartiesHtml = (euHtml) => {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(euHtml, 'text/html');\n    if (!doc.getElementsByTagName('TBODY')[0]){\n      return false\n    }\n    let answers = []\n    const rows = doc.getElementsByTagName('TBODY')[0].rows;\n    for (let i = 0; i < rows.length; i = i + 1) {\n      let puolue = {\n        jaa: Number(rows[i].cells[1].innerText),\n        ei: Number(rows[i].cells[2].innerText),\n        tyhjia: Number(rows[i].cells[3].innerText),\n      }\n      \n      puolue.kanta=_.maxBy(_.keys(puolue), function (o) { return puolue[o]; });\n      puolue.yhteensa = rows[i].cells[4].innerText\n      puolue.nimi = rows[i].cells[0].innerText\n      puolue.poissa = 0\n      \n      answers.push(puolue)\n      this.setState({\n        partiesData: answers,\n      })\n    }\n    return answers\n  }\n\n  finnishHtml = (euFinnishHtml) => {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(euFinnishHtml, 'text/html');\n    if (!doc.getElementsByTagName('TBODY')[0]) {\n      return false\n    }\n    const rows = doc.getElementsByTagName('TBODY')[0].rows;\n    let answers = this.state.answers\n    for (let i = 0; i < rows.length; i = i + 1) {\n      answers.push({\n        nimi: rows[i].cells[0].firstChild.title,\n        puolue: rows[i].cells[1].firstChild.title,\n        kanta: rows[i].cells[3].firstChild.title,\n        loyal: rows[i].cells[4].firstChild.innerHTML\n      })\n      this.setState({\n        answers,\n      })\n    }\n    return answers\n  }\n\n  setParties = (councils) => {\n    councils.forEach(council => {\n      let copyParties = this.state.parties\n      const opinion = this.getOpinion(council)\n      copyParties[council.party].members.push({\n        name: council.name,\n        vote: council.vote\n      })\n      copyParties[council.party].opinion = opinion\n      this.setState({\n        parties: copyParties\n      })\n    })\n  }\n\n  getOpinion = (council) => {\n    if (council.loyal == ' Loyal') {\n      return council.vote\n    }\n    return false\n  }\n  render() {\n      return (\n        <div>\n          <form onSubmit={this.onSubmit} id=\"htmlform\">\n            <Input placeholder=\"url\" name=\"url\" label=\"Linkki asiakirjaan\"/>\n            <Input placeholder=\"vuosi\" name=\"vuosi\" label=\"vuosi\"/>\n            <TextArea placeholder=\"kysymys\" name=\"question\" label=\"Kysymys\"/>\n            <TextArea label=\"Tarkempi kuvaus kysymyksestä\" placeholder=\"details\" name=\"details\" />\n            <TextArea label=\"Suomalaiset mepit\" placeholder=\"html-elementti\" name=\"euFinnishHtml\" />\n            <TextArea label=\"Ryhmät\" placeholder=\"html-elementti ryhmistä\" name=\"euPartiesHtml\" />\n            <p style={{color: 'red', fontSize: '1.5em'}}>{this.state.error}</p>\n            <Button positive type=\"submit\" className=\"fluid ui button\">create</Button>\n          </form>\n        </div>\n\n      )\n  }\n}\n\nexport default Eu2019\n","import axios from 'axios'\n\nconst baseUrl = '/api/login'\n\nconst login = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }\n","\nconst userReducer = (store = '', action) => {\n  if (action.type === 'USER') {\n    return action.user\n  }\n  return store\n}\n\nexport const userLogin = content => async (dispatch) => {\n  dispatch({\n    type: 'USER',\n    user: content,\n  })\n}\n\nexport default userReducer\n","\nimport React from 'react'\nimport { Form, Button } from 'semantic-ui-react'\nimport { connect } from 'react-redux'\nimport loginService from '../services/login'\nimport { userLogin } from '../reducers/userReducer'\nimport kysymysService from '../services/kysymys'\n\n\nclass Login extends React.Component {\n    login = async (e) => {\n      e.preventDefault()\n      try {\n        const user = await loginService.login({\n          username: e.target.username.value,\n          password: e.target.password.value,\n        })\n        window.localStorage.setItem('loggedUser', JSON.stringify(user))\n        this.props.userLogin(user.username)\n        const loggedUserJSON = window.localStorage.getItem('loggedUser')\n        kysymysService.setToken(JSON.parse(loggedUserJSON).token)\n      } catch (exception) {\n        console.log('virhe')\n      }\n    }\n\n\n    render() {\n      return (\n        <div>\n          <h2>Kirjaudu</h2>\n\n          <form onSubmit={this.login}>\n            <div>\n        Käyttäjätunnus\n              <Form.Input\n                name=\"username\"\n              />\n            </div>\n            <div>\n        Salasana\n              <Form.Input\n                type=\"password\"\n                name=\"password\"\n              />\n            </div>\n            <br />\n            <Button inverted color=\"green\" type=\"submit\">Kirjaudu</Button>\n          </form>\n        </div>\n      )\n    }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user,\n})\n\n\nexport default connect(\n  mapStateToProps,\n  { userLogin },\n)(Login)\n","import kysymysService from '../services/kysymys'\n\nconst kysymyksetReducer = (store = [], action) => {\n  if (action.type === 'GET_ALL') {\n    return action.data\n  }\n  return store\n}\n\nexport const getKysymykset = () => async (dispatch) => {\n  const all = await kysymysService.getAll()\n  dispatch({\n    type: 'GET_ALL',\n    data: all,\n  })\n}\n\nexport default kysymyksetReducer\n","import React from 'react';\nimport { Accordion, Icon, Label, Segment } from 'semantic-ui-react'\nimport { Link } from 'react-router-dom';\nimport ReactGA from 'react-ga';\nimport '../../App.css'\n\nReactGA.initialize('UA-137723152-1');\nReactGA.pageview(window.location.pathname + window.location.search);\n\nclass EuroInfo extends React.Component {\n  state = {\n    activeIndex: \"\"\n  }\n\n  handleClick = (e, titleProps) => {\n    const { index } = titleProps\n    const { activeIndex } = this.state\n    const newIndex = activeIndex === index ? -1 : index\n\n    this.setState({ activeIndex: newIndex })\n  }\n\n  render() {\n    const { activeIndex } = this.state\n    return(\n    <div>\n      <h1>Tervetuloa</h1>\n      Eurovaalikausikoneella selvität mikä puolue on äänestänyt Euroopan parlamentissa lähimmäksi omia näkemyksiäsi.\n      <br/>\n      <br/>\n\n      Eurovaalikausikoneen kysymykset on valittu parlamentin äänestyksistä. Vastauksesi rinnastuvat puolueiden todelliseen äänestyskäyttäytymiseen.  \n      <br/>\n      <br/>\n      Varsinainen vaalikone ei tarjoa mahdollisuutta yksittäisten meppien äänestyskäyttäytymisen tarkasteluun. Voit kuitenkin tarkastella\n      eurovaalikoneesta löytyvien kysymysten vastauksia suomalaisten meppien osalta erillisessä osiossa.\n      <br/>\n      <br/>\n\n      Kysymysten ja datan lähteenä toimii <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.votewatch.eu\">VoteWatch Europe AISBL</a> \n      <br/>\n      <br/>\n        <Link\n          to=\"/eurovaalit\"\n        >\n          <button className=\"button\" style={{display: 'inline', marginBottom: '0.5em'}}>Eurovaalikausikone </button>\n        </Link>\n        <Link\n          to=\"/suomalaiset\"\n        >\n          <button className=\"button\" style={{display: 'inline', marginBottom: '0.5em'}}>Meppien vastaukset</button>\n        </Link>\n        <br />\n        <br />\n    </div>\n    )\n  }\n}\n\nexport default EuroInfo\n","import React from 'react';\nimport { Icon, Popup} from 'semantic-ui-react'\n\nconst parseQuestion = (q) => {\n    let slicedQ = (q.length > 50 && window.innerWidth < 700)? q.slice(0, 50) + '...' : q\n    return slicedQ\n  }\n\n  const parseQuestionOut = (q) => {\n    if (q.length > 200) {\n        let slicedQ = q.slice(0, 200) + '...'\n        return <h3 style={{textAlign: 'center'}}>{\n            slicedQ\n             } <Popup \n                 content={q}\n                 trigger={<Icon name='add' \n                 />} />\n               </h3>\n    }\n    return <h3 style={{textAlign: 'center'}}>{q}</h3>\n  }\n\n\nconst yleQuestions2019 = (yle2019) => {\n    console.log('haloo');\n    const back = yle2019.headers.slice(4,33).map(x => x = { text: parseQuestion(x), value: x })\n    return back\n} \n\nconst opinonsHelper = (yleOpionNumber) => {\n    let opinion = 'poissa'\n    switch (yleOpionNumber) {\n      case '1':\n        opinion = 'ei'\n        break\n      case '2':\n        opinion = 'ei'\n        break\n      case '4':\n        opinion = 'jaa'\n        break\n      case '5':\n        opinion = 'jaa'\n        break\n      default:\n        break\n    }\n    return opinion\n  }\n\nexport default { yleQuestions2019, parseQuestionOut, opinonsHelper }\n\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { Dimmer, Loader, Dropdown, Grid, Table} from 'semantic-ui-react'\nimport Parties from './Parties';\nimport {Pie} from 'react-chartjs-2';\nimport './parties.css'\nimport { getKysymykset } from '../../../reducers/kysymyksetReducer';\nimport { getYle2019 } from '../../../reducers/yle2019Reducer';\nimport { getKategoriat } from '../../../reducers/kategoriatReducer';\nimport { getYlenKysymykset } from '../../../reducers/ylenKysymyksetReducer';\nimport yleQuestions from '../../general/parseYleQuestions'\n\nclass Home extends React.Component {\n  state = {\n  }\n\n  componentDidMount = async () => {\n    this.props.getKysymykset();\n    this.props.getKategoriat();\n    this.props.getYle2019();\n    this.props.getYlenKysymykset();\n  }\n\n  handleChange(e, { name, value }) {\n    // If you are using babel, you can use ES 6 dictionary syntax\n    // let change = { [e.target.name] = e.target.value }\n    if (name && value) {\n      this.setState({ [name]: value })\n    } else {\n      const change = {}\n      change[e.target.name] = e.target.value\n      this.setState(change)\n    }\n  }\n\n  parseQuestion = (q) => {\n    let slicedQ = (q.length > 50 && window.innerWidth < 700)? q.slice(0, 50) + '...' : q\n    return slicedQ\n  }\n\n  parseParties = (party) => {\n    let puolue = party\n    switch (party) {\n      case 'kesk':\n        puolue = 'Keskusta'\n        break\n      case 'ps':\n        puolue = 'Perussuomalaiset'\n        break\n      case 'kok':\n        puolue = 'Kokoomus'\n        break\n      case 'sd':\n        puolue = 'SDP'\n        break\n      case 'vihr':\n        puolue = 'Vihreät'\n        break\n      case 'vas':\n        puolue = 'Vasemmistoliitto'\n        break\n      case 'r':\n        puolue = 'RKP'\n        break\n      case 'kd':\n        puolue = 'Kristillisdemokraatit'\n        break\n      case 'Nyt':\n        puolue = 'Liike Nyt'\n        break\n      default:\n        break\n    }\n    return puolue\n  }\n\n  singlePartyOpinion = (members, opinon, party) =>  {\n    if (opinon !== 'jaa' && opinon !== 'ei') {\n      return members.filter(mem => mem.puolue === party).filter(x => x.kanta.toLowerCase() == 'tyhja' || x.kanta.toLowerCase() == 'poissa').length\n    } \n    return members.filter(mem => mem.puolue === party).filter(x => x.kanta.toLowerCase() == opinon).length\n  }\n\n  singleYleOpinion = (party, opinon, question) => {\n    return party.filter(member => yleQuestions.opinonsHelper(member[question]) == opinon).length\n  }\n\n  render() {\n    const dropParties = Object.keys(this.props.yle2019.parties).map(party => {return {\n        text: party,\n        value: party\n    }})\n\n    const questions = this.props.questions.filter(q => q.createdAt != null).map(q => q = {text: q.kysymys, value: q.id})\n    \n    if (this.props.yle2019.members.length == 0){\n      return (\n        <Dimmer active>\n          <Loader indeterminate>searching data</Loader>\n        </Dimmer>\n      )\n    }\n\n    let members = []\n    if (this.state.qid) {\n        members = this.props.questions.find(q => q.id === this.state.qid).edustajat.map(x => ({\n            nimi: x.nimi.split('/')[0],\n            puolue: this.parseParties(x.nimi.split('/')[1]),\n            kanta: x.kanta\n          }))\n\n    }\n    \n    const yleQue = yleQuestions.yleQuestions2019(this.props.yle2019);\n     console.log(this.props);\n     \n    return(\n    \n      <div>\n        <div style={{marginLeft: '10%', marginRight: '10%'}}>\n        <h1 style={{textAlign: 'center', margin: '1.2em', marginTop: '0.5em'}}>Puolueet</h1>\n          <Parties />\n          <h2 style={{textAlign: 'center'}}>Vertaile puolueita</h2>\n          <p style={{textAlign: 'justify'}}>\n            Voit valita kaksi puoluetta ja vertailla niiden äänestyskäyttäytymistä ja vastauksia\n            vuoden 2019 Ylen vaalikonekysymykseen. Vaalikonevastauksissa on mukana myös varalla olijat, ja \n            melko samaa mieltä on tulkittu jaaksi ja melko eri mieltä eiksi.\n          </p>\n          <h4 style={{textAlign: 'center'}}>Puolue 1</h4>\n          <Dropdown search={false}  type=\"text\" name=\"party\" placeholder=\"Valitse puolue\" onChange={this.handleChange.bind(this)} fluid selection options={dropParties} />\n         \n          <h4 style={{textAlign: 'center'}}>Puolue 2</h4>\n          <Dropdown search={false}  type=\"text\" name=\"party2\" placeholder=\"Valitse puolue\" onChange={this.handleChange.bind(this)} fluid selection options={dropParties} />\n         \n          <h4 style={{textAlign: 'center'}}>Eduskunta äänestys</h4>\n          <Dropdown search={false} type=\"text\" name=\"qid\" placeholder=\"Valitse kysymys\" onChange={this.handleChange.bind(this)} fluid selection options={questions} />\n        \n          <h4 style={{textAlign: 'center'}}>Ylen vaalikonekysymys</h4>\n          <Dropdown search={false} type=\"text\" name=\"yleQuestion\" placeholder=\"Valitse vaalikonekysymys\" onChange={this.handleChange.bind(this)} fluid selection options={yleQue} />\n          </div>\n          {this.state.party &&\n          <Grid style={{marginTop: '2em'}}>\n              \n              {this.state.qid &&\n                <Grid.Row>\n                  <Grid.Column width={16}>\n                  <hr />\n                    {yleQuestions.parseQuestionOut(questions.find(x => x.value == this.state.qid).text)}\n                    </Grid.Column>\n                </Grid.Row>\n              } \n              {this.state.qid &&\n\n            <Grid.Row>\n              <Grid.Column width={8}>\n                <div className=\"parties-pie\">\n                  \n                    <Pie\n                    height={500}\n                        data = {{\n                            labels: [\n                                'Jaa (' + this.singlePartyOpinion(members, 'jaa', this.state.party) +')',\n                                'Tyhjä/Poissa (' + this.singlePartyOpinion(members, 'eos', this.state.party) +')',\n                                'Ei (' + this.singlePartyOpinion(members, 'ei', this.state.party) +')'\n                            ],\n                            datasets: [{\n                                data:[this.singlePartyOpinion(members, 'jaa', this.state.party ), this.singlePartyOpinion(members, 'eos', this.state.party), this.singlePartyOpinion(members, 'ei', this.state.party)],\n                                backgroundColor: [\"rgb(51, 204, 51)\", \"rgb(165, 165, 165)\",  \"rgb(255, 51, 0)\"]\n                            }\n                            ],\n                        }}\n                        options={{\n                          title: {\n                            display: true,\n                            text: this.state.party\n                           }\n                        }}\n                    />\n                  </div>\n               \n                </Grid.Column>\n                  <Grid.Column width={8}>\n                    <div className=\"parties-pie\">\n                        <Pie\n                            height={500}\n                            data = {{\n                                labels: [\n                                    'Jaa (' + this.singlePartyOpinion(members, 'jaa', this.state.party2) +')',\n                                    'Tyhjä/Poissa (' + this.singlePartyOpinion(members, 'eos', this.state.party2) +')',\n                                    'Ei (' + this.singlePartyOpinion(members, 'ei', this.state.party2) +')'\n                                ],\n                                datasets: [{\n                                    data:[this.singlePartyOpinion(members, 'jaa', this.state.party2), this.singlePartyOpinion(members, 'eos', this.state.party2), this.singlePartyOpinion(members, 'ei', this.state.party2)],\n                                    backgroundColor: [\"rgb(51, 204, 51)\", \"rgb(165, 165, 165)\",  \"rgb(255, 51, 0)\"]\n                                }\n                                ],\n                            }}\n                            options={{\n                              title: {\n                                display: true,\n                                text: this.state.party2\n                               }\n                            }}\n                        />\n                      </div>\n                  </Grid.Column>\n                \n          </Grid.Row>\n  }\n \n         \n          {this.state.yleQuestion &&\n             <Grid.Row>\n               <Grid.Column width={16}>\n               <hr />\n               {yleQuestions.parseQuestionOut(this.state.yleQuestion)} \n               </Grid.Column>\n            </Grid.Row>\n          }\n\n               \n        {this.state.yleQuestion &&\n                  <Grid.Row>\n                  <Grid.Column width={8}>\n                    <div className=\"parties-pie\">\n                      \n                        <Pie\n                        height={500}\n                            data = {{\n                                labels: [\n                                    'Jaa (' + this.singleYleOpinion(this.props.yle2019.parties[this.state.party], 'jaa', this.state.yleQuestion) +')',\n                                    'Tyhjä/Poissa (' +this.singleYleOpinion(this.props.yle2019.parties[this.state.party], 'poissa', this.state.yleQuestion) +')',\n                                    'Ei (' + this.singleYleOpinion(this.props.yle2019.parties[this.state.party], 'ei', this.state.yleQuestion) +')'\n                                ],\n                                datasets: [{\n                                    data:[this.singleYleOpinion(this.props.yle2019.parties[this.state.party], 'jaa', this.state.yleQuestion),\n                                    this.singleYleOpinion(this.props.yle2019.parties[this.state.party], 'poissa', this.state.yleQuestion), \n                                    this.singleYleOpinion(this.props.yle2019.parties[this.state.party], 'ei', this.state.yleQuestion)],\n                                    backgroundColor: [\"rgb(51, 204, 51)\", \"rgb(165, 165, 165)\",  \"rgb(255, 51, 0)\"]\n                                }\n                                ],\n                            }}\n                            options={{\n                              title: {\n                                display: true,\n                                text: this.state.party\n                              }\n                            }}\n                        />\n                      </div>\n                  \n                    </Grid.Column>\n                      <Grid.Column width={8}>\n                        <div className=\"parties-pie\">\n                            \n                        <Pie\n                        height={500}\n                            data = {{\n                                labels: [\n                                    'Jaa (' + this.singleYleOpinion(this.props.yle2019.parties[this.state.party2], 'jaa', this.state.yleQuestion) +')',\n                                    'Tyhjä/Poissa (' +this.singleYleOpinion(this.props.yle2019.parties[this.state.party2], 'poissa', this.state.yleQuestion) +')',\n                                    'Ei (' + this.singleYleOpinion(this.props.yle2019.parties[this.state.party2], 'ei', this.state.yleQuestion) +')'\n                                ],\n                                datasets: [{\n                                    data:[this.singleYleOpinion(this.props.yle2019.parties[this.state.party2], 'jaa', this.state.yleQuestion),\n                                    this.singleYleOpinion(this.props.yle2019.parties[this.state.party2], 'poissa', this.state.yleQuestion), \n                                    this.singleYleOpinion(this.props.yle2019.parties[this.state.party2], 'ei', this.state.yleQuestion)],\n                                    backgroundColor: [\"rgb(51, 204, 51)\", \"rgb(165, 165, 165)\",  \"rgb(255, 51, 0)\"]\n                                }\n                                ],\n                            }}\n                            options={{\n                              title: {\n                                display: true,\n                                text: this.state.party2\n                              }\n                            }}\n                        />\n                          </div>\n                      </Grid.Column>\n                    \n              </Grid.Row>\n                }\n\n\n          <Grid.Row>\n            <Grid.Column width={8}>\n              <Table celled>\n                <Table.Header>\n                  <Table.Row>\n                    <Table.HeaderCell>Edustaja</Table.HeaderCell>\n                    <Table.HeaderCell>Äänestys</Table.HeaderCell>\n                    <Table.HeaderCell>Vaalikonekysymys</Table.HeaderCell>\n                  </Table.Row>\n                </Table.Header>\n\n                <Table.Body>\n                {members.filter(mem => mem.puolue === this.state.party).map(x => \n                      <Table.Row>\n                      <Table.Cell>\n                        {x.nimi}\n                      </Table.Cell>\n                      <Table.Cell>{x.kanta}</Table.Cell>\n                      <Table.Cell>{this.state.yleQuestion &&\n                        this.props.yle2019.parties[this.state.party].find(mem => mem.sukunimi + mem.etunimi == x.nimi) && \n                        yleQuestions.opinonsHelper(this.props.yle2019.parties[this.state.party].find(mem => mem.sukunimi + mem.etunimi == x.nimi)[this.state.yleQuestion])\n                      }</Table.Cell>\n                      </Table.Row>\n                      )}\n                  </Table.Body>\n              </Table>\n            \n            </Grid.Column>\n            <Grid.Column width={8}>\n              <Table celled>\n                <Table.Header>\n                  <Table.Row>\n                    <Table.HeaderCell>Edustaja</Table.HeaderCell>\n                    <Table.HeaderCell>Äänestys</Table.HeaderCell>\n                    <Table.HeaderCell>Vaalikonekysymys</Table.HeaderCell>\n                  </Table.Row>\n                </Table.Header>\n\n                <Table.Body>\n                {members.filter(mem => mem.puolue === this.state.party2).map(x => \n                      <Table.Row>\n                      <Table.Cell>\n                        {x.nimi}\n                      </Table.Cell>\n                      <Table.Cell>{x.kanta}</Table.Cell>\n                      <Table.Cell>{this.state.yleQuestion &&\n                        this.props.yle2019.parties[this.state.party2].find(mem => mem.sukunimi + mem.etunimi == x.nimi) && \n                        yleQuestions.opinonsHelper(this.props.yle2019.parties[this.state.party2].find(mem => mem.sukunimi + mem.etunimi == x.nimi)[this.state.yleQuestion])\n                      }</Table.Cell>\n                      </Table.Row>\n                      )}\n                  </Table.Body>\n              </Table>\n            \n            </Grid.Column>\n          </Grid.Row>\n\n        </Grid>\n       }\n         \n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n    user: state.user,\n    questions: state.kysymykset,\n    kategoriat: state.kategoriat,\n    yle2019: state.yle2019\n  });\n  \n  export default connect(\n    mapStateToProps,\n    {\n      getKysymykset,\n      getKategoriat,\n      getYlenKysymykset,\n      getYle2019\n    },\n  )(Home);","import React from 'react';\nimport { Input, TextArea, Button, Dropdown } from 'semantic-ui-react'\nimport kysymysService from '../../../services/kysymys'\nimport speakService from '../../../services/speak'\n\n\nclass AddSpeak extends React.Component {\n    state = {\n        explainQuestion: '',\n        url: '',\n        html: '',\n        details: '',\n        data: [],\n        questions: [],\n        question: null\n    }\n\n    componentWillMount = async () => {\n        const questions = await kysymysService.getAll()\n        this.setState({questions})\n    }\n\n    componentDidMount = () => {\n        if (this.props.speak) {\n            this.setState(this.props.speak)\n        }\n    }\n\n    handleChange = (e) => {\n        console.log('e', e);\n        \n        this.setState({[e.target.name]: e.target.value })\n    }\n\n    handleQuestionChange(e, { name, value }) {\n        this.setState({ [name]: value })\n    }\n\n    saveSpeak = async () => {\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(this.state.html, 'text/html');\n        console.log('doc', doc);\n        const questionExplain = doc.getElementById('KohtaNimeke').children[0].innerHTML\n\n        let data = []\n        const speaks = doc.getElementsByClassName(\"PuheenvuoroToimenpide\")\n        for (let i = 0; i < speaks.length; i = i + 1) {\n            const htmlSpeak = parser.parseFromString( speaks[i].innerHTML, 'text/html');\n            let speaksOutsArray = []\n            const speaksOut = htmlSpeak.getElementsByClassName('KappaleKooste')\n            for (let i = 0; i < speaksOut.length; i = i + 1) {\n                speaksOutsArray.push(speaksOut[i].innerHTML);\n            }\n            let speak = {\n                first: htmlSpeak.getElementById(\"EtuNimi\").innerHTML,\n                last: htmlSpeak.getElementsByClassName(\"SukuNimi\")[0].innerHTML,\n                party: htmlSpeak.getElementById(\"LisatietoTeksti\") && htmlSpeak.getElementById(\"LisatietoTeksti\").innerHTML,\n                status: htmlSpeak.getElementById(\"AsemaTeksti\") && htmlSpeak.getElementById(\"AsemaTeksti\").innerHTML,\n                speaks: speaksOutsArray\n            }\n            \n            data.push(speak)\n        }\n\n        const speakToAdd = {\n            question: this.state.question,\n            explainQuestion: questionExplain,\n            details: this.state.details,\n            data: data,\n            html: this.state.html,\n            url: this.state.url\n        }\n        const loggedUserJSON = window.localStorage.getItem('loggedUser')\n        speakService.setToken(JSON.parse(loggedUserJSON).token)\n        if (this.props.speak) {\n            await speakService.editSpeak(this.state.id, speakToAdd)\n        } else {\n            await speakService.addSpeak(speakToAdd)\n        }\n        this.setState({done: 'done'})\n    }\n    \n    render() {\n        console.log('e', this.state);\n        let questions = this.state.questions.map(x => x = { value: x.id, text: x.kysymys})\n        questions.push({text: 'Ei sovi', value: null})\n        \n        return(\n            <div>\n                <h2>Lisää keskustelu</h2>\n                {this.state.done && <h2>DONE if success</h2>}\n                <Input \n                    value={this.state.explainQuestion}\n                    placeholder='Avaa aihe' name='explainQuestion' onChange={(e) => this.handleChange(e)} />\n                <br />\n                <Input \n                    value={this.state.details}\n                    placeholder='Tarkempi kuvaus' name='details' onChange={(e) => this.handleChange(e)} />\n                <br />\n                <Input \n                    value={this.state.url}\n                    placeholder='Sivusto' name='url' onChange={(e) => this.handleChange(e)} />\n\n\n                <Dropdown \n                    type=\"text\" \n                    name=\"question\" \n                    placeholder=\"Valitse kysymys\" \n                    onChange={this.handleQuestionChange.bind(this)} \n                    fluid\n                    search \n                    selection \n                    value={this.state.question}\n                    options={questions} \n                />\n                <div style={{marginTop: '2em'}}>\n                    <TextArea \n                        value={this.state.html}\n                        placeholder='Html element' name='html' onChange={(e) => this.handleChange(e)} />\n                </div>\n                  <Button onClick={() => this.saveSpeak()}>{this.props.speak ? 'Muokkaa' : 'Lisää keskustelu'}</Button>\n            </div>\n        )\n    }\n}\n\nexport default AddSpeak","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Table, Button } from 'semantic-ui-react';\nimport speakService from '../../../services/speak';\n\nconst linkStyle = {\n  color: 'black',\n  fontSize: 14,\n  fontWeight: 'normal',\n};\n\nclass Speaks extends React.Component {\n    state = {\n        speaks: []\n    }\n\n    componentDidMount = async () => {\n        const speaks = await speakService.getAll()\n        this.setState({speaks})\n    }\n\n    remove = k => () => {\n      const ok = window.confirm(`Poistetaanko ${k.speak} kysymys`);\n\n      if (!ok) {\n        return;\n      }\n      try {\n        const loggedUserJSON = window.localStorage.getItem('loggedUser');\n        speakService.setToken(JSON.parse(loggedUserJSON).token);\n        speakService.remove(k.id);\n      } catch (error) {\n        console.log('jotain meni vikaan');\n      }\n    }\n\n    render() {\n      return (\n        <div>\n            <Table celled>\n            <Table.Header>\n                <Table.Row>\n                <Table.HeaderCell positive>Keskustelu</Table.HeaderCell>\n                {window.localStorage.getItem('loggedUser') &&\n                <Table.HeaderCell>Poisto</Table.HeaderCell>}\n                </Table.Row>\n            </Table.Header>\n            <Table.Body>\n                {this.state.speaks.map(k =>\n                    (\n                        <Table.Row key={k.id}>\n                        <Table.Cell selectable><Link style={linkStyle} to={`/speaks/${k.id}`}>{k.explainQuestion}</Link></Table.Cell>\n                        <Table.Cell>{window.localStorage.getItem('loggedUser') === null ?\n                    null : <form onSubmit={this.remove(k)}><Button inverted color=\"red\" type=\"submit\">Delete</Button></form>}\n                        </Table.Cell>\n                        </Table.Row>))}\n            </Table.Body>\n            </Table>\n        </div>\n      );\n    }\n}\n\nexport default Speaks","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Table, Button } from 'semantic-ui-react';\nimport speakService from '../../../services/speak';\nimport AddSpeak from './AddSpeak';\n\nconst linkStyle = {\n  color: 'black',\n  fontSize: 14,\n  fontWeight: 'normal',\n};\n\nclass Speaks extends React.Component {\n    state = {\n    }\n\n    componentDidMount = async () => {\n        const speak = await speakService.getOne(this.props.speakId)\n        this.setState({speak})\n        document.getElementById('speakHtml').innerHTML = speak.html\n    }\n\n    render() {\n        \n      return (\n        <div>\n          {this.state.speak && <AddSpeak speak={this.state.speak} />}\n          <div id='speakHtml'></div>\n          <pre>\n          {JSON.stringify(this.state.speak, undefined, 2)}\n          </pre>\n        </div>\n      );\n    }\n}\n\nexport default Speaks","import React from 'react';\nimport { BrowserRouter as Router, Route, NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport HtmlForm from './components/form/HtmlForm';\nimport SipilaHome from './components/SipilaHome';\nimport Home from './components/Home';\nimport Info from './components/Info';\nimport MachineMenu from './components/MachineMenu';\nimport SipilaSettings from './components/SipilaSettings';\nimport EuroSettings from './components/europa/euroSettings';\nimport NolansMap from './components/nolansMap/NolansMap';\nimport Questions from './components/questions/Questions';\nimport EtsiVastaus from './components/yle/FindAnswer'\nimport Dispersion from './components/yle/2019/OpinionChart'\nimport HeadsUpYle from './components/yle/2019/HeadsUpYle'\nimport Promises from './components/yle/partiesPromises'\nimport Kategoriat from './components/kategoriat/Kategoriat';\nimport Kategoria from './components/kategoriat/Kategoria';\nimport Question from './components/questions/Question';\nimport Eu2019 from './components/europa/Eu2019';\nimport Login from './components/Login';\nimport { getKysymykset } from './reducers/kysymyksetReducer';\nimport { getYle2019 } from './reducers/yle2019Reducer';\nimport { getKategoriat } from './reducers/kategoriatReducer';\nimport { getYlenKysymykset } from './reducers/ylenKysymyksetReducer';\nimport { Grid, Label } from 'semantic-ui-react';\nimport FinnishMembers from './components/europa/FinnishMembers';\nimport EuroInfo from './components/europa/EuroInfo';\nimport './App.css';\nimport './css/BasicMenu.css';\n\nimport ParseFunds from './components/parliament2019/funds/parseFundFile';\nimport PartiesHome from './components/parliament2019/parties/PartiesHome';\nimport AddSpeak from './components/parliament2019/speaks/AddSpeak';\nimport Speaks from './components/parliament2019/speaks/Speaks';\nimport Speak from './components/parliament2019/speaks/Speak';\nimport SpeakExpoler from './components/general/SpeakExploer';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n      yle: []\n    };\n  }\n\n  componentDidMount = async () => {\n    this.props.getKysymykset();\n    this.props.getKategoriat();\n    this.props.getYle2019();\n    this.props.getYlenKysymykset();\n  }\n\n  kysymysById = id => (\n    this.props.kysymykset.find(k => k.id === id)\n  )\n\n  kategoriaById = id => (\n    this.props.kategoriat.find(k => k.id === id)\n  )\n\n\n  logout = () => {\n    window.localStorage.removeItem('loggedUser');\n    window.location.assign('/')\n  }\n\n  show = () => {\n    this.setState({\n      show: !this.state.show,\n    });\n  }\n\n  render() {\n\n    var prevScrollpos = window.pageYOffset;\n    window.onscroll = function() {\n    var currentScrollPos = window.pageYOffset;\n      if (prevScrollpos > currentScrollPos && document.getElementById(\"navbar\") && document.getElementById(\"footer\")) {\n        document.getElementById(\"navbar\").style.top = \"0\";\n        document.getElementById(\"footer\").style.bottom = \"0\";\n      } else if(document.getElementById(\"navbar\") && document.getElementById(\"footer\")) {\n        document.getElementById(\"navbar\").style.top = \"-10em\";\n        document.getElementById(\"footer\").style.bottom = \"-4em\";\n      }\n      prevScrollpos = currentScrollPos;\n    }\n    const active = {fontWeight: \"bold\"}\n    return (\n      <Router>\n        <div>\n          <Grid.Row>\n            <Grid.Column \n              width={16}\n              style={{\n                background: 'white',\n                minHeight: '100vh',\n                padding: 0,\n                boxShadow: \"0 4px 8px 0 rgba(0,0,0,0.2)\" \n              }}\n              >\n              <div>\n                <div className='menu-content' id='navbar'>\n                  <a className='logo-link' onClick={() => window.location.href = '/'}>\n                    <img \n                      src=\"https://i.imgur.com/mEEvD3i.png\" \n                      className='menu-logo'\n                    />\n                  </a>\n                  <div className=\"menu-links\">\n                  <NavLink to='/koneet' className=\"menu-link\">\n                    Koneet\n                  </NavLink>\n                  <NavLink to='/puolueet' className=\"menu-link\">\n                    Puolueet\n                  </NavLink>\n                  \n                  {/* <NavLink to='/info' className=\"menu-link\">\n                    Edustajat\n                  </NavLink> */}\n                  <NavLink to='/info' className=\"menu-link\">\n                    Info\n                  </NavLink>\n                  <NavLink to='/kulmunivssaarikko' className=\"menu-link\">\n                    <Label color='green' style={{marginBottom: '1em'}}>\n                      Keskustan kisa\n                    </Label>\n                  </NavLink>\n                      {window.localStorage.getItem('loggedUser') &&\n                      <span style={{marginTop: '1em'}}>\n                            <NavLink className=\"menu-log\" activeStyle={active} to=\"/kysymykset\">\n                              <span ref=\"kysymykset\">Muokkaa kysymyksiä</span>\n                            </NavLink>\n                            <NavLink className=\"menu-log\" activeStyle={active} to=\"/kategoriat\">\n                              Kategoriat\n                            </NavLink>\n                            <NavLink className=\"menu-log\" activeStyle={active} to=\"/lisaa\">\n                             Uusi kysymys\n                            </NavLink>\n                            <NavLink className=\"menu-log\" activeStyle={active} to=\"/addSpeak\">\n                             Lisää keskustelu\n                            </NavLink>\n                            <NavLink className=\"menu-log\" activeStyle={active} to=\"/speaks\">\n                              <span ref=\"kysymykset\">Muokkaa keskusteluja</span>\n                            </NavLink>\n                            <button style={{marginLeft: '1em', marginTop: '1em'}} onClick={() => this.logout()} size=\"tiny\" type=\"submit\"> Kirjaudu ulos</button>\n                        </span>\n                        }\n                    </div>\n                </div>\n                <div>\n                  <div\n                    id=\"routet\"\n                    className=\"routet\"\n                  >\n                    <Route exact path=\"/funds\" render={(history) => <ParseFunds history={history}/>} />\n                    <Route exact path=\"/\" render={(history) => <Home history={history}/>} />\n                    <Route exact path=\"/koneet\" render={(history) => <MachineMenu history={history}/>} />\n                    <Route exact path=\"/suomalaiset\" render={(history) => <FinnishMembers history={history}/>} />\n                    <Route exact path=\"/info\" render={(history) => <Info history={history}/>} />\n                    <Route exact path=\"/euroinfo\" render={(history) => <EuroInfo history={history}/>} />\n                    <Route exact path=\"/vaalikausi\" render={(history) => <SipilaHome history={history}/>} />\n                    <Route exact path=\"/lupaukset\" render={({ history }) => <Promises history={history} />} />\n                    <Route exact path=\"/kategoriat\" render={history => <Kategoriat history={history} />} />\n                    <Route exact path=\"/kysymykset\" render={history => <Questions history={history}/>} />\n                    <Route exact path=\"/kone\" render={history => <SipilaSettings history={history}/>} />\n                    <Route exact path=\"/vastaukset\" render={history => <EtsiVastaus history={history}/>} />\n                    <Route exact path=\"/graaffit\" render={history => <NolansMap history={history}/>} />\n                    <Route exact path=\"/login\" render={({ history }) => <Login history={history} />} />\n                    <Route exact path=\"/hajontakaavio\" render={({ history }) => <Dispersion history={history} />} />\n                    <Route exact path=\"/eu2019\" render={({ history }) => <Eu2019 history={history} />} />\n                    <Route exact path=\"/eurovaalit\" render={({ history }) => <EuroSettings history={history} />} />\n                    <Route exact path=\"/puolueet\" render={({ history }) => <PartiesHome history={history} />} />\n                    <Route exact path=\"/kulmunivssaarikko\" render={({ history }) => <HeadsUpYle history={history} />} />\n                    <Route exact path=\"/addSpeak\" render={({ history }) => <AddSpeak history={history} />} />\n                    <Route exact path=\"/speaks\" render={({ history }) => <Speaks history={history} />} />\n\n                    {window.localStorage.getItem('loggedUser') &&\n                    <div>\n                      <Route path=\"/lisaa\" render={({ history }) => <HtmlForm history={history} />} />\n                    </div>\n                        }\n                    <Route\n                      exact\n                      path=\"/kysymykset/:id\"\n                      render={({ match }) =>\n                        <Question kysymys={this.kysymysById(match.params.id)} />}\n                    />\n                    <Route\n                      exact\n                      path=\"/speaks/:id\"\n                      render={({ match }) =>\n                        <Speak speakId={match.params.id} />}\n                    />\n                    <Route\n                      exact\n                      path=\"/keskustelu/:id\"\n                      render={({ match }) =>\n                        <SpeakExpoler speakId={match.params.id} />}\n                    />\n                    <Route\n                      exact\n                      path=\"/kategoriat/:id\"\n                      render={({ match }) =>\n                    (<Kategoria\n                      kategoria={this.kategoriaById(match.params.id)}\n                      kysymykset={this.props.kysymykset}\n                    />)\n                  }\n                    />\n                </div>\n                  <div className='footer' id='footer'>\n                    <div className='footer-left'>\n                      Vaalikausikone RY\n                    </div>\n                    <div className='footer-right'>\n                      <a href='https://twitter.com/vaalikausikone' target='_blank'>Twitter</a>\n                      <span style={{marginLeft: '1em', marginRight: '1em'}}>|</span>\n                      <a href='https://www.facebook.com/vaalikausikone/' target='_blank'>Facebook</a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n            </Grid.Column>\n          </Grid.Row>\n         </div>\n      </Router>\n    );\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  kysymykset: state.kysymykset,\n  kategoriat: state.kategoriat,\n  ylenKysymykset: state.ylenKysymykset\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    getKysymykset,\n    getKategoriat,\n    getYlenKysymykset,\n    getYle2019\n  },\n)(App);\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport htmlReducer from './reducers/htmlReducer';\nimport kysymysReducer from './reducers/kysymysReducer';\nimport kysymyksetReducer from './reducers/kysymyksetReducer';\nimport notifyReducer from './reducers/notifyReducer';\nimport userReducer from './reducers/userReducer';\nimport kayttajaReducer from './reducers/kayttajaReducer';\nimport kategoriatReducer from './reducers/kategoriatReducer';\nimport edustajaReducer from './reducers/edustajaReducer'\nimport ylenKysymyksetReducer from './reducers/ylenKysymyksetReducer'\nimport yle2019Reducer from './reducers/yle2019Reducer'\n\n\nconst reducer = combineReducers({\n  html: htmlReducer,\n  kysymys: kysymysReducer,\n  notify: notifyReducer,\n  kysymykset: kysymyksetReducer,\n  user: userReducer,\n  kayttaja: kayttajaReducer,\n  kategoriat: kategoriatReducer,\n  edustaja: edustajaReducer,\n  ylenKysymykset: ylenKysymyksetReducer,\n  yle2019: yle2019Reducer,\n});\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(thunk),\n)\n\nexport default store;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App store={store} />\n  </Provider>,\n  document.getElementById('root'),\n)\n\n"],"sourceRoot":""}